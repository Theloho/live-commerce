# FEATURE_REFERENCE_MAP.md - Part 1 (ì£¼ë¬¸ + ìƒí’ˆ)

**âš ï¸ ì´ íŒŒì¼ì€ ì „ì²´ ë¬¸ì„œì˜ Part 1ì…ë‹ˆë‹¤**
- **Part 1**: ê°œìš” + ì£¼ë¬¸ ê´€ë ¨ + ìƒí’ˆ ê´€ë ¨ â† **í˜„ì¬ íŒŒì¼**
- **Part 2**: Variant + ì‚¬ìš©ì + ì¸ì¦ + ê³µê¸‰ì—…ì²´
- **Part 3**: ë°°ì†¡ + ì¿ í° + í†µê³„

**âš ï¸ íŒŒì¼ í¬ê¸° ì œí•œ ì£¼ì˜:**
- **ì´ íŒŒì¼ì€ 25,000 í† í°ì„ ì´ˆê³¼í•˜ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤** (Claude ì½ê¸° ì œí•œ)
- ë‚´ìš© ì¶”ê°€ ì‹œ íŒŒì¼ í¬ê¸° í™•ì¸ í•„ìˆ˜
- 25,000 í† í° ê·¼ì ‘ ì‹œ â†’ **ê¸°ëŠ¥ì„ PART4ë¡œ ë¶„ë¦¬**í•˜ê³  ì¸ë±ìŠ¤ íŒŒì¼ ì—…ë°ì´íŠ¸

**ëª©ì **: ëª¨ë“  ê¸°ëŠ¥ì˜ ì˜í–¥ë„ì™€ ì—°ê´€ì„±ì„ í•œëˆˆì— íŒŒì•…
**ì—…ë°ì´íŠ¸**: 2025-10-08
**ê¸°ì¤€**: ë³¸ì„œë²„ ì½”ë“œ (main ë¸Œëœì¹˜) - CODEBASE_STRUCTURE_REPORT.md ë°˜ì˜
**ë²„ì „**: 2.0
**ì‹¤ì œ ì½”ë“œë² ì´ìŠ¤**: 128ê°œ íŒŒì¼, 36ê°œ í˜ì´ì§€, 67ê°œ API ì—”ë“œí¬ì¸íŠ¸

---

## ğŸ“– ì‚¬ìš© ë°©ë²•

### ê°œë°œììš©
1. ê¸°ëŠ¥ ìˆ˜ì • ì „ í•´ë‹¹ ì„¹ì…˜ ì½ê¸°
2. "ì˜í–¥ë°›ëŠ” í˜ì´ì§€" ëª¨ë‘ í™•ì¸
3. "ì—°ê´€ ê¸°ëŠ¥" í…ŒìŠ¤íŠ¸ í•„ìš”
4. "í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸" ì™„ë£Œ

### Claudeìš©
1. `/system-check` ì‹¤í–‰ ì‹œ ì´ ë¬¸ì„œ ì°¸ì¡°
2. ìˆ˜ì • ì „ ìë™ìœ¼ë¡œ ì˜í–¥ë„ ë¶„ì„
3. ì²´í¬ë¦¬ìŠ¤íŠ¸ ê¸°ë°˜ ê²€ì¦

---

## ğŸ¯ ê¸°ëŠ¥ ë¶„ë¥˜

### 1. ì£¼ë¬¸ ê´€ë ¨ (20ê°œ ê¸°ëŠ¥)
- 1.1 ì£¼ë¬¸ ìƒì„± â­ [ì£¼ìš”]
- 1.2 ì£¼ë¬¸ ì¡°íšŒ (ì‚¬ìš©ì) [ì¼ë°˜]
- 1.3 ì£¼ë¬¸ ì¡°íšŒ (ê´€ë¦¬ì) [ì¼ë°˜]
- 1.4 ì£¼ë¬¸ ìƒì„¸ ì¡°íšŒ [ì¼ë°˜]
- 1.5 ì£¼ë¬¸ ìƒíƒœ ë³€ê²½ â­ [ì£¼ìš”]
- 1.6 ì¼ê´„ ìƒíƒœ ë³€ê²½ â­ [ì£¼ìš”]
- 1.7 ì£¼ë¬¸ ì·¨ì†Œ â­ [ì£¼ìš”]
- 1.8 í™˜ë¶ˆ ì²˜ë¦¬ [ì¼ë°˜]
- 1.9 ì£¼ë¬¸ ì•„ì´í…œ ìˆ˜ëŸ‰ ë³€ê²½ [ì¼ë°˜]
- 1.10 ì£¼ë¬¸ë²ˆí˜¸ ìƒì„± [ì¼ë°˜]
- 1.11 ê·¸ë£¹ ì£¼ë¬¸ë²ˆí˜¸ ìƒì„± [ì¼ë°˜]
- 1.12 ì…ê¸ˆ í™•ì¸ [ì¼ë°˜]
- 1.13 ë°°ì†¡ ì²˜ë¦¬ [ì¼ë°˜]
- 1.14 ë°°ì†¡ ì™„ë£Œ [ì¼ë°˜]
- 1.15 ì£¼ë¬¸ ê²€ìƒ‰ [ì¼ë°˜]
- 1.16 ì£¼ë¬¸ í•„í„°ë§ [ì¼ë°˜]
- 1.17 ì£¼ë¬¸ í†µê³„ [ì¼ë°˜]
- 1.18 ì£¼ë¬¸ ì—‘ì…€ ë‹¤ìš´ë¡œë“œ [ì¼ë°˜]
- 1.19 ì¼ê´„ê²°ì œ ì²˜ë¦¬ â­ [ì£¼ìš”]
- 1.20 ê²°ì œ ìˆ˜ë‹¨ ë³€ê²½ [ì¼ë°˜]

### 2. ìƒí’ˆ ê´€ë ¨ (18ê°œ ê¸°ëŠ¥)
- 2.1 ìƒí’ˆ ë“±ë¡ â­ [ì£¼ìš”]
- 2.2 ìƒí’ˆ ìˆ˜ì • â­ [ì£¼ìš”]
- 2.3 ìƒí’ˆ ì‚­ì œ [ì¼ë°˜]
- 2.4 ìƒí’ˆ ì¡°íšŒ (ì‚¬ìš©ì) [ì¼ë°˜]
- 2.5 ìƒí’ˆ ì¡°íšŒ (ê´€ë¦¬ì) [ì¼ë°˜]
- 2.6 ìƒí’ˆ ë‹¨ì¼ ì¡°íšŒ [ì¼ë°˜]
- 2.7 ìƒí’ˆ ê²€ìƒ‰ [ì¼ë°˜]
- 2.8 ìƒí’ˆ í•„í„°ë§ [ì¼ë°˜]
- 2.9 ì¹´í…Œê³ ë¦¬ ê´€ë¦¬ [ì¼ë°˜]
- 2.10 ìƒí’ˆ ì´ë¯¸ì§€ ì—…ë¡œë“œ [ì¼ë°˜]
- 2.11 ìƒí’ˆ ë…¸ì¶œ ì„¤ì • [ì¼ë°˜]
- 2.12 ìƒí’ˆ ì •ë ¬ [ì¼ë°˜]
- 2.13 ë¼ì´ë¸Œ ìƒíƒœ ë³€ê²½ [ì¼ë°˜]
- 2.14 ë¼ì´ë¸Œ ë“±ë¡ [ì¼ë°˜]
- 2.15 ë¼ì´ë¸Œ í•´ì œ [ì¼ë°˜]
- 2.16 ë¼ì´ë¸Œ ìš°ì„ ìˆœìœ„ ë³€ê²½ [ì¼ë°˜]
- 2.17 ìƒí’ˆ ì¬ê³  ê´€ë¦¬ [ì¼ë°˜]
- 2.18 ì˜µì…˜ í¬í•¨ ìƒí’ˆ ìƒì„± â­ [ì£¼ìš”]

### 3. Variant/ì˜µì…˜ ê´€ë ¨ (12ê°œ ê¸°ëŠ¥)
- 3.1 Variant ìƒì„± â­ [ì£¼ìš”]
- 3.2 Variant ì¬ê³  ê´€ë¦¬ â­ [ì£¼ìš”]
- 3.3 Variant ì¬ê³  í™•ì¸ â­ [ì£¼ìš”]
- 3.4 ì˜µì…˜ ì¡°í•© ìƒì„± [ì¼ë°˜]
- 3.5 SKU ìë™ ìƒì„± [ì¼ë°˜]
- 3.6 ì˜µì…˜ë³„ ê°€ê²© ì„¤ì • [ì¼ë°˜]
- 3.7 ì˜µì…˜ë³„ ì¬ê³  ì…ë ¥ [ì¼ë°˜]
- 3.8 ì˜µì…˜ ì¶”ê°€ [ì¼ë°˜]
- 3.9 ì˜µì…˜ ì‚­ì œ [ì¼ë°˜]
- 3.10 ì˜µì…˜ ê°’ ìˆ˜ì • [ì¼ë°˜]
- 3.11 ì˜µì…˜ ì¡°íšŒ [ì¼ë°˜]
- 3.12 ì˜µì…˜ê°’ ìƒì„± [ì¼ë°˜]

### 4. ì‚¬ìš©ì/í”„ë¡œí•„ ê´€ë ¨ (10ê°œ ê¸°ëŠ¥)
- 4.1 í”„ë¡œí•„ ì¡°íšŒ [ì¼ë°˜]
- 4.2 í”„ë¡œí•„ ìˆ˜ì • â­ [ì£¼ìš”]
- 4.3 í”„ë¡œí•„ ì •ê·œí™” â­ [ì£¼ìš”]
- 4.4 í”„ë¡œí•„ ìœ íš¨ì„± ê²€ì‚¬ [ì¼ë°˜]
- 4.5 ì£¼ì†Œ ê´€ë¦¬ â­ [ì£¼ìš”]
- 4.6 ìš°í¸ë²ˆí˜¸ ê²€ìƒ‰ [ì¼ë°˜]
- 4.7 ë°°ì†¡ì§€ ì €ì¥ [ì¼ë°˜]
- 4.8 ê³ ê° ëª©ë¡ ì¡°íšŒ [ì¼ë°˜]
- 4.9 ê³ ê° ê²€ìƒ‰ [ì¼ë°˜]
- 4.10 ê³ ê° ì£¼ë¬¸ ì´ë ¥ [ì¼ë°˜]

### 5. ì¸ì¦ ê´€ë ¨ (6ê°œ ê¸°ëŠ¥)
- 5.1 ë¡œê·¸ì¸ (ì¼ë°˜) [ì¼ë°˜]
- 5.2 ë¡œê·¸ì¸ (ì¹´ì¹´ì˜¤) â­ [ì£¼ìš”]
- 5.3 íšŒì›ê°€ì… [ì¼ë°˜]
- 5.4 ë¡œê·¸ì•„ì›ƒ [ì¼ë°˜]
- 5.5 ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • [ì¼ë°˜]
- 5.6 ì„¸ì…˜ ê´€ë¦¬ [ì¼ë°˜]

### 6. ê³µê¸‰ì—…ì²´/ë°œì£¼ ê´€ë ¨ (6ê°œ ê¸°ëŠ¥)
- 6.1 ë°œì£¼ì„œ ìƒì„± â­ [ì£¼ìš”]
- 6.2 ë°œì£¼ì„œ ë‹¤ìš´ë¡œë“œ [ì¼ë°˜]
- 6.3 ì—…ì²´ ê´€ë¦¬ [ì¼ë°˜]
- 6.4 ì—…ì²´ë³„ ì£¼ë¬¸ ì¡°íšŒ [ì¼ë°˜]
- 6.5 ë°œì£¼ ì´ë ¥ ì¡°íšŒ [ì¼ë°˜]
- 6.6 ì¤‘ë³µ ë°œì£¼ ë°©ì§€ [ì¼ë°˜]

### 7. ë°°ì†¡ ê´€ë ¨ (5ê°œ ê¸°ëŠ¥)
- 7.1 ë°°ì†¡ë¹„ ê³„ì‚° â­ [ì£¼ìš”]
- 7.2 ë„ì„œì‚°ê°„ ë°°ì†¡ë¹„ ì¶”ê°€ â­ [ì£¼ìš”]
- 7.3 ë°°ì†¡ ìƒíƒœ ì¡°íšŒ [ì¼ë°˜]
- 7.4 ë°°ì†¡ ì¶”ì  [ì¼ë°˜]
- 7.5 ë°°ì†¡ ì•Œë¦¼ [ì¼ë°˜]

### 8. ì¿ í° ê´€ë ¨ (10ê°œ ê¸°ëŠ¥)
- 8.1 ì¿ í° ë°œí–‰ â­ [ì£¼ìš”]
- 8.2 ì¿ í° ë°°í¬ (ê°œë³„) â­ [ì£¼ìš”]
- 8.3 ì¿ í° ë°°í¬ (ì „ì²´) â­ [ì£¼ìš”]
- 8.4 ì¿ í° ìœ íš¨ì„± ê²€ì¦ â­ [ì£¼ìš”]
- 8.5 ì¿ í° ì‚¬ìš© ì²˜ë¦¬ â­ [ì£¼ìš”]
- 8.6 ì¿ í° ëª©ë¡ ì¡°íšŒ (ê´€ë¦¬ì) [ì¼ë°˜]
- 8.7 ì¿ í° ëª©ë¡ ì¡°íšŒ (ì‚¬ìš©ì) [ì¼ë°˜]
- 8.8 ì¿ í° ìƒì„¸ ì¡°íšŒ [ì¼ë°˜]
- 8.9 ì¿ í° í™œì„±í™”/ë¹„í™œì„±í™” [ì¼ë°˜]
- 8.10 ì¿ í° í†µê³„ ì¡°íšŒ [ì¼ë°˜]

---

## 1. ì£¼ë¬¸ ê´€ë ¨ ê¸°ëŠ¥

### 1.1 ì£¼ë¬¸ ìƒì„± â­ [ì£¼ìš”]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/checkout` - ì£¼ë¬¸ ìƒì„± í˜ì´ì§€
2. `/orders` - ì£¼ë¬¸ ë‚´ì—­ (ìƒˆ ì£¼ë¬¸ í‘œì‹œ)
3. `/orders/[id]/complete` - ì£¼ë¬¸ ì™„ë£Œ í˜ì´ì§€
4. `/admin/orders` - ê´€ë¦¬ì ì£¼ë¬¸ ëª©ë¡ (ìƒˆ ì£¼ë¬¸ ì•Œë¦¼)
5. `/admin/purchase-orders` - ë°œì£¼ ì‹œìŠ¤í…œ (ì…ê¸ˆí™•ì¸ í›„)

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜ ì²´ì¸
```javascript
createOrder(orderData, userProfile, depositName)
  â†“ validates
  checkVariantInventory(variantId, quantity)
  â†“ creates
  orders, order_items, order_shipping, order_payments (INSERT)
  â†“ updates
  product_variants.inventory (UPDATE - FOR UPDATE)
  â†“ triggers
  products.inventory ìë™ ì—…ë°ì´íŠ¸ (DB trigger)
  â†“ sends (optional)
  sendOrderConfirmationEmail(orderId)
```

#### ğŸ—„ï¸ DB ì‘ì—… ìˆœì„œ (ë°ë“œë½ ë°©ì§€)
1. `product_variants` (FOR UPDATE) - ì¬ê³  ì ê¸ˆ
2. `orders` (INSERT) - ì£¼ë¬¸ ìƒì„±
3. `order_items` (INSERT) - ì£¼ë¬¸ í•­ëª© ìƒì„±
4. `order_shipping` (INSERT) - ë°°ì†¡ ì •ë³´ ìƒì„±
5. `order_payments` (INSERT) - ê²°ì œ ì •ë³´ ìƒì„±
6. `product_variants` (UPDATE) - ì¬ê³  ì°¨ê°
7. `products` (ìë™ ì—…ë°ì´íŠ¸) - íŠ¸ë¦¬ê±° ì‹¤í–‰

#### ğŸ“Š ë°ì´í„° íë¦„
```
BuyBottomSheet (ì˜µì…˜ ì„ íƒ)
  â†“
checkVariantInventory() - ì¬ê³  í™•ì¸
  â†“
updateVariantInventory() - ì¬ê³  ì°¨ê° (FOR UPDATE)
  â†“
sessionStorage.setItem('checkoutItem')
  â†“
router.push('/checkout')
  â†“
ì‚¬ìš©ì í”„ë¡œí•„ ë° ì£¼ì†Œ ë¡œë“œ (ë³‘ë ¬)
  â†“
AddressManager - ë°°ì†¡ì§€ ì„ íƒ
  â†“
ì…ê¸ˆìëª… ì„ íƒ ëª¨ë‹¬
  â†“
createOrder() í˜¸ì¶œ
  â”œâ”€â”€ orders INSERT
  â”œâ”€â”€ order_items INSERT (title, price, total, variant_id)
  â”œâ”€â”€ order_shipping INSERT (postal_code í•„ìˆ˜)
  â””â”€â”€ order_payments INSERT (depositor_name)
  â†“
sessionStorage.setItem('recentOrder')
  â†“
router.replace(`/orders/${orderId}/complete`)
```

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] Variant ì¬ê³  í™•ì¸ (checkVariantInventory)
- [ ] FOR UPDATE ì ê¸ˆ ì‚¬ìš© (ë™ì‹œì„± ì œì–´)
- [ ] order_itemsì— title, price, unit_price, total, total_price ëª¨ë‘ ì €ì¥
- [ ] order_typeì— ì¹´ì¹´ì˜¤ ID í¬í•¨ (ì¹´ì¹´ì˜¤ ì‚¬ìš©ì ì‹œ: `direct:KAKAO:${kakao_id}`)
- [ ] depositor_name ì €ì¥ (ìš°ì„ ìˆœìœ„: ì§ì ‘ì…ë ¥ > ë‹‰ë„¤ì„ > ê³ ê°ëª…)
- [ ] postal_code ì €ì¥ ë° ë°°ì†¡ë¹„ ê³„ì‚° (formatShippingInfo)
- [ ] payment_group_id ì €ì¥ (ì¼ê´„ê²°ì œ ì‹œ)
- [ ] íŠ¸ëœì­ì…˜ ì‚¬ìš© (ì‹¤íŒ¨ ì‹œ ë¡¤ë°±)
- [ ] ì¬ê³  ë¶€ì¡± ì‹œ ì—ëŸ¬ ì²˜ë¦¬ ë° ì‚¬ìš©ì ì•Œë¦¼
- [ ] ì´ë©”ì¼ ë°œì†¡ (ì„ íƒì )
- [ ] sessionStorageì— checkoutItem, recentOrder ì €ì¥

#### ğŸ”— ì—°ê´€ ê¸°ëŠ¥
- **Variant ì¬ê³  ê´€ë¦¬** (ì¬ê³  ì°¨ê°)
- **ë°°ì†¡ë¹„ ê³„ì‚°** (ë„ì„œì‚°ê°„ ì¶”ê°€ë¹„)
- **ë°œì£¼ ì‹œìŠ¤í…œ** (ì…ê¸ˆí™•ì¸ ì™„ë£Œ ì£¼ë¬¸)
- **ì´ë©”ì¼ ë°œì†¡** (ì£¼ë¬¸ í™•ì¸ ë©”ì¼)
- **í”„ë¡œí•„ ê´€ë¦¬** (ì‚¬ìš©ì ì •ë³´ ì¡°íšŒ)
- **ì£¼ì†Œ ê´€ë¦¬** (ë°°ì†¡ì§€ ì„ íƒ)

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **ì¤‘ë³µ ì»¬ëŸ¼**: price/unit_price, total/total_price ì–‘ìª½ ëª¨ë‘ ì €ì¥ í•„ìˆ˜
- **ì¹´ì¹´ì˜¤ ì‚¬ìš©ì**: user_idëŠ” NULL, order_typeì— kakao_id ì €ì¥
- **ì¬ê³  ì°¨ê° ì‹œì **: ì£¼ë¬¸ ìƒì„± ì „ (ì²´í¬ì•„ì›ƒ ì§„ì… ì‹œ)
- **ë°°ì†¡ë¹„ 0ì›**: pending ìƒíƒœì—ì„œëŠ” ë°°ì†¡ë¹„ ë¯¸ê³„ì‚° (ê²°ì œ í™•ì¸ ì‹œ ê³„ì‚°)

#### ğŸ“ ìµœê·¼ ìˆ˜ì • ì´ë ¥
- 2025-10-07: ì¥ë°”êµ¬ë‹ˆ ì£¼ë¬¸ ìƒì„± ë²„ê·¸ ìˆ˜ì • (supabase.raw() â†’ ì§ì ‘ ì¿¼ë¦¬ë¡œ ë³€ê²½, ì»¤ë°‹: 0c1d41a)
- 2025-10-03: ìš°í¸ë²ˆí˜¸ ì‹œìŠ¤í…œ í†µí•© (ë°°ì†¡ë¹„ ìë™ ê³„ì‚°)
- 2025-10-02: ë°œì£¼ ì‹œìŠ¤í…œ ì—°ë™
- 2025-10-01: Variant ì‹œìŠ¤í…œìœ¼ë¡œ ì „í™˜

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **DB**: DB_REFERENCE_GUIDE.md Â§ 6.1
- **ë°ì´í„° íë¦„**: DETAILED_DATA_FLOW.md Â§ ì²´í¬ì•„ì›ƒ í˜ì´ì§€
- **ì½”ë“œ**: lib/supabaseApi.js - createOrder(), createOrderWithOptions()
- **í˜ì´ì§€**: app/checkout/page.js

---

### 1.2 ì£¼ë¬¸ ì¡°íšŒ (ì‚¬ìš©ì) [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/orders` - ì£¼ë¬¸ ë‚´ì—­ í˜ì´ì§€
2. `/orders/[id]/complete` - ì£¼ë¬¸ ìƒì„¸ í˜ì´ì§€
3. `/mypage` - ë§ˆì´í˜ì´ì§€ (ìµœê·¼ ì£¼ë¬¸)

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜ ì²´ì¸
```javascript
getUserOrders(userId)
  â†“ or (ì¹´ì¹´ì˜¤ ì‚¬ìš©ì)
getUserOrdersByOrderType(orderType)
  â†“ joins
  orders + order_items + products + order_shipping
  â†“ calculates
  formatShippingInfo(baseShipping, postalCode)
```

#### ğŸ—„ï¸ DB ì‘ì—… ìˆœì„œ
1. `orders` (SELECT) - ì‚¬ìš©ì ì£¼ë¬¸ ì¡°íšŒ
2. `order_items` (SELECT) - ì£¼ë¬¸ í•­ëª© ì¡°íšŒ
3. `products` (SELECT) - ìƒí’ˆ ì •ë³´ ì¡°íšŒ
4. `order_shipping` (SELECT) - ë°°ì†¡ ì •ë³´ ì¡°íšŒ

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] UserProfileManager ì‚¬ìš© (ì¹´ì¹´ì˜¤/ì¼ë°˜ ì‚¬ìš©ì êµ¬ë¶„)
- [ ] order_typeìœ¼ë¡œ ëŒ€ì²´ ì¡°íšŒ (ì¹´ì¹´ì˜¤ ì‚¬ìš©ì: `LIKE '%KAKAO:${kakao_id}%'`)
- [ ] payment_group_id ê¸°ì¤€ ê·¸ë£¹í™” (ì¼ê´„ê²°ì œ ì£¼ë¬¸)
- [ ] postal_code ê¸°ë°˜ ë°°ì†¡ë¹„ ê³„ì‚° (formatShippingInfo)
- [ ] íƒ€ì„ìŠ¤íƒ¬í”„ í‘œì‹œ (created_at, deposited_at, shipped_at ë“±)
- [ ] ìƒíƒœë³„ í•„í„°ë§ (pending/verifying/paid/delivered)

#### ğŸ”— ì—°ê´€ ê¸°ëŠ¥
- **ì‚¬ìš©ì ì¸ì¦** (ì¹´ì¹´ì˜¤/ì¼ë°˜ ì‚¬ìš©ì êµ¬ë¶„)
- **ë°°ì†¡ë¹„ ê³„ì‚°** (ë„ì„œì‚°ê°„ ì¶”ê°€ë¹„)
- **ì£¼ë¬¸ ìƒíƒœ ë³€ê²½** (ì·¨ì†Œ, ìˆ˜ëŸ‰ ì¡°ì ˆ)

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **DB**: DB_REFERENCE_GUIDE.md Â§ 4.1
- **ë°ì´í„° íë¦„**: DETAILED_DATA_FLOW.md Â§ ì£¼ë¬¸ ë‚´ì—­ í˜ì´ì§€
- **ì½”ë“œ**: lib/supabaseApi.js - getOrders()
- **í˜ì´ì§€**: app/orders/page.js

---

### 1.3 ì£¼ë¬¸ ì¡°íšŒ (ê´€ë¦¬ì) [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/orders` - ê´€ë¦¬ì ì£¼ë¬¸ ëª©ë¡
2. `/admin/orders/[id]` - ê´€ë¦¬ì ì£¼ë¬¸ ìƒì„¸

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜
- `getAllOrders()` - ì „ì²´ ì£¼ë¬¸ ì¡°íšŒ (profiles JOIN)

#### ğŸ—„ï¸ DB ì‘ì—…
- `orders`, `order_items`, `order_shipping`, `order_payments`, `profiles` JOIN

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **ë°ì´í„° íë¦„**: DETAILED_DATA_FLOW.md Â§ ê´€ë¦¬ì ì£¼ë¬¸ ê´€ë¦¬
- **ì½”ë“œ**: lib/supabaseApi.js - getAllOrders()

---

### 1.4 ì£¼ë¬¸ ìƒì„¸ ì¡°íšŒ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/orders/[id]/complete` - ì£¼ë¬¸ ì™„ë£Œ í˜ì´ì§€
2. `/admin/orders/[id]` - ê´€ë¦¬ì ì£¼ë¬¸ ìƒì„¸

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜
- `getOrderById(orderId)` - ì£¼ë¬¸ ë‹¨ì¼ ì¡°íšŒ

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **ì½”ë“œ**: lib/supabaseApi.js - getOrderById()

---

### 1.5 ì£¼ë¬¸ ìƒíƒœ ë³€ê²½ â­ [ì£¼ìš”]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/orders` - ê´€ë¦¬ì ì£¼ë¬¸ ëª©ë¡ (ìƒíƒœ ë³€ê²½ ë²„íŠ¼)
2. `/admin/orders/[id]` - ê´€ë¦¬ì ì£¼ë¬¸ ìƒì„¸ (ìƒíƒœ ë³€ê²½ ì•¡ì…˜)
3. `/admin/deposits` - ì…ê¸ˆ ê´€ë¦¬ (pending â†’ verifying)
4. `/admin/shipping` - ë°œì†¡ ê´€ë¦¬ (paid â†’ delivered)

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜ ì²´ì¸
```javascript
updateOrderStatus(orderId, status, paymentData)
  â†“ updates
  orders.status (UPDATE)
  â†“ records
  íƒ€ì„ìŠ¤íƒ¬í”„ ìë™ ê¸°ë¡ (verifying_at, paid_at, delivered_at, cancelled_at)
  â†“ updates (optional)
  order_payments (UPDATE)
  â†“ logs
  logger.info() - ì´ëª¨ì§€ í¬í•¨ ë¡œê·¸
```

#### ğŸ—„ï¸ DB ì‘ì—… ìˆœì„œ
1. `orders` (UPDATE) - status ë³€ê²½
2. íƒ€ì„ìŠ¤íƒ¬í”„ ì»¬ëŸ¼ ìë™ ì—…ë°ì´íŠ¸ (ìƒíƒœë³„)
3. `order_payments` (UPDATE - optional) - ê²°ì œ ì •ë³´ ì—…ë°ì´íŠ¸

#### ğŸ“Š ìƒíƒœ ì „í™˜ íë¦„
```
pending (ê²°ì œëŒ€ê¸°)
  â†“ ì…ê¸ˆ í™•ì¸
verifying (ê²°ì œí™•ì¸ì¤‘)
  â†“ ê²°ì œ í™•ì¸
paid (ê²°ì œì™„ë£Œ)
  â†“ ë°œì†¡ ì²˜ë¦¬
delivered (ë°œì†¡ì™„ë£Œ)

ë˜ëŠ”

pending/verifying/paid
  â†“ ì·¨ì†Œ
cancelled (ì·¨ì†Œë¨)
```

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] íƒ€ì„ìŠ¤íƒ¬í”„ ìë™ ê¸°ë¡ í™•ì¸
  - `pending â†’ verifying`: verifying_at ê¸°ë¡
  - `verifying â†’ paid`: paid_at ê¸°ë¡
  - `paid â†’ delivered`: delivered_at ê¸°ë¡
  - `â†’ cancelled`: cancelled_at ê¸°ë¡
- [ ] ë¡œê·¸ í™•ì¸ (ğŸ•, ğŸ’°, ğŸšš ì´ëª¨ì§€)
- [ ] order_payments ì—…ë°ì´íŠ¸ (optional)
- [ ] ë°œì£¼ ì‹œìŠ¤í…œ ì—°ë™ (paid ìƒíƒœ ì „í™˜ ì‹œ)
- [ ] ì¬ê³  ë³µì› (cancelled ìƒíƒœ ì „í™˜ ì‹œ)

#### ğŸ”— ì—°ê´€ ê¸°ëŠ¥
- **ë°œì£¼ ì‹œìŠ¤í…œ** (paid ìƒíƒœ ì£¼ë¬¸ ìë™ ë°œì£¼)
- **ì¬ê³  ë³µì›** (ì£¼ë¬¸ ì·¨ì†Œ ì‹œ)
- **ì´ë©”ì¼ ë°œì†¡** (ìƒíƒœ ë³€ê²½ ì•Œë¦¼)
- **ì¼ê´„ ìƒíƒœ ë³€ê²½** (ê·¸ë£¹ ì£¼ë¬¸)

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **íƒ€ì„ìŠ¤íƒ¬í”„ ì¶”ì **: ëª¨ë“  ìƒíƒœ ì „í™˜ ì‹œì  ê¸°ë¡
- **ë¡œê·¸ ì´ëª¨ì§€**: ğŸ•(ì‹œê°„), ğŸ’°(ê²°ì œ), ğŸšš(ë°°ì†¡), âœ…(ì„±ê³µ), âŒ(ì‹¤íŒ¨)
- **ë°œì£¼ ì—°ë™**: paid ìƒíƒœë¡œ ì „í™˜ ì‹œ ë°œì£¼ì„œ ìë™ ìƒì„± ê°€ëŠ¥

#### ğŸ“ ìµœê·¼ ìˆ˜ì • ì´ë ¥
- 2025-10-02: ë°œì£¼ ì‹œìŠ¤í…œ ì—°ë™ ì¶”ê°€
- 2025-10-01: íƒ€ì„ìŠ¤íƒ¬í”„ ìë™ ê¸°ë¡ ë¡œì§ ê°œì„ 

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **DB**: DB_REFERENCE_GUIDE.md Â§ 3.2
- **ì½”ë“œ**: lib/supabaseApi.js - updateOrderStatus()

---

### 1.6 ì¼ê´„ ìƒíƒœ ë³€ê²½ â­ [ì£¼ìš”]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/orders` - ê´€ë¦¬ì ì£¼ë¬¸ ëª©ë¡ (ê·¸ë£¹ ì£¼ë¬¸ ìƒíƒœ ë³€ê²½)

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜ ì²´ì¸
```javascript
updateMultipleOrderStatus(orderIds, status, paymentData)
  â†“ loops
  orderIds.forEach(orderId => updateOrderStatus(orderId, status, paymentData))
  â†“ updates
  order_shipping (ì¼ê´„ ì—…ë°ì´íŠ¸ - optional)
```

#### ğŸ—„ï¸ DB ì‘ì—… ìˆœì„œ
1. `orders` (UPDATE) - ì—¬ëŸ¬ ì£¼ë¬¸ IDì— ëŒ€í•´ ìˆœì°¨ ì—…ë°ì´íŠ¸
2. `order_payments` (UPDATE - optional)
3. `order_shipping` (UPDATE - optional)

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] orderIds ë°°ì—´ ê²€ì¦
- [ ] ê° ì£¼ë¬¸ì— ëŒ€í•´ updateOrderStatus í˜¸ì¶œ
- [ ] ì‹¤íŒ¨í•œ ì£¼ë¬¸ ID ì¶”ì  ë° ì—ëŸ¬ ì²˜ë¦¬
- [ ] ì¼ê´„ ë°°ì†¡ ì •ë³´ ì—…ë°ì´íŠ¸ (optional)
- [ ] íŠ¸ëœì­ì…˜ ì‚¬ìš© (ì „ì²´ ì„±ê³µ ë˜ëŠ” ì „ì²´ ë¡¤ë°±)

#### ğŸ”— ì—°ê´€ ê¸°ëŠ¥
- **ì£¼ë¬¸ ìƒíƒœ ë³€ê²½** (ê°œë³„ ì£¼ë¬¸)
- **ì¼ê´„ê²°ì œ ì²˜ë¦¬** (payment_group_id ì£¼ë¬¸ë“¤)
- **ë°œì£¼ ì‹œìŠ¤í…œ** (paid ìƒíƒœ ì „í™˜ ì‹œ)

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **ì½”ë“œ**: lib/supabaseApi.js - updateMultipleOrderStatus()

---

### 1.7 ì£¼ë¬¸ ì·¨ì†Œ â­ [ì£¼ìš”]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/orders` - ì£¼ë¬¸ ë‚´ì—­ í˜ì´ì§€ (ì·¨ì†Œ ë²„íŠ¼)
2. `/admin/orders` - ê´€ë¦¬ì ì£¼ë¬¸ ëª©ë¡ (ì·¨ì†Œ ë²„íŠ¼)
3. `/admin/orders/[id]` - ê´€ë¦¬ì ì£¼ë¬¸ ìƒì„¸ (ì·¨ì†Œ ì•¡ì…˜)

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜ ì²´ì¸
```javascript
cancelOrder(orderId)
  â†“ updates
  orders.status = 'cancelled'
  orders.cancelled_at = NOW()
  â†“ restores (í•„ìš” ì‹œ)
  product_variants.inventory (ì¬ê³  ë³µì›)
  â†“ logs
  logger.info('ì£¼ë¬¸ ì·¨ì†Œë¨', orderId)
```

#### ğŸ—„ï¸ DB ì‘ì—… ìˆœì„œ
1. `orders` (SELECT) - ì£¼ë¬¸ ì •ë³´ ì¡°íšŒ
2. `order_items` (SELECT) - ì£¼ë¬¸ í•­ëª© ì¡°íšŒ
3. `product_variants` (UPDATE) - ì¬ê³  ë³µì› (FOR UPDATE)
4. `orders` (UPDATE) - status='cancelled', cancelled_at ê¸°ë¡

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì·¨ì†Œ ê°€ëŠ¥í•œ ìƒíƒœì¸ì§€ í™•ì¸ (pending, verifyingë§Œ ì·¨ì†Œ ê°€ëŠ¥)
- [ ] ì¬ê³  ë³µì› ë¡œì§ ì‹¤í–‰ (updateVariantInventory)
- [ ] cancelled_at íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ë¡
- [ ] íŠ¸ëœì­ì…˜ ì‚¬ìš© (ì¬ê³  ë³µì› ì‹¤íŒ¨ ì‹œ ë¡¤ë°±)
- [ ] ì´ë©”ì¼ ë°œì†¡ (ì£¼ë¬¸ ì·¨ì†Œ ì•Œë¦¼)
- [ ] í™˜ë¶ˆ ì²˜ë¦¬ (ê²°ì œ ì™„ë£Œ í›„ ì·¨ì†Œ ì‹œ)

#### ğŸ”— ì—°ê´€ ê¸°ëŠ¥
- **ì¬ê³  ë³µì›** (Variant ì¬ê³  ì¦ê°€)
- **í™˜ë¶ˆ ì²˜ë¦¬** (ê²°ì œ ì™„ë£Œ í›„ ì·¨ì†Œ)
- **ì´ë©”ì¼ ë°œì†¡** (ì·¨ì†Œ ì•Œë¦¼)
- **ì£¼ë¬¸ ìƒíƒœ ë³€ê²½** (cancelled)

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **ì¬ê³  ë³µì›**: FOR UPDATE ì ê¸ˆ ì‚¬ìš© (ë™ì‹œì„± ì œì–´)
- **ì·¨ì†Œ ê°€ëŠ¥ ìƒíƒœ**: pending, verifyingë§Œ ì·¨ì†Œ ê°€ëŠ¥ (paid, deliveredëŠ” í™˜ë¶ˆ ì²˜ë¦¬)
- **íƒ€ì„ìŠ¤íƒ¬í”„**: cancelled_at ìë™ ê¸°ë¡

#### ğŸ“ ìµœê·¼ ìˆ˜ì • ì´ë ¥
- 2025-10-01: Variant ì¬ê³  ë³µì› ë¡œì§ ì¶”ê°€

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **DB**: DB_REFERENCE_GUIDE.md Â§ 6.2
- **ì½”ë“œ**: lib/supabaseApi.js - cancelOrder()

---

### 1.8 í™˜ë¶ˆ ì²˜ë¦¬ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/orders/[id]` - ê´€ë¦¬ì ì£¼ë¬¸ ìƒì„¸ (í™˜ë¶ˆ ì²˜ë¦¬ ë²„íŠ¼)

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜
- í˜„ì¬ ë³„ë„ í•¨ìˆ˜ ì—†ìŒ (ì£¼ë¬¸ ì·¨ì†Œ + ìˆ˜ë™ í™˜ë¶ˆ ì²˜ë¦¬)

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] í™˜ë¶ˆ ê°€ëŠ¥ ìƒíƒœ í™•ì¸ (paid, delivered)
- [ ] í™˜ë¶ˆ ê¸ˆì•¡ ê³„ì‚° (ìƒí’ˆê¸ˆì•¡ + ë°°ì†¡ë¹„)
- [ ] ì¬ê³  ë³µì› ì—¬ë¶€ ê²°ì •
- [ ] í™˜ë¶ˆ ì‚¬ìœ  ê¸°ë¡
- [ ] ê³ ê° ì•Œë¦¼ (ì´ë©”ì¼/SMS)

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **ë¯¸êµ¬í˜„**: í˜„ì¬ ìˆ˜ë™ í™˜ë¶ˆ ì²˜ë¦¬ (ìë™í™” ì˜ˆì •)
- **í™˜ë¶ˆ ë°©ë²•**: ê³„ì¢Œì´ì²´ ì—­ì…ê¸ˆ

#### ğŸ”— ì—°ê´€ ê¸°ëŠ¥
- **ì£¼ë¬¸ ì·¨ì†Œ** (cancelled ìƒíƒœ ì „í™˜)
- **ì¬ê³  ë³µì›** (ì„ íƒì )

---

### 1.9 ì£¼ë¬¸ ì•„ì´í…œ ìˆ˜ëŸ‰ ë³€ê²½ â­ [ì£¼ìš”] (2025-10-07 ì—…ë°ì´íŠ¸)

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/orders` - ì£¼ë¬¸ ë‚´ì—­ í˜ì´ì§€ (ìˆ˜ëŸ‰ ì¡°ì ˆ ë²„íŠ¼)

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜ ì²´ì¸
```javascript
updateOrderItemQuantity(itemId, newQuantity)
  â†“ selects
  order_items (variant_id í¬í•¨) - í˜„ì¬ ìˆ˜ëŸ‰ ì¡°íšŒ
  â†“ validates (2025-10-07 ì¶”ê°€)
  variant ì¬ê³  í™•ì¸ (variant_idê°€ ìˆëŠ” ê²½ìš°)
  â†“ calculates
  quantityDifference = newQuantity - currentQuantity
  â†“ updates (variantê°€ ìˆëŠ” ê²½ìš°)
  product_variants.inventory -= quantityDifference
  â†“ updates
  order_items.quantity, total, total_price
```

#### ğŸ—„ï¸ DB ì‘ì—… ìˆœì„œ
1. `order_items` (SELECT) - í˜„ì¬ ìˆ˜ëŸ‰ ë° variant_id ì¡°íšŒ
2. `product_variants` (SELECT) - Variant ì¬ê³  í™•ì¸ (ìˆëŠ” ê²½ìš°)
3. `product_variants` (UPDATE) - ì¬ê³  ì°¨ê° ë˜ëŠ” ë³µêµ¬
4. `order_items` (UPDATE) - quantity, total, total_price

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] pending ìƒíƒœì—ì„œë§Œ ìˆ˜ëŸ‰ ë³€ê²½ ê°€ëŠ¥
- [ ] **variant_idê°€ ìˆìœ¼ë©´ variant ì¬ê³  ê²€ì¦ í•„ìˆ˜** (2025-10-07 ì¶”ê°€)
- [ ] ì¬ê³  ë¶€ì¡± ì‹œ ì—ëŸ¬ ì²˜ë¦¬ ë° ì‚¬ìš©ì ì•Œë¦¼
- [ ] price ê¸°ì¤€ìœ¼ë¡œ total_price ì¬ê³„ì‚°
- [ ] total, total_price ì–‘ìª½ ëª¨ë‘ ì—…ë°ì´íŠ¸
- [ ] ì˜µí‹°ë¯¸ìŠ¤í‹± ì—…ë°ì´íŠ¸ (UI ì¦‰ì‹œ ë°˜ì˜)
- [ ] ìˆ˜ëŸ‰ 1 ë¯¸ë§Œ ë°©ì§€

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **Variant ì¬ê³  ê²€ì¦**: variant_idê°€ ìˆìœ¼ë©´ ì¬ê³  í™•ì¸ í›„ ìˆ˜ëŸ‰ ë³€ê²½
- **ì¬ê³  ë³µêµ¬/ì°¨ê°**: ìˆ˜ëŸ‰ ê°ì†Œ ì‹œ ì¬ê³  ë³µêµ¬, ìˆ˜ëŸ‰ ì¦ê°€ ì‹œ ì¬ê³  ì°¨ê°
- **ì˜µí‹°ë¯¸ìŠ¤í‹± ì—…ë°ì´íŠ¸**: UI ë¨¼ì € ì—…ë°ì´íŠ¸, ì„œë²„ ë™ê¸°í™”
- **ì´ ê¸ˆì•¡ ìë™ ì¬ê³„ì‚°**: quantity Ã— price

#### ğŸ“ ìµœê·¼ ìˆ˜ì • ì´ë ¥
- 2025-10-07: Variant ì¬ê³  ê²€ì¦ ì¶”ê°€ (ì»¤ë°‹: 0c1d41a)

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **ì½”ë“œ**: lib/supabaseApi.js - updateOrderItemQuantity() (lines 2416, 2465-2491)
- **í˜ì´ì§€**: app/orders/page.js (lines 311-364)

---

### 1.10 ì£¼ë¬¸ë²ˆí˜¸ ìƒì„± [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/checkout` - ì²´í¬ì•„ì›ƒ í˜ì´ì§€ (ì£¼ë¬¸ ìƒì„± ì‹œ)

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜
```javascript
generateCustomerOrderNumber()
  â†“ returns
  'YYYYMMDD-XXXX' (ë‚ ì§œ + ëœë¤ 4ìë¦¬)
```

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ë‚ ì§œ í˜•ì‹: YYYYMMDD
- [ ] ëœë¤ 4ìë¦¬: 0000~9999
- [ ] ì¤‘ë³µ ì²´í¬ (í•„ìš” ì‹œ)

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **í˜•ì‹**: `20251003-1234`
- **ì¤‘ë³µ ê°€ëŠ¥ì„±**: ë§¤ìš° ë‚®ìŒ (ë‚ ì§œ + ëœë¤)

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **ì½”ë“œ**: lib/supabaseApi.js - generateCustomerOrderNumber()

---

### 1.11 ê·¸ë£¹ ì£¼ë¬¸ë²ˆí˜¸ ìƒì„± [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/checkout` - ì²´í¬ì•„ì›ƒ í˜ì´ì§€ (ì¼ê´„ê²°ì œ ì‹œ)

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜
```javascript
generateGroupOrderNumber(paymentGroupId)
  â†“ returns
  'GROUP-{UUID}' í˜•ì‹
```

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] payment_group_id ê¸°ë°˜ ìƒì„±
- [ ] GROUP- ì ‘ë‘ì–´ í•„ìˆ˜
- [ ] UUID í˜•ì‹ ìœ ì§€

#### ğŸ”— ì—°ê´€ ê¸°ëŠ¥
- **ì¼ê´„ê²°ì œ ì²˜ë¦¬** (payment_group_id)

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **ì½”ë“œ**: lib/supabaseApi.js - generateGroupOrderNumber()

---

### 1.12 ì…ê¸ˆ í™•ì¸ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/deposits` - ì…ê¸ˆ ê´€ë¦¬ í˜ì´ì§€
2. `/admin/orders` - ê´€ë¦¬ì ì£¼ë¬¸ ëª©ë¡

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜ ì²´ì¸
```javascript
getAllOrders()
  â†“ filters
  payment.method='bank_transfer' && status IN ('pending', 'verifying')
  â†“ calls
  updateOrderStatus(orderId, 'verifying')
  â†“ or
  updateOrderStatus(orderId, 'paid')
```

#### ğŸ—„ï¸ DB ì‘ì—…
- `orders` (SELECT) - ê³„ì¢Œì´ì²´ ì£¼ë¬¸ ì¡°íšŒ
- `orders` (UPDATE) - status ë³€ê²½ (pending â†’ verifying â†’ paid)

#### ğŸ“Š ë°ì´í„° íë¦„
```
ì…ê¸ˆ ê´€ë¦¬ í˜ì´ì§€
  â†“
ê³„ì¢Œì´ì²´ ì£¼ë¬¸ ëª©ë¡ ì¡°íšŒ
  â†“
ì—‘ì…€ ì—…ë¡œë“œ (ì€í–‰ ê±°ë˜ ë‚´ì—­)
  â†“
ì…ê¸ˆìëª… ë§¤ì¹­ (ìë™ + ìˆ˜ë™)
  â†“
pending â†’ verifying (ì…ê¸ˆ í™•ì¸)
  â†“
verifying â†’ paid (ê²°ì œ í™•ì¸)
```

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì—‘ì…€ íŒŒì¼ íŒŒì‹± (XLSX)
- [ ] ì…ê¸ˆìëª… ë§¤ì¹­ (depositor_name)
- [ ] ê¸ˆì•¡ ê²€ì¦ (order.total_amount)
- [ ] ë¹ ë¥¸ ê²€ìƒ‰ ê¸°ëŠ¥ (ì£¼ë¬¸ë²ˆí˜¸/ê³ ê°ëª…/ì…ê¸ˆìëª…)
- [ ] íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ë¡ (verifying_at, paid_at)

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **ì—‘ì…€ ì—…ë¡œë“œ**: XLSX.js ì‚¬ìš©
- **ì…ê¸ˆìëª… ìš°ì„ ìˆœìœ„**: payment.depositor_name > nickname > name
- **ìˆ˜ë™ ê²€ì¦**: ê´€ë¦¬ìê°€ ìµœì¢… í™•ì¸

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **í˜ì´ì§€**: app/admin/deposits/page.js
- **ë°ì´í„° íë¦„**: DETAILED_DATA_FLOW.md Â§ ì…ê¸ˆ ê´€ë¦¬

---

### 1.13 ë°°ì†¡ ì²˜ë¦¬ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/shipping` - ë°œì†¡ ê´€ë¦¬ í˜ì´ì§€
2. `/admin/orders` - ê´€ë¦¬ì ì£¼ë¬¸ ëª©ë¡

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜
```javascript
updateOrderStatus(orderId, 'delivered', { tracking_number })
  â†“ updates
  orders.status = 'delivered'
  orders.delivered_at = NOW()
  order_shipping.tracking_number
```

#### ğŸ—„ï¸ DB ì‘ì—…
- `orders` (UPDATE) - status='delivered', delivered_at
- `order_shipping` (UPDATE) - tracking_number (optional)

#### ğŸ“Š ë°ì´í„° íë¦„
```
ë°œì†¡ ê´€ë¦¬ í˜ì´ì§€
  â†“
ê²°ì œì™„ë£Œ ì£¼ë¬¸ ëª©ë¡ (status='paid')
  â†“
ì†¡ì¥ë²ˆí˜¸ ì…ë ¥ (optional)
  â†“
ì¼ê´„ ë°œì†¡ ì²˜ë¦¬ ë˜ëŠ” ê°œë³„ ë°œì†¡
  â†“
paid â†’ delivered
```

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] paid ìƒíƒœë§Œ ë°œì†¡ ê°€ëŠ¥
- [ ] ì†¡ì¥ë²ˆí˜¸ ì…ë ¥ (optional)
- [ ] ë°°ì†¡ì§€ ì •ë³´ í™•ì¸
- [ ] delivered_at íƒ€ì„ìŠ¤íƒ¬í”„ ê¸°ë¡
- [ ] ê³ ê° ì•Œë¦¼ (ì´ë©”ì¼/SMS)

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **ì†¡ì¥ë²ˆí˜¸**: ì„ íƒì  ì…ë ¥
- **ì¼ê´„ ì²˜ë¦¬**: ì—¬ëŸ¬ ì£¼ë¬¸ ë™ì‹œ ë°œì†¡ ê°€ëŠ¥

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **í˜ì´ì§€**: app/admin/shipping/page.js

---

### 1.14 ë°°ì†¡ ì™„ë£Œ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/shipping` - ë°œì†¡ ê´€ë¦¬ í˜ì´ì§€
2. `/orders/[id]/complete` - ì£¼ë¬¸ ìƒì„¸ í˜ì´ì§€

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜
- updateOrderStatus(orderId, 'delivered')

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **í˜„ì¬ ì‹œìŠ¤í…œ**: delivered ìƒíƒœê°€ ìµœì¢… ìƒíƒœ
- **í–¥í›„ í™•ì¥**: ë°°ì†¡ ì™„ë£Œ(confirmed) ìƒíƒœ ì¶”ê°€ ê°€ëŠ¥

#### ğŸ”— ì—°ê´€ ê¸°ëŠ¥
- **ë°°ì†¡ ì²˜ë¦¬** (1.13)

---

### 1.15 ì£¼ë¬¸ ê²€ìƒ‰ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/orders` - ê´€ë¦¬ì ì£¼ë¬¸ ëª©ë¡
2. `/admin/deposits` - ì…ê¸ˆ ê´€ë¦¬
3. `/admin/shipping` - ë°œì†¡ ê´€ë¦¬

#### ğŸ”§ í•µì‹¬ ê¸°ëŠ¥
```javascript
// ê²€ìƒ‰ í•„í„°ë§
orders.filter(order =>
  order.customer_order_number.includes(searchTerm) ||
  order.user?.name.includes(searchTerm) ||
  order.order_items.some(item => item.title.includes(searchTerm)) ||
  order.payment?.depositor_name?.includes(searchTerm)
)
```

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì£¼ë¬¸ë²ˆí˜¸ ê²€ìƒ‰
- [ ] ê³ ê°ëª… ê²€ìƒ‰
- [ ] ìƒí’ˆëª… ê²€ìƒ‰
- [ ] ì…ê¸ˆìëª… ê²€ìƒ‰ (ê³„ì¢Œì´ì²´)
- [ ] ì‹¤ì‹œê°„ ê²€ìƒ‰ (onChange)

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **í´ë¼ì´ì–¸íŠ¸ í•„í„°ë§**: ë©”ëª¨ë¦¬ ë‚´ ê²€ìƒ‰ (ë¹ ë¦„)
- **ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì—†ìŒ**: toLowerCase() ì‚¬ìš©

---

### 1.16 ì£¼ë¬¸ í•„í„°ë§ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/orders` - ê´€ë¦¬ì ì£¼ë¬¸ ëª©ë¡

#### ğŸ”§ í•µì‹¬ ê¸°ëŠ¥
```javascript
// ê²°ì œ ë°©ë²•ë³„ íƒ­ í•„í„°ë§
- ê²°ì œëŒ€ê¸° (pending)
- ê³„ì¢Œì´ì²´ (bank_transfer + verifying)
- ì¹´ë“œê²°ì œ (card + verifying)
- ê²°ì œì™„ë£Œ (paid)
- ë°œì†¡ì™„ë£Œ (delivered)
```

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ìƒíƒœë³„ í•„í„° (status)
- [ ] ê²°ì œ ë°©ë²•ë³„ í•„í„° (payment.method)
- [ ] ë‚ ì§œ ë²”ìœ„ í•„í„° (ì„ íƒì )
- [ ] ë³µí•© í•„í„° ì§€ì›

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **íƒ­ ë°©ì‹**: ìƒíƒœ + ê²°ì œ ë°©ë²• ì¡°í•©
- **ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸**: í•„í„° ë³€ê²½ ì‹œ ì¦‰ì‹œ ë°˜ì˜

---

### 1.17 ì£¼ë¬¸ í†µê³„ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin` - ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ (ì˜ˆì •)

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **ë¯¸êµ¬í˜„**: í˜„ì¬ ê¸°ë³¸ í†µê³„ë§Œ í‘œì‹œ
- **í–¥í›„ ê¸°ëŠ¥**:
  - ì¼ë³„/ì£¼ë³„/ì›”ë³„ ì£¼ë¬¸ í†µê³„
  - ë§¤ì¶œ í†µê³„
  - ìƒí’ˆë³„ íŒë§¤ í†µê³„
  - ê²°ì œ ë°©ë²•ë³„ í†µê³„

---

### 1.18 ì£¼ë¬¸ ì—‘ì…€ ë‹¤ìš´ë¡œë“œ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/orders` - ê´€ë¦¬ì ì£¼ë¬¸ ëª©ë¡ (ì˜ˆì •)

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **ë¯¸êµ¬í˜„**: ì—‘ì…€ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ ì˜ˆì •
- **ë¼ì´ë¸ŒëŸ¬ë¦¬**: XLSX.js ì‚¬ìš© ì˜ˆì •
- **í¬í•¨ ì •ë³´**:
  - ì£¼ë¬¸ë²ˆí˜¸, ì£¼ë¬¸ì¼ì‹œ
  - ê³ ê°ëª…, ì—°ë½ì²˜, ì£¼ì†Œ
  - ìƒí’ˆëª…, ìˆ˜ëŸ‰, ê¸ˆì•¡
  - ê²°ì œ ë°©ë²•, ì…ê¸ˆìëª…
  - ë°°ì†¡ ìƒíƒœ

---

### 1.19 ì¼ê´„ê²°ì œ ì²˜ë¦¬ â­ [ì£¼ìš”]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/orders` - ì£¼ë¬¸ ë‚´ì—­ í˜ì´ì§€ (ì¼ê´„ê²°ì œ ë²„íŠ¼)
2. `/checkout` - ì²´í¬ì•„ì›ƒ í˜ì´ì§€ (ì¼ê´„ê²°ì œ ëª¨ë“œ)

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜ ì²´ì¸
```javascript
// ì²´í¬ì•„ì›ƒ í˜ì´ì§€ì—ì„œ
updateMultipleOrderStatus(orderIds, 'verifying', paymentData)
  â†“ updates
  ê° ì£¼ë¬¸ì˜ status ë³€ê²½
  payment_group_id ì €ì¥
  â†“ generates
  GROUP-${paymentGroupId} ì£¼ë¬¸ë²ˆí˜¸
```

#### ğŸ“Š ë°ì´í„° íë¦„
```
/orders í˜ì´ì§€
  â†“
ê²°ì œëŒ€ê¸° ì£¼ë¬¸ë“¤ì˜ ì´ ê¸ˆì•¡ ê³„ì‚°
  â”œâ”€â”€ ìƒí’ˆê¸ˆì•¡ í•©ê³„
  â””â”€â”€ ë°°ì†¡ë¹„ (4,000ì› ê³ ì •)
  â†“
ì¼ê´„ê²°ì œ ë²„íŠ¼ í´ë¦­
  â†“
sessionStorageì— ê°„ì†Œí™”ëœ ë°ì´í„° ì €ì¥
  {
    isBulkPayment: true,
    originalOrderIds: [...],
    items: [...],
    totalAmount,
    shippingFee
  }
  â†“
router.push('/checkout?mode=bulk')
  â†“
ì²´í¬ì•„ì›ƒ í˜ì´ì§€
  â†“
updateMultipleOrderStatus(originalOrderIds, 'verifying', paymentData)
```

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] sessionStorage ìš©ëŸ‰ ì œí•œ ëŒ€ì‘ (ê°„ì†Œí™”ëœ ë°ì´í„°ë§Œ ì €ì¥)
- [ ] payment_group_id ìƒì„± ë° ì €ì¥
- [ ] ëª¨ë“  ì£¼ë¬¸ì˜ ìƒíƒœ ì¼ê´„ ë³€ê²½
- [ ] GROUP-${paymentGroupId} í˜•ì‹ ì£¼ë¬¸ë²ˆí˜¸ ìƒì„±
- [ ] ì´ ê²°ì œê¸ˆì•¡ ì •í™•ì„± ê²€ì¦
- [ ] ë°°ì†¡ë¹„ ê³„ì‚° (4,000ì› ê³ ì • ë˜ëŠ” ë„ì„œì‚°ê°„ ì¶”ê°€)
- [ ] íŠ¸ëœì­ì…˜ ì‚¬ìš© (ì „ì²´ ì„±ê³µ ë˜ëŠ” ì „ì²´ ë¡¤ë°±)

#### ğŸ”— ì—°ê´€ ê¸°ëŠ¥
- **ì£¼ë¬¸ ì¡°íšŒ** (ê·¸ë£¹ ì£¼ë¬¸ í‘œì‹œ)
- **ì¼ê´„ ìƒíƒœ ë³€ê²½** (updateMultipleOrderStatus)
- **ë°°ì†¡ë¹„ ê³„ì‚°** (formatShippingInfo)
- **ì£¼ë¬¸ ìƒíƒœ ë³€ê²½** (ê°œë³„ ì£¼ë¬¸)

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **sessionStorage ìš©ëŸ‰**: ê°„ì†Œí™”ëœ ë°ì´í„°ë§Œ ì €ì¥ (ì´ë¯¸ì§€ URL ì œì™¸)
- **payment_group_id**: UUID ìƒì„± í›„ ëª¨ë“  ì£¼ë¬¸ì— ì €ì¥
- **ê·¸ë£¹ ì£¼ë¬¸ë²ˆí˜¸**: `GROUP-${paymentGroupId}` í˜•ì‹
- **ë°°ì†¡ë¹„**: ì¼ê´„ê²°ì œ ì‹œ 4,000ì› ê³ ì • (í–¥í›„ ê°œì„  í•„ìš”)

#### ğŸ“ ìµœê·¼ ìˆ˜ì • ì´ë ¥
- 2025-10-01: sessionStorage ìš©ëŸ‰ ë¬¸ì œ í•´ê²° (ê°„ì†Œí™”ëœ ë°ì´í„°)
- 2025-09-30: ì¼ê´„ê²°ì œ ê¸°ëŠ¥ ì¶”ê°€

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **ë°ì´í„° íë¦„**: DETAILED_DATA_FLOW.md Â§ ì£¼ë¬¸ ë‚´ì—­ í˜ì´ì§€
- **ì½”ë“œ**: lib/supabaseApi.js - updateMultipleOrderStatus(), generateGroupOrderNumber()
- **í˜ì´ì§€**: app/orders/page.js, app/checkout/page.js

---

### 1.20 ê²°ì œ ìˆ˜ë‹¨ ë³€ê²½ [ì¼ë°˜]

---

## 2. ìƒí’ˆ ê´€ë ¨ ê¸°ëŠ¥

### 2.1 ìƒí’ˆ ë“±ë¡ â­ [ì£¼ìš”]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/products/new` - ì‹ ê·œ ìƒí’ˆ ë“±ë¡ í˜ì´ì§€
2. `/admin/products` - ìƒí’ˆ ëª©ë¡ (ìƒˆ ìƒí’ˆ í‘œì‹œ)
3. `/` - í™ˆ í˜ì´ì§€ (ë¼ì´ë¸Œ í™œì„±í™” ì‹œ)

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜ ì²´ì¸
```javascript
addProduct(productData)
  â†“ inserts
  products (INSERT)
  â†“ inserts (ì˜µì…˜ ìˆëŠ” ê²½ìš°)
  product_options, product_option_values (INSERT)
  â†“ creates (ì˜µì…˜ ìˆëŠ” ê²½ìš°)
  product_variants (createVariant)
  â†“ maps
  variant_option_values (ë§¤í•‘ í…Œì´ë¸” INSERT)
```

#### ğŸ—„ï¸ DB ì‘ì—… ìˆœì„œ
1. `products` (INSERT) - ìƒí’ˆ ê¸°ë³¸ ì •ë³´ ìƒì„±
2. `product_options` (INSERT - optional) - ì˜µì…˜ ìƒì„±
3. `product_option_values` (INSERT - optional) - ì˜µì…˜ê°’ ìƒì„±
4. `product_variants` (INSERT - optional) - Variant ìƒì„±
5. `variant_option_values` (INSERT - optional) - Variant-ì˜µì…˜ê°’ ë§¤í•‘

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] í•„ìˆ˜ í•„ë“œ ê²€ì¦ (title, price, description)
- [ ] ì´ë¯¸ì§€ ì—…ë¡œë“œ (Supabase Storage)
- [ ] ì˜µì…˜ ì¡°í•© ìƒì„± (ì˜µì…˜ ìˆëŠ” ê²½ìš°)
- [ ] Variant ìë™ ìƒì„± (ì˜µì…˜ ìˆëŠ” ê²½ìš°)
- [ ] SKU ìë™ ìƒì„± ë˜ëŠ” ìˆ˜ë™ ì…ë ¥
- [ ] ì´ˆê¸° ì¬ê³  ì„¤ì •
- [ ] ì¹´í…Œê³ ë¦¬ ì—°ê²°
- [ ] ê³µê¸‰ì—…ì²´ ì—°ê²°
- [ ] íŠ¸ëœì­ì…˜ ì‚¬ìš© (ì „ì²´ ì„±ê³µ ë˜ëŠ” ì „ì²´ ë¡¤ë°±)

#### ğŸ”— ì—°ê´€ ê¸°ëŠ¥
- **Variant ìƒì„±** (ì˜µì…˜ ìˆëŠ” ê²½ìš°)
- **ì˜µì…˜ ê´€ë¦¬** (ì˜µì…˜ ìƒì„±)
- **ì´ë¯¸ì§€ ì—…ë¡œë“œ** (Supabase Storage)
- **ì¹´í…Œê³ ë¦¬ ê´€ë¦¬** (ì¹´í…Œê³ ë¦¬ ì—°ê²°)
- **ê³µê¸‰ì—…ì²´ ê´€ë¦¬** (ê³µê¸‰ì—…ì²´ ì—°ê²°)

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **ì½”ë“œ**: lib/supabaseApi.js - addProduct(), createProductWithOptions()
- **í˜ì´ì§€**: app/admin/products/new/page.js

---

### 2.2 ìƒí’ˆ ìˆ˜ì • â­ [ì£¼ìš”]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/products/[id]` - ìƒí’ˆ ìƒì„¸ ìˆ˜ì • í˜ì´ì§€
2. `/admin/products` - ìƒí’ˆ ëª©ë¡ (ìˆ˜ì •ëœ ìƒí’ˆ í‘œì‹œ)

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜ ì²´ì¸
```javascript
updateProduct(productId, productData)
  â†“ updates
  products (UPDATE)
  â†“ recreates (ì˜µì…˜ ë³€ê²½ ì‹œ)
  product_options (DELETE â†’ INSERT)
  product_option_values (DELETE â†’ INSERT)
```

#### ğŸ—„ï¸ DB ì‘ì—… ìˆœì„œ
1. `products` (UPDATE) - ìƒí’ˆ ì •ë³´ ìˆ˜ì •
2. `product_options` (DELETE) - ê¸°ì¡´ ì˜µì…˜ ì‚­ì œ
3. `product_options` (INSERT) - ìƒˆ ì˜µì…˜ ìƒì„±
4. `product_option_values` (DELETE) - ê¸°ì¡´ ì˜µì…˜ê°’ ì‚­ì œ
5. `product_option_values` (INSERT) - ìƒˆ ì˜µì…˜ê°’ ìƒì„±

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì˜µì…˜ ë³€ê²½ ì‹œ ê¸°ì¡´ Variant ì²˜ë¦¬ (ì‚­ì œ ë˜ëŠ” ë¹„í™œì„±í™”)
- [ ] ì¬ê³  ë³€ê²½ ì‹œ Variant ì¬ê³  ë™ê¸°í™”
- [ ] ì´ë¯¸ì§€ ë³€ê²½ ì‹œ ê¸°ì¡´ ì´ë¯¸ì§€ ì‚­ì œ (Supabase Storage)
- [ ] ê°€ê²© ë³€ê²½ ì‹œ Variant ê°€ê²© ë™ê¸°í™” (optional)
- [ ] íŠ¸ëœì­ì…˜ ì‚¬ìš©

#### ğŸ”— ì—°ê´€ ê¸°ëŠ¥
- **Variant ê´€ë¦¬** (ì˜µì…˜ ë³€ê²½ ì‹œ Variant ì¬ìƒì„±)
- **ì´ë¯¸ì§€ ì—…ë¡œë“œ** (ì´ë¯¸ì§€ ë³€ê²½)
- **ì¬ê³  ê´€ë¦¬** (ì¬ê³  ë™ê¸°í™”)

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **ì½”ë“œ**: lib/supabaseApi.js - updateProduct()

---

### 2.3 ìƒí’ˆ ì‚­ì œ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/products` - ê´€ë¦¬ì ìƒí’ˆ ëª©ë¡
2. `/admin/products/[id]` - ê´€ë¦¬ì ìƒí’ˆ ìƒì„¸

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜
```javascript
deleteProduct(productId)
  â†“ updates (soft delete)
  products.status = 'deleted'
```

#### ğŸ—„ï¸ DB ì‘ì—…
- `products` (UPDATE) - status='deleted' (soft delete)

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] Soft delete ì‚¬ìš© (ë³µêµ¬ ê°€ëŠ¥)
- [ ] ê´€ë ¨ ì£¼ë¬¸ í™•ì¸ (ì‚­ì œ ê°€ëŠ¥ ì—¬ë¶€)
- [ ] Variantë„ í•¨ê»˜ ë¹„í™œì„±í™”
- [ ] ë¼ì´ë¸Œì—ì„œ ìë™ ì œê±°

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **Soft Delete**: ì‹¤ì œ ì‚­ì œ ëŒ€ì‹  status='deleted'
- **ë³µêµ¬ ê°€ëŠ¥**: deleted ìƒíƒœì—ì„œ activeë¡œ ë³€ê²½ ê°€ëŠ¥

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **ì½”ë“œ**: lib/supabaseApi.js - deleteProduct()

---

### 2.4 ìƒí’ˆ ì¡°íšŒ (ì‚¬ìš©ì) [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/` - í™ˆ í˜ì´ì§€

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜
```javascript
getProducts(filters)
  â†“ filters
  status='active' AND is_live=true AND is_live_active=true
  â†“ joins
  product_variants (ë³‘ë ¬ ë¡œë“œ)
```

#### ğŸ—„ï¸ DB ì‘ì—…
- `products` (SELECT) - í™œì„± + ë¼ì´ë¸Œ ë…¸ì¶œ ìƒí’ˆ
- `product_variants` (SELECT) - ê° ìƒí’ˆì˜ Variant

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] í™œì„± ìƒí’ˆë§Œ í‘œì‹œ (status='active')
- [ ] ë¼ì´ë¸Œ í™œì„±í™” ìƒí’ˆë§Œ (is_live_active=true)
- [ ] Variant ì •ë³´ ë³‘ë ¬ ë¡œë“œ
- [ ] ì´ ì¬ê³  ê³„ì‚° (ëª¨ë“  Variant í•©ê³„)
- [ ] ì˜µì…˜ ì •ë³´ ì¶”ì¶œ

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸**: useRealtimeProducts hook ì‚¬ìš©
- **ë³‘ë ¬ ë¡œë”©**: ëª¨ë“  ìƒí’ˆì˜ Variant ë™ì‹œ ë¡œë“œ

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **ì½”ë“œ**: lib/supabaseApi.js - getProducts()
- **Hook**: hooks/useRealtimeProducts.js

---

### 2.5 ìƒí’ˆ ì¡°íšŒ (ê´€ë¦¬ì) [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/products` - ê´€ë¦¬ì ìƒí’ˆ ëª©ë¡
2. `/admin/products/catalog` - ìƒí’ˆ ì¹´íƒˆë¡œê·¸

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜
```javascript
getAllProducts(filters)
  â†“ filters
  status='active' (ë˜ëŠ” ì „ì²´)
  â†“ joins
  suppliers, product_variants
```

#### ğŸ—„ï¸ DB ì‘ì—…
- `products` (SELECT) - ëª¨ë“  ìƒí’ˆ
- `suppliers` (JOIN) - ê³µê¸‰ì—…ì²´ ì •ë³´
- `product_variants` (SELECT) - Variant ì •ë³´

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ëª¨ë“  ìƒíƒœ í‘œì‹œ (active, inactive, deleted)
- [ ] ê³µê¸‰ì—…ì²´ ì •ë³´ í‘œì‹œ
- [ ] Variant ì¬ê³  í•©ê³„ í‘œì‹œ
- [ ] ë¼ì´ë¸Œ ìƒíƒœ í‘œì‹œ
- [ ] ê²€ìƒ‰/í•„í„° ê¸°ëŠ¥

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **ì½”ë“œ**: lib/supabaseApi.js - getAllProducts()

---

### 2.6 ìƒí’ˆ ë‹¨ì¼ ì¡°íšŒ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/products/[id]` - ê´€ë¦¬ì ìƒí’ˆ ìƒì„¸
2. ìƒí’ˆ ìƒì„¸ ëª¨ë‹¬ (BuyBottomSheet)

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜
```javascript
getProductById(productId)
  â†“ selects
  products (ë‹¨ì¼ ì¡°íšŒ)
  â†“ calls
  getProductVariants(productId)
```

#### ğŸ—„ï¸ DB ì‘ì—…
- `products` (SELECT) - ë‹¨ì¼ ìƒí’ˆ
- `product_variants` (SELECT) - ëª¨ë“  Variant

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] Variant ì •ë³´ í¬í•¨
- [ ] ì˜µì…˜ ì •ë³´ ì¶”ì¶œ
- [ ] ì´ ì¬ê³  ê³„ì‚°
- [ ] NULL ì²´í¬ (ìƒí’ˆ ì—†ìŒ ì²˜ë¦¬)

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **ì½”ë“œ**: lib/supabaseApi.js - getProductById()

---

### 2.7 ìƒí’ˆ ê²€ìƒ‰ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/products` - ê´€ë¦¬ì ìƒí’ˆ ëª©ë¡

#### ğŸ”§ í•µì‹¬ ê¸°ëŠ¥
```javascript
// ê²€ìƒ‰ ì¿¼ë¦¬
products
  .select()
  .or(`title.ilike.%${searchTerm}%,description.ilike.%${searchTerm}%`)
  .eq('status', 'active')
```

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì œëª© ê²€ìƒ‰ (ilike - ëŒ€ì†Œë¬¸ì êµ¬ë¶„ ì—†ìŒ)
- [ ] ì„¤ëª… ê²€ìƒ‰
- [ ] íŒë§¤ì ê²€ìƒ‰ (seller)
- [ ] ì‹¤ì‹œê°„ ê²€ìƒ‰

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **Supabase ê²€ìƒ‰**: ilike ì—°ì‚°ì ì‚¬ìš©
- **OR ì¡°ê±´**: ì—¬ëŸ¬ í•„ë“œ ë™ì‹œ ê²€ìƒ‰

---

### 2.8 ìƒí’ˆ í•„í„°ë§ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/products` - ê´€ë¦¬ì ìƒí’ˆ ëª©ë¡

#### ğŸ”§ í•µì‹¬ ê¸°ëŠ¥
```javascript
// í•„í„° ì˜µì…˜
- ê³µê¸‰ì—…ì²´ë³„ (supplier_id)
- ì¹´í…Œê³ ë¦¬ë³„ (category)
- ìƒíƒœë³„ (status)
- ë¼ì´ë¸Œ ì—¬ë¶€ (is_live, is_live_active)
```

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ê³µê¸‰ì—…ì²´ í•„í„°
- [ ] ì¹´í…Œê³ ë¦¬ í•„í„°
- [ ] ìƒíƒœ í•„í„° (active/inactive/deleted)
- [ ] ë¼ì´ë¸Œ ìƒíƒœ í•„í„°
- [ ] ë³µí•© í•„í„° ì§€ì›

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **í´ë¼ì´ì–¸íŠ¸ í•„í„°ë§**: ë©”ëª¨ë¦¬ ë‚´ í•„í„°ë§ ì‚¬ìš©
- **ì„œë²„ í•„í„°ë§**: Supabase ì¿¼ë¦¬ í•„í„° ì¡°í•© ê°€ëŠ¥

---

### 2.9 ì¹´í…Œê³ ë¦¬ ê´€ë¦¬ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/categories` - ì¹´í…Œê³ ë¦¬ ê´€ë¦¬ í˜ì´ì§€

#### ğŸ—„ï¸ DB ì‘ì—…
- `categories` (SELECT, INSERT, UPDATE, DELETE)

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì¹´í…Œê³ ë¦¬ ìƒì„±/ìˆ˜ì •/ì‚­ì œ
- [ ] ê³„ì¸µ êµ¬ì¡° ì§€ì› (parent_id)
- [ ] slug ìë™ ìƒì„±
- [ ] ìƒí’ˆ ê°œìˆ˜ í‘œì‹œ

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **ê³„ì¸µ êµ¬ì¡°**: parent_idë¡œ íŠ¸ë¦¬ êµ¬ì¡° ì§€ì›
- **slug**: URL-friendly ì¹´í…Œê³ ë¦¬ ì‹ë³„ì

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **í˜ì´ì§€**: app/admin/categories/page.js

---

### 2.10 ìƒí’ˆ ì´ë¯¸ì§€ ì—…ë¡œë“œ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/products/new` - ì‹ ê·œ ìƒí’ˆ ë“±ë¡
2. `/admin/products/[id]` - ìƒí’ˆ ìˆ˜ì •

#### ğŸ”§ í•µì‹¬ ê¸°ëŠ¥
```javascript
// Supabase Storage ì—…ë¡œë“œ
supabase.storage
  .from('products')
  .upload(path, file)
  â†“
ì €ì¥ëœ URLì„ products.thumbnail_urlì— ì €ì¥
```

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] Supabase Storage ì‚¬ìš©
- [ ] ì´ë¯¸ì§€ í¬ê¸° ì œí•œ (2MB ê¶Œì¥)
- [ ] íŒŒì¼ í˜•ì‹ ê²€ì¦ (jpg, png, webp)
- [ ] ë¯¸ë¦¬ë³´ê¸° í‘œì‹œ
- [ ] ê¸°ì¡´ ì´ë¯¸ì§€ ì‚­ì œ (ìˆ˜ì • ì‹œ)

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **Storage**: products ë²„í‚· ì‚¬ìš©
- **Public URL**: ìë™ ìƒì„±ëœ URL ì €ì¥

---

### 2.11 ìƒí’ˆ ë…¸ì¶œ ì„¤ì • [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/products` - ê´€ë¦¬ì ìƒí’ˆ ëª©ë¡

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜
```javascript
updateProductLiveStatus(productId, isLiveActive)
  â†“ updates
  products.is_live_active = true/false
```

#### ğŸ—„ï¸ DB ì‘ì—…
- `products` (UPDATE) - is_live_active

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] is_liveì™€ is_live_active êµ¬ë¶„
- [ ] í† ê¸€ ë²„íŠ¼ UI
- [ ] ì¦‰ì‹œ ë°˜ì˜ (í™ˆ í˜ì´ì§€)

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **is_live**: ë¼ì´ë¸Œ ëª©ë¡ ë“±ë¡ ì—¬ë¶€
- **is_live_active**: ì‚¬ìš©ì ë…¸ì¶œ í™œì„±í™” ì—¬ë¶€
- **ì¡°í•©**: is_live=true AND is_live_active=true â†’ í™ˆ í˜ì´ì§€ í‘œì‹œ

---

### 2.12 ìƒí’ˆ ì •ë ¬ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/` - í™ˆ í˜ì´ì§€
2. `/admin/products` - ê´€ë¦¬ì ìƒí’ˆ ëª©ë¡

#### ğŸ”§ í•µì‹¬ ê¸°ëŠ¥
```javascript
// ì •ë ¬ ì˜µì…˜
- ìµœì‹ ìˆœ (created_at DESC) - ê¸°ë³¸
- ê°€ê²© ë‚®ì€ ìˆœ (price ASC)
- ê°€ê²© ë†’ì€ ìˆœ (price DESC)
- ì¬ê³  ë§ì€ ìˆœ (inventory DESC)
```

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] created_at ê¸°ì¤€ ì •ë ¬
- [ ] price ê¸°ì¤€ ì •ë ¬
- [ ] inventory ê¸°ì¤€ ì •ë ¬
- [ ] ì •ë ¬ ë²„íŠ¼ UI

---

### 2.13 ë¼ì´ë¸Œ ìƒíƒœ ë³€ê²½ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/broadcasts` - ë¼ì´ë¸Œ ë°©ì†¡ ê´€ë¦¬
2. `/admin/products` - ê´€ë¦¬ì ìƒí’ˆ ëª©ë¡

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜
```javascript
updateProductLiveStatus(productId, isLive)
  â†“ updates
  products.is_live = true/false
```

#### ğŸ—„ï¸ DB ì‘ì—…
- `products` (UPDATE) - is_live

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] is_live í† ê¸€
- [ ] ë¼ì´ë¸Œ ëª©ë¡ ìë™ ì—…ë°ì´íŠ¸
- [ ] ìš°ì„ ìˆœìœ„ ì„¤ì • (live_priority)

#### ğŸ”— ì—°ê´€ ê¸°ëŠ¥
- **ë¼ì´ë¸Œ ë“±ë¡** (2.14)
- **ë¼ì´ë¸Œ í•´ì œ** (2.15)

---

### 2.14 ë¼ì´ë¸Œ ë“±ë¡ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/broadcasts` - ë¼ì´ë¸Œ ë°©ì†¡ ê´€ë¦¬

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜
```javascript
addToLive(productId, priority)
  â†“ updates
  products.is_live = true
  products.live_priority = priority
```

#### ğŸ—„ï¸ DB ì‘ì—…
- `products` (UPDATE) - is_live, live_priority

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ìš°ì„ ìˆœìœ„ ì„¤ì • (ë‚®ì€ ìˆ«ì = ë†’ì€ ìš°ì„ ìˆœìœ„)
- [ ] ì¤‘ë³µ ë“±ë¡ ë°©ì§€
- [ ] ë¼ì´ë¸Œ ëª©ë¡ ìë™ ê°±ì‹ 

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **ì½”ë“œ**: lib/supabaseApi.js - addToLive()

---

### 2.15 ë¼ì´ë¸Œ í•´ì œ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/broadcasts` - ë¼ì´ë¸Œ ë°©ì†¡ ê´€ë¦¬

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜
```javascript
removeFromLive(productId)
  â†“ updates
  products.is_live = false
  products.is_live_active = false
```

#### ğŸ—„ï¸ DB ì‘ì—…
- `products` (UPDATE) - is_live, is_live_active

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] is_live, is_live_active ëª¨ë‘ false
- [ ] í™ˆ í˜ì´ì§€ì—ì„œ ì¦‰ì‹œ ì œê±°
- [ ] live_priority ì´ˆê¸°í™”

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **ì½”ë“œ**: lib/supabaseApi.js - removeFromLive()

---

### 2.16 ë¼ì´ë¸Œ ìš°ì„ ìˆœìœ„ ë³€ê²½ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/broadcasts` - ë¼ì´ë¸Œ ë°©ì†¡ ê´€ë¦¬

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜
```javascript
updateLivePriority(productId, priority)
  â†“ updates
  products.live_priority = priority
```

#### ğŸ—„ï¸ DB ì‘ì—…
- `products` (UPDATE) - live_priority

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ìš°ì„ ìˆœìœ„ ìˆ«ì (1, 2, 3, ...)
- [ ] ì •ë ¬ ë°˜ì˜ (ë‚®ì€ ìˆ«ì ìš°ì„ )
- [ ] ë“œë˜ê·¸ ì•¤ ë“œë¡­ UI (ì„ íƒì )

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **ì½”ë“œ**: lib/supabaseApi.js - updateLivePriority()

---

### 2.17 ìƒí’ˆ ì¬ê³  ê´€ë¦¬ [ì¼ë°˜]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/products/[id]` - ê´€ë¦¬ì ìƒí’ˆ ìƒì„¸

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜
```javascript
updateProductInventory(productId, quantityChange)
  â†“ updates
  products.inventory (Variant ì—†ëŠ” ê²½ìš°)
```

#### ğŸ—„ï¸ DB ì‘ì—…
- `products` (UPDATE) - inventory

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] Variant ìˆìœ¼ë©´ Variant ì¬ê³  ì‚¬ìš©
- [ ] Variant ì—†ìœ¼ë©´ products.inventory ì‚¬ìš©
- [ ] ìŒìˆ˜ ì¬ê³  ë°©ì§€
- [ ] ì¬ê³  ë³€ê²½ ë¡œê·¸

#### ğŸ’¡ íŠ¹ì´ì‚¬í•­
- **Variant ì‹œìŠ¤í…œ**: Variantê°€ ìˆìœ¼ë©´ products.inventory ë¬´ì‹œ
- **ë ˆê±°ì‹œ ì§€ì›**: Variant ì—†ëŠ” ìƒí’ˆì€ products.inventory ì‚¬ìš©

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **ì½”ë“œ**: lib/supabaseApi.js - updateProductInventory()

---

### 2.18 ì˜µì…˜ í¬í•¨ ìƒí’ˆ ìƒì„± â­ [ì£¼ìš”]

#### ğŸ“ ì˜í–¥ë°›ëŠ” í˜ì´ì§€
1. `/admin/products/new` - ì‹ ê·œ ìƒí’ˆ ë“±ë¡ í˜ì´ì§€

#### ğŸ”§ í•µì‹¬ í•¨ìˆ˜ ì²´ì¸
```javascript
createProductWithOptions(productData, optionsData)
  â†“ creates
  addProduct(productData)
  â†“ creates
  product_options, product_option_values
  â†“ generates
  ì˜µì…˜ ì¡°í•© ë°°ì—´ (ìƒ‰ìƒ x ì‚¬ì´ì¦ˆ = Variants)
  â†“ creates
  product_variants (ê° ì¡°í•©ë§ˆë‹¤)
  â†“ maps
  variant_option_values (Variant-ì˜µì…˜ê°’ ë§¤í•‘)
```

#### ğŸ—„ï¸ DB ì‘ì—… ìˆœì„œ
1. `products` (INSERT)
2. `product_options` (INSERT) - ì—¬ëŸ¬ ì˜µì…˜
3. `product_option_values` (INSERT) - ê° ì˜µì…˜ì˜ ê°’ë“¤
4. `product_variants` (INSERT) - ëª¨ë“  ì˜µì…˜ ì¡°í•©
5. `variant_option_values` (INSERT) - ë§¤í•‘ í…Œì´ë¸”

#### ğŸ“Š ì˜µì…˜ ì¡°í•© ì˜ˆì‹œ
```javascript
// ì˜µì…˜: ìƒ‰ìƒ(ë¸”ë™, í™”ì´íŠ¸), ì‚¬ì´ì¦ˆ(S, M, L)
ì˜µì…˜ ì¡°í•© = [
  { ìƒ‰ìƒ: ë¸”ë™, ì‚¬ì´ì¦ˆ: S },
  { ìƒ‰ìƒ: ë¸”ë™, ì‚¬ì´ì¦ˆ: M },
  { ìƒ‰ìƒ: ë¸”ë™, ì‚¬ì´ì¦ˆ: L },
  { ìƒ‰ìƒ: í™”ì´íŠ¸, ì‚¬ì´ì¦ˆ: S },
  { ìƒ‰ìƒ: í™”ì´íŠ¸, ì‚¬ì´ì¦ˆ: M },
  { ìƒ‰ìƒ: í™”ì´íŠ¸, ì‚¬ì´ì¦ˆ: L },
]
// ì´ 6ê°œ Variant ìƒì„±
```

#### âš ï¸ í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì˜µì…˜ ì¡°í•© ìë™ ìƒì„±
- [ ] ê° Variantì— SKU í• ë‹¹
- [ ] ì´ˆê¸° ì¬ê³  ì„¤ì • (Variantë³„)
- [ ] ê°€ê²© ì„¤ì • (Variantë³„ ë˜ëŠ” ìƒí’ˆ ê¸°ë³¸ê°€)
- [ ] íŠ¸ëœì­ì…˜ ì‚¬ìš© (ì „ì²´ ì„±ê³µ ë˜ëŠ” ì „ì²´ ë¡¤ë°±)
- [ ] ì˜µì…˜ ìˆœì„œ ê´€ë¦¬ (position)

#### ğŸ”— ì—°ê´€ ê¸°ëŠ¥
- **ìƒí’ˆ ë“±ë¡** (addProduct)
- **Variant ìƒì„±** (createVariant)
- **ì˜µì…˜ ê´€ë¦¬** (ì˜µì…˜ ìƒì„±)

#### ğŸ“ ìƒì„¸ ë¬¸ì„œ ìœ„ì¹˜
- **ì½”ë“œ**: lib/supabaseApi.js - createProductWithOptions()

---

