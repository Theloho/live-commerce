# ë¼ì´ë¸Œ ì»¤ë¨¸ìŠ¤ ì‡¼í•‘ëª° - ì¢…í•© ê°œë°œ ê¸°íšì„œ

> **ì‘ì„±ì¼**: 2025-11-04
> **ë²„ì „**: 1.0
> **ëª©ì **: ë³¸ê²© ê°œë°œ ì°©ìˆ˜ ì „ ì™„ë²½í•œ ì„¤ê³„ ë° ê²€ì¦

---

## ğŸ“‹ ëª©ì°¨

1. [Part 1: ì‚¬ì´íŠ¸ êµ¬ì¡° ì„¤ê³„](#part-1-ì‚¬ì´íŠ¸-êµ¬ì¡°-ì„¤ê³„)
2. [Part 2: í˜ì´ì§€ë³„ ìƒì„¸ ê¸°ëŠ¥ ëª…ì„¸](#part-2-í˜ì´ì§€ë³„-ìƒì„¸-ê¸°ëŠ¥-ëª…ì„¸)
3. [Part 3: ì‚¬ìš©ì ê²½í—˜ ì„¤ê³„](#part-3-ì‚¬ìš©ì-ê²½í—˜-ì„¤ê³„)
4. [Part 4: ê¸°ìˆ  ì„¤ê³„](#part-4-ê¸°ìˆ -ì„¤ê³„)
5. [Part 5: ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨](#part-5-ì‹œí€€ìŠ¤-ë‹¤ì´ì–´ê·¸ë¨)
6. [Part 6: ì™€ì´ì–´í”„ë ˆì„ ê°€ì´ë“œ](#part-6-ì™€ì´ì–´í”„ë ˆì„-ê°€ì´ë“œ)
7. [Part 7: ì»´í¬ë„ŒíŠ¸ ì„¤ê³„](#part-7-ì»´í¬ë„ŒíŠ¸-ì„¤ê³„)
8. [Part 8: ì—ëŸ¬ ì²˜ë¦¬](#part-8-ì—ëŸ¬-ì²˜ë¦¬)
9. [Part 9: ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸](#part-9-ìµœì¢…-ì²´í¬ë¦¬ìŠ¤íŠ¸)

---

# Part 1: ì‚¬ì´íŠ¸ êµ¬ì¡° ì„¤ê³„

## 1.1 ì „ì²´ ì‚¬ì´íŠ¸ë§µ

### ì‚¬ìš©ì ì˜ì—­ (11ê°œ í˜ì´ì§€)

```
/ (í™ˆ)
â”œâ”€â”€ /products (ìƒí’ˆ ëª©ë¡)
â”‚   â””â”€â”€ /products/[id] (ìƒí’ˆ ìƒì„¸)
â”œâ”€â”€ /cart (ì¥ë°”êµ¬ë‹ˆ)
â”œâ”€â”€ /checkout (ì£¼ë¬¸í•˜ê¸°)
â”œâ”€â”€ /order-complete (ì£¼ë¬¸ ì™„ë£Œ)
â”œâ”€â”€ /orders (ì£¼ë¬¸ ë‚´ì—­)
â”‚   â””â”€â”€ /orders/[id] (ì£¼ë¬¸ ìƒì„¸)
â”œâ”€â”€ /mypage (ë§ˆì´í˜ì´ì§€)
â”‚   â”œâ”€â”€ /mypage/profile (í”„ë¡œí•„ ìˆ˜ì •)
â”‚   â””â”€â”€ /mypage/coupons (ë‚´ ì¿ í°)
â”œâ”€â”€ /live (ë¼ì´ë¸Œ ë°©ì†¡)
â””â”€â”€ /login (ë¡œê·¸ì¸)
    â””â”€â”€ /signup (íšŒì›ê°€ì…)
```

### ê´€ë¦¬ì ì˜ì—­ (25ê°œ í˜ì´ì§€)

```
/admin
â”œâ”€â”€ /dashboard (ëŒ€ì‹œë³´ë“œ)
â”œâ”€â”€ /products (ìƒí’ˆ ê´€ë¦¬)
â”‚   â”œâ”€â”€ / (ìƒí’ˆ ëª©ë¡)
â”‚   â”œâ”€â”€ /create (ìƒí’ˆ ë“±ë¡)
â”‚   â”œâ”€â”€ /[id] (ìƒí’ˆ ìƒì„¸)
â”‚   â””â”€â”€ /[id]/edit (ìƒí’ˆ ìˆ˜ì •)
â”œâ”€â”€ /orders (ì£¼ë¬¸ ê´€ë¦¬)
â”‚   â”œâ”€â”€ / (ì£¼ë¬¸ ëª©ë¡)
â”‚   â”œâ”€â”€ /[id] (ì£¼ë¬¸ ìƒì„¸)
â”‚   â”œâ”€â”€ /deposits (ì…ê¸ˆ í™•ì¸)
â”‚   â””â”€â”€ /shipping (ë°°ì†¡ ê´€ë¦¬)
â”œâ”€â”€ /coupons (ì¿ í° ê´€ë¦¬)
â”‚   â”œâ”€â”€ / (ì¿ í° ëª©ë¡)
â”‚   â”œâ”€â”€ /create (ì¿ í° ìƒì„±)
â”‚   â””â”€â”€ /distribute (ì¿ í° ë°°í¬)
â”œâ”€â”€ /purchase-orders (ë°œì£¼ ê´€ë¦¬)
â”‚   â”œâ”€â”€ / (ë°œì£¼ ëª©ë¡)
â”‚   â”œâ”€â”€ /create (ë°œì£¼ ìƒì„±)
â”‚   â””â”€â”€ /[id] (ë°œì£¼ ìƒì„¸)
â”œâ”€â”€ /suppliers (ê³µê¸‰ì²˜ ê´€ë¦¬)
â”‚   â”œâ”€â”€ / (ê³µê¸‰ì²˜ ëª©ë¡)
â”‚   â”œâ”€â”€ /create (ê³µê¸‰ì²˜ ë“±ë¡)
â”‚   â””â”€â”€ /[id] (ê³µê¸‰ì²˜ ìƒì„¸)
â”œâ”€â”€ /live (ë¼ì´ë¸Œ ê´€ë¦¬)
â”‚   â”œâ”€â”€ / (ë°©ì†¡ ëª©ë¡)
â”‚   â”œâ”€â”€ /create (ë°©ì†¡ ìƒì„±)
â”‚   â””â”€â”€ /[id] (ë°©ì†¡ ê´€ë¦¬)
â”œâ”€â”€ /customers (ê³ ê° ê´€ë¦¬)
â”‚   â”œâ”€â”€ / (ê³ ê° ëª©ë¡)
â”‚   â””â”€â”€ /[id] (ê³ ê° ìƒì„¸)
â”œâ”€â”€ /analytics (í†µê³„ ë¶„ì„)
â”‚   â”œâ”€â”€ /sales (ë§¤ì¶œ ë¶„ì„)
â”‚   â”œâ”€â”€ /products (ìƒí’ˆ ë¶„ì„)
â”‚   â””â”€â”€ /customers (ê³ ê° ë¶„ì„)
â””â”€â”€ /settings (ì‹œìŠ¤í…œ ì„¤ì •)
    â”œâ”€â”€ /general (ì¼ë°˜ ì„¤ì •)
    â”œâ”€â”€ /payment (ê²°ì œ ì„¤ì •)
    â””â”€â”€ /shipping (ë°°ì†¡ ì„¤ì •)
```

---

# Part 2: í˜ì´ì§€ë³„ ìƒì„¸ ê¸°ëŠ¥ ëª…ì„¸

## 2.1 ì‚¬ìš©ì í˜ì´ì§€

### 2.1.1 í™ˆ í˜ì´ì§€ (`/`)

**í˜ì´ì§€ ëª©ì **: ì‹ ê·œ ë°©ë¬¸ìë¥¼ ê³ ê°ìœ¼ë¡œ ì „í™˜, ì£¼ìš” ìƒí’ˆ ë…¸ì¶œ

**ì£¼ìš” ê¸°ëŠ¥**:

1. **íˆì–´ë¡œ ì„¹ì…˜**
   - í˜„ì¬ ì§„í–‰ ì¤‘ì¸ ë¼ì´ë¸Œ ë°©ì†¡ í‘œì‹œ (ìˆì„ ê²½ìš°)
   - ë©”ì¸ ë°°ë„ˆ ìŠ¬ë¼ì´ë” (ìˆ˜ë™ ê´€ë¦¬)
   - CTA ë²„íŠ¼ (ë¼ì´ë¸Œ ì…ì¥ or ì¸ê¸° ìƒí’ˆ ë³´ê¸°)

2. **ì¹´í…Œê³ ë¦¬ í€µ ë§í¬**
   - ì£¼ìš” ì¹´í…Œê³ ë¦¬ ì•„ì´ì½˜ + ì´ë¦„
   - í´ë¦­ ì‹œ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ ìƒí’ˆ ëª©ë¡ ì´ë™

3. **ì¶”ì²œ ìƒí’ˆ ì„¹ì…˜**
   - "ì‹ ìƒí’ˆ" (ìµœì‹  ë“±ë¡ ìˆœ 8ê°œ)
   - "ë² ìŠ¤íŠ¸ ìƒí’ˆ" (ì£¼ë¬¸ ìˆ˜ ê¸°ì¤€ 8ê°œ)
   - "í• ì¸ ìƒí’ˆ" (í• ì¸ìœ¨ ë†’ì€ ìˆœ 8ê°œ)

4. **ë¼ì´ë¸Œ ë°©ì†¡ ì˜ˆê³ **
   - ì˜ˆì •ëœ ë¼ì´ë¸Œ ë°©ì†¡ ì¼ì • í‘œì‹œ
   - D-Day ì¹´ìš´í„°

**API í˜¸ì¶œ**:
- `GET /api/products?featured=true&limit=8`
- `GET /api/live/broadcasts?status=upcoming`

**ìƒíƒœ ê´€ë¦¬**:
- ë¡œì»¬: ë°°ë„ˆ ìŠ¬ë¼ì´ë” ì¸ë±ìŠ¤
- ì„œë²„: ìƒí’ˆ ëª©ë¡, ë¼ì´ë¸Œ ì •ë³´

**ì—ëŸ¬ ì²˜ë¦¬**:
- API ì‹¤íŒ¨ ì‹œ ìºì‹œëœ ë°ì´í„° í‘œì‹œ
- ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨ ì‹œ í”Œë ˆì´ìŠ¤í™€ë”

---

### 2.1.2 ìƒí’ˆ ìƒì„¸ í˜ì´ì§€ (`/products/[id]`)

**í˜ì´ì§€ ëª©ì **: ìƒí’ˆ ì •ë³´ ì œê³µ, êµ¬ë§¤ ê²°ì • ìœ ë„

**ì£¼ìš” ê¸°ëŠ¥**:

1. **ìƒí’ˆ ì •ë³´ í‘œì‹œ**
   - ìƒí’ˆ ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬ (ë©”ì¸ + ì¸ë„¤ì¼)
   - ìƒí’ˆëª…, ìƒí’ˆë²ˆí˜¸
   - ê°€ê²© (ì •ê°€, í• ì¸ê°€, í• ì¸ìœ¨)
   - ë°°ì†¡ë¹„ ì •ë³´

2. **ì˜µì…˜ ì„ íƒ**
   - ì˜µì…˜ ì„ íƒ ë“œë¡­ë‹¤ìš´ (ìƒ‰ìƒ, ì‚¬ì´ì¦ˆ ë“±)
   - ì„ íƒëœ ì˜µì…˜ ëª©ë¡ í‘œì‹œ
   - ì˜µì…˜ë³„ ìˆ˜ëŸ‰ ì¡°ì ˆ (+/-)
   - ì¬ê³  ë¶€ì¡± ì‹œ "í’ˆì ˆ" í‘œì‹œ

3. **êµ¬ë§¤ ì•¡ì…˜**
   - ì´ ê¸ˆì•¡ ê³„ì‚° (ì‹¤ì‹œê°„)
   - "ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°" ë²„íŠ¼
   - "ë°”ë¡œ êµ¬ë§¤" ë²„íŠ¼
   - "ì°œí•˜ê¸°" ë²„íŠ¼

4. **ìƒí’ˆ ìƒì„¸ ì •ë³´**
   - ìƒì„¸ ì„¤ëª… (HTML ë Œë”ë§)
   - ë°°ì†¡/êµí™˜/ë°˜í’ˆ ì•ˆë‚´
   - ìƒí’ˆ í›„ê¸° (í–¥í›„ ê¸°ëŠ¥)

**API í˜¸ì¶œ**:
- `GET /api/products/:id`
- `GET /api/products/:id/variants`
- `POST /api/cart/items` (ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°)

**ìƒíƒœ ê´€ë¦¬**:
- ì„ íƒëœ ì˜µì…˜ ëª©ë¡ (ë°°ì—´)
- ì´ ê¸ˆì•¡
- ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬ ì¸ë±ìŠ¤

**ìœ íš¨ì„± ê²€ì‚¬**:
- ì˜µì…˜ í•„ìˆ˜ ì„ íƒ í™•ì¸
- ìµœì†Œ ìˆ˜ëŸ‰ 1ê°œ ì´ìƒ
- ì¬ê³  ìˆ˜ëŸ‰ ì²´í¬

**ì—ëŸ¬ ì²˜ë¦¬**:
- í’ˆì ˆ ìƒí’ˆ êµ¬ë§¤ ë°©ì§€
- ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ ì‹¤íŒ¨ ì‹œ ì•Œë¦¼
- ìƒí’ˆ ì •ë³´ ë¡œë“œ ì‹¤íŒ¨ ì‹œ 404 í˜ì´ì§€

---

### 2.1.3 ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ (`/cart`)

**í˜ì´ì§€ ëª©ì **: êµ¬ë§¤ ì˜ˆì • ìƒí’ˆ í™•ì¸ ë° ìˆ˜ì •

**ì£¼ìš” ê¸°ëŠ¥**:

1. **ì¥ë°”êµ¬ë‹ˆ ìƒí’ˆ ëª©ë¡**
   - ìƒí’ˆ ì´ë¯¸ì§€, ì´ë¦„, ì˜µì…˜
   - ë‹¨ê°€, ìˆ˜ëŸ‰, ì†Œê³„
   - ìˆ˜ëŸ‰ ë³€ê²½ ë²„íŠ¼ (+/-)
   - ê°œë³„ ì‚­ì œ ë²„íŠ¼ (X)

2. **ì„ íƒ/ì‚­ì œ ê¸°ëŠ¥**
   - ì „ì²´ ì„ íƒ ì²´í¬ë°•ìŠ¤
   - ê°œë³„ ì„ íƒ ì²´í¬ë°•ìŠ¤
   - ì„ íƒ ì‚­ì œ ë²„íŠ¼

3. **ì£¼ë¬¸ ìš”ì•½**
   - ì´ ìƒí’ˆ ê¸ˆì•¡
   - ì´ ë°°ì†¡ë¹„ (30,000ì› ì´ìƒ ë¬´ë£Œ)
   - ì´ ê²°ì œ ê¸ˆì•¡
   - "ì£¼ë¬¸í•˜ê¸°" ë²„íŠ¼

4. **ì¶”ì²œ ìƒí’ˆ**
   - ì¥ë°”êµ¬ë‹ˆ í•˜ë‹¨ì— "ì´ëŸ° ìƒí’ˆì€ ì–´ë•Œìš”?" ì„¹ì…˜

**API í˜¸ì¶œ**:
- `GET /api/cart`
- `PATCH /api/cart/items/:id` (ìˆ˜ëŸ‰ ë³€ê²½)
- `DELETE /api/cart/items/:id` (ì‚­ì œ)

**ìƒíƒœ ê´€ë¦¬**:
- ì„ íƒëœ ìƒí’ˆ ID ë°°ì—´
- ì¥ë°”êµ¬ë‹ˆ ìƒí’ˆ ëª©ë¡
- ì´ ê¸ˆì•¡ ê³„ì‚°

**ì—ëŸ¬ ì²˜ë¦¬**:
- ì¬ê³  ë¶€ì¡± ì‹œ ìµœëŒ€ ìˆ˜ëŸ‰ìœ¼ë¡œ ì œí•œ
- í’ˆì ˆ ìƒí’ˆ íšŒìƒ‰ ì²˜ë¦¬ + êµ¬ë§¤ ë¶ˆê°€ í‘œì‹œ
- API ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ ë²„íŠ¼

---

### 2.1.4 ì£¼ë¬¸í•˜ê¸° í˜ì´ì§€ (`/checkout`)

**í˜ì´ì§€ ëª©ì **: ì£¼ë¬¸ ì •ë³´ ì…ë ¥ ë° ê²°ì œ

**ì£¼ìš” ê¸°ëŠ¥**:

1. **ì£¼ë¬¸ ìƒí’ˆ í™•ì¸**
   - ì£¼ë¬¸ ìƒí’ˆ ëª©ë¡ (ì¥ë°”êµ¬ë‹ˆì—ì„œ ì„ íƒí•œ í•­ëª©)
   - ì˜µì…˜, ìˆ˜ëŸ‰, ê¸ˆì•¡ í‘œì‹œ

2. **ì£¼ë¬¸ì ì •ë³´**
   - ì´ë¦„, ì „í™”ë²ˆí˜¸
   - ì´ë©”ì¼ (ìë™ ì…ë ¥, ìˆ˜ì • ê°€ëŠ¥)

3. **ë°°ì†¡ì§€ ì •ë³´**
   - ìˆ˜ë ¹ì¸ ì´ë¦„, ì „í™”ë²ˆí˜¸
   - ìš°í¸ë²ˆí˜¸ (ë‹¤ìŒ ìš°í¸ë²ˆí˜¸ API)
   - ì£¼ì†Œ, ìƒì„¸ì£¼ì†Œ
   - ë°°ì†¡ ìš”ì²­ì‚¬í•­ (ì„ íƒ)
   - "ì£¼ë¬¸ì ì •ë³´ì™€ ë™ì¼" ì²´í¬ë°•ìŠ¤

4. **ì¿ í° ì„ íƒ**
   - ì‚¬ìš© ê°€ëŠ¥í•œ ì¿ í° ëª©ë¡
   - ì¿ í° ì„ íƒ ëª¨ë‹¬
   - ì ìš©ëœ ì¿ í° í‘œì‹œ ë° í•´ì œ

5. **ê²°ì œ ìˆ˜ë‹¨**
   - ë¬´í†µì¥ ì…ê¸ˆ (í˜„ì¬)
   - Toss Payments (í–¥í›„)

6. **ìµœì¢… ê¸ˆì•¡ í™•ì¸**
   - ì´ ìƒí’ˆ ê¸ˆì•¡
   - ë°°ì†¡ë¹„
   - ì¿ í° í• ì¸
   - ìµœì¢… ê²°ì œ ê¸ˆì•¡

7. **ì£¼ë¬¸ ë™ì˜**
   - ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë™ì˜
   - ê²°ì œ ëŒ€í–‰ ì„œë¹„ìŠ¤ ì•½ê´€ ë™ì˜
   - "ì£¼ë¬¸í•˜ê¸°" ë²„íŠ¼

**API í˜¸ì¶œ**:
- `GET /api/cart` (ì£¼ë¬¸ ìƒí’ˆ ê°€ì ¸ì˜¤ê¸°)
- `GET /api/coupons/available` (ì‚¬ìš© ê°€ëŠ¥ ì¿ í°)
- `POST /api/coupons/validate` (ì¿ í° ê²€ì¦)
- `POST /api/orders` (ì£¼ë¬¸ ìƒì„±)

**ìƒíƒœ ê´€ë¦¬**:
- ì£¼ë¬¸ì ì •ë³´ (form state)
- ë°°ì†¡ì§€ ì •ë³´ (form state)
- ì„ íƒëœ ì¿ í° ID
- ê³„ì‚°ëœ ê¸ˆì•¡ë“¤

**ìœ íš¨ì„± ê²€ì‚¬**:
- í•„ìˆ˜ ì…ë ¥ í•„ë“œ ê²€ì¦
- ì „í™”ë²ˆí˜¸ í˜•ì‹ (010-0000-0000)
- ìš°í¸ë²ˆí˜¸ ì…ë ¥ í™•ì¸
- ë™ì˜ ì²´í¬ë°•ìŠ¤ í•„ìˆ˜

**ì—ëŸ¬ ì²˜ë¦¬**:
- í’ˆì ˆ ìƒí’ˆ ì£¼ë¬¸ ë°©ì§€
- ì¿ í° ì ìš© ì‹¤íŒ¨ ì‹œ ì•Œë¦¼
- ì£¼ë¬¸ ìƒì„± ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„
- ê²°ì œ ì •ë³´ ì €ì¥ ì‹¤íŒ¨ ëŒ€ì‘

---

### 2.1.5 ì£¼ë¬¸ ì™„ë£Œ í˜ì´ì§€ (`/order-complete`)

**í˜ì´ì§€ ëª©ì **: ì£¼ë¬¸ ì™„ë£Œ í™•ì¸, ì…ê¸ˆ ì•ˆë‚´

**ì£¼ìš” ê¸°ëŠ¥**:

1. **ì£¼ë¬¸ ì™„ë£Œ ë©”ì‹œì§€**
   - ì£¼ë¬¸ë²ˆí˜¸ í‘œì‹œ
   - ì£¼ë¬¸ ì¼ì‹œ

2. **ì…ê¸ˆ ì•ˆë‚´** (ë¬´í†µì¥ ì…ê¸ˆ ì„ íƒ ì‹œ)
   - ì…ê¸ˆ ì€í–‰, ê³„ì¢Œë²ˆí˜¸
   - ì…ê¸ˆìëª… ì•ˆë‚´
   - ì…ê¸ˆ ê¸°í•œ (24ì‹œê°„)

3. **ì£¼ë¬¸ ë‚´ì—­ ìš”ì•½**
   - ì£¼ë¬¸ ìƒí’ˆ ëª©ë¡
   - ë°°ì†¡ì§€ ì •ë³´
   - ê²°ì œ ê¸ˆì•¡

4. **ë‹¤ìŒ ì•¡ì…˜**
   - "ì£¼ë¬¸ ìƒì„¸ ë³´ê¸°" ë²„íŠ¼
   - "ê³„ì† ì‡¼í•‘í•˜ê¸°" ë²„íŠ¼

**API í˜¸ì¶œ**:
- `GET /api/orders/:id` (ì£¼ë¬¸ ì •ë³´ í™•ì¸)

**ìƒíƒœ ê´€ë¦¬**:
- URL íŒŒë¼ë¯¸í„°ë¡œ ì£¼ë¬¸ ID ì „ë‹¬
- ì£¼ë¬¸ ì •ë³´ (ì„œë²„ì—ì„œ ê°€ì ¸ì˜´)

**ì—ëŸ¬ ì²˜ë¦¬**:
- ì£¼ë¬¸ ID ì—†ì„ ì‹œ í™ˆìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
- ì£¼ë¬¸ ì •ë³´ ë¡œë“œ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„

---

### 2.1.6 ì£¼ë¬¸ ë‚´ì—­ í˜ì´ì§€ (`/orders`)

**í˜ì´ì§€ ëª©ì **: ê³¼ê±° ì£¼ë¬¸ ë‚´ì—­ ì¡°íšŒ

**ì£¼ìš” ê¸°ëŠ¥**:

1. **ì£¼ë¬¸ ëª©ë¡**
   - ì£¼ë¬¸ë²ˆí˜¸, ì£¼ë¬¸ì¼ì‹œ
   - ì£¼ë¬¸ ìƒí’ˆ ëŒ€í‘œ ì´ë¯¸ì§€
   - ìƒí’ˆëª… (ì™¸ Nê°œ)
   - ì£¼ë¬¸ ìƒíƒœ (ì…ê¸ˆëŒ€ê¸°, ê²°ì œì™„ë£Œ, ë°°ì†¡ì¤‘, ë°°ì†¡ì™„ë£Œ, ì£¼ë¬¸ì·¨ì†Œ)
   - ê²°ì œ ê¸ˆì•¡

2. **í•„í„°ë§**
   - ê¸°ê°„ ì„ íƒ (1ê°œì›”, 3ê°œì›”, 6ê°œì›”, ì „ì²´)
   - ì£¼ë¬¸ ìƒíƒœë³„ í•„í„°

3. **ì£¼ë¬¸ë³„ ì•¡ì…˜**
   - "ì£¼ë¬¸ ìƒì„¸" ë²„íŠ¼
   - "ì£¼ë¬¸ ì·¨ì†Œ" ë²„íŠ¼ (ì…ê¸ˆëŒ€ê¸° ìƒíƒœë§Œ)
   - "ë°°ì†¡ ì¡°íšŒ" ë²„íŠ¼ (ë°°ì†¡ì¤‘/ì™„ë£Œ ìƒíƒœ)

**API í˜¸ì¶œ**:
- `GET /api/orders?status=&period=`
- `POST /api/orders/:id/cancel` (ì£¼ë¬¸ ì·¨ì†Œ)

**ìƒíƒœ ê´€ë¦¬**:
- ì„ íƒëœ ê¸°ê°„ í•„í„°
- ì„ íƒëœ ìƒíƒœ í•„í„°
- ì£¼ë¬¸ ëª©ë¡

**ì—ëŸ¬ ì²˜ë¦¬**:
- ì£¼ë¬¸ ë‚´ì—­ ì—†ì„ ì‹œ ì•ˆë‚´ ë©”ì‹œì§€
- ì£¼ë¬¸ ì·¨ì†Œ ì‹¤íŒ¨ ì‹œ ì•Œë¦¼

---

## 2.2 ê´€ë¦¬ì í˜ì´ì§€

### 2.2.1 ëŒ€ì‹œë³´ë“œ (`/admin/dashboard`)

**í˜ì´ì§€ ëª©ì **: ì „ì²´ ë¹„ì¦ˆë‹ˆìŠ¤ í˜„í™© í•œëˆˆì— íŒŒì•…

**ì£¼ìš” ê¸°ëŠ¥**:

1. **í•µì‹¬ ì§€í‘œ ì¹´ë“œ**
   - ì˜¤ëŠ˜ ë§¤ì¶œ (ì „ì¼ ëŒ€ë¹„ ì¦ê°)
   - ì˜¤ëŠ˜ ì£¼ë¬¸ ìˆ˜ (ì „ì¼ ëŒ€ë¹„)
   - ì…ê¸ˆ ëŒ€ê¸° ì£¼ë¬¸ ìˆ˜
   - ë°°ì†¡ ëŒ€ê¸° ì£¼ë¬¸ ìˆ˜

2. **ë§¤ì¶œ ì°¨íŠ¸**
   - ìµœê·¼ 7ì¼ ë§¤ì¶œ ì¶”ì´ (ë¼ì¸ ì°¨íŠ¸)
   - ìµœê·¼ 30ì¼ ë§¤ì¶œ ì¶”ì´ (ë¼ì¸ ì°¨íŠ¸)

3. **ì£¼ë¬¸ í˜„í™©**
   - ì£¼ë¬¸ ìƒíƒœë³„ ê±´ìˆ˜ (íŒŒì´ ì°¨íŠ¸)
   - ìµœê·¼ ì£¼ë¬¸ ëª©ë¡ (ìµœê·¼ 10ê°œ)

4. **ì¸ê¸° ìƒí’ˆ**
   - ë² ìŠ¤íŠ¸ì…€ëŸ¬ TOP 5
   - ìƒí’ˆëª…, íŒë§¤ ìˆ˜ëŸ‰, ë§¤ì¶œì•¡

5. **ì¬ê³  ì•Œë¦¼**
   - ì¬ê³  ë¶€ì¡± ìƒí’ˆ (10ê°œ ì´í•˜)
   - í’ˆì ˆ ìƒí’ˆ

6. **í€µ ì•¡ì…˜**
   - "ìƒí’ˆ ë“±ë¡" ë²„íŠ¼
   - "ì…ê¸ˆ í™•ì¸" ë²„íŠ¼
   - "ë°œì£¼ ìƒì„±" ë²„íŠ¼

**API í˜¸ì¶œ**:
- `GET /api/admin/stats/today`
- `GET /api/admin/stats/sales?period=7days`
- `GET /api/admin/orders?status=pending&limit=10`
- `GET /api/admin/products/best-sellers?limit=5`
- `GET /api/admin/products/low-stock?threshold=10`

**ìƒíƒœ ê´€ë¦¬**:
- ëŒ€ì‹œë³´ë“œ ë°ì´í„° (ì„œë²„ ìƒíƒœ)
- ì°¨íŠ¸ ê¸°ê°„ ì„ íƒ

**ì—ëŸ¬ ì²˜ë¦¬**:
- API ì‹¤íŒ¨ ì‹œ í•´ë‹¹ ì„¹ì…˜ë§Œ ì—ëŸ¬ í‘œì‹œ
- ì¬ì‹œë„ ë²„íŠ¼ ì œê³µ

---

### 2.2.2 ìƒí’ˆ ëª©ë¡ (`/admin/products`)

**í˜ì´ì§€ ëª©ì **: ë“±ë¡ëœ ìƒí’ˆ ê´€ë¦¬

**ì£¼ìš” ê¸°ëŠ¥**:

1. **ìƒí’ˆ ëª©ë¡ í…Œì´ë¸”**
   - ìƒí’ˆ ì´ë¯¸ì§€ (ì¸ë„¤ì¼)
   - ìƒí’ˆë²ˆí˜¸, ìƒí’ˆëª…
   - ì¹´í…Œê³ ë¦¬
   - íŒë§¤ê°€, í• ì¸ê°€
   - ì¬ê³  ìˆ˜ëŸ‰
   - ë…¸ì¶œ ì—¬ë¶€ (ON/OFF í† ê¸€)
   - ë“±ë¡ì¼

2. **ê²€ìƒ‰ ë° í•„í„°**
   - ìƒí’ˆëª…/ìƒí’ˆë²ˆí˜¸ ê²€ìƒ‰
   - ì¹´í…Œê³ ë¦¬ í•„í„°
   - ë…¸ì¶œ ìƒíƒœ í•„í„°
   - ì¬ê³  ìƒíƒœ í•„í„° (ì „ì²´, ì •ìƒ, ë¶€ì¡±, í’ˆì ˆ)

3. **ì •ë ¬**
   - ë“±ë¡ì¼ ìˆœ
   - íŒë§¤ ìˆ˜ëŸ‰ ìˆœ
   - ì¬ê³  ìˆ˜ëŸ‰ ìˆœ

4. **ëŒ€ëŸ‰ ì•¡ì…˜**
   - ì„ íƒ ìƒí’ˆ ë…¸ì¶œ/ìˆ¨ê¹€
   - ì„ íƒ ìƒí’ˆ ì‚­ì œ

5. **í˜ì´ì§€ë„¤ì´ì…˜**
   - í˜ì´ì§€ë‹¹ 20ê°œ
   - ì´ì „/ë‹¤ìŒ ë²„íŠ¼

**API í˜¸ì¶œ**:
- `GET /api/admin/products?page=&search=&category=&status=`
- `PATCH /api/admin/products/:id` (ë…¸ì¶œ í† ê¸€)
- `DELETE /api/admin/products` (ëŒ€ëŸ‰ ì‚­ì œ)

**ìƒíƒœ ê´€ë¦¬**:
- ê²€ìƒ‰ì–´, í•„í„° ìƒíƒœ
- ì„ íƒëœ ìƒí’ˆ ID ë°°ì—´
- í˜„ì¬ í˜ì´ì§€

---

### 2.2.3 ìƒí’ˆ ë“±ë¡ (`/admin/products/create`)

**í˜ì´ì§€ ëª©ì **: ì‹ ê·œ ìƒí’ˆ ë“±ë¡

**ì£¼ìš” ê¸°ëŠ¥**:

1. **ê¸°ë³¸ ì •ë³´**
   - ìƒí’ˆëª… (í•„ìˆ˜)
   - ìƒí’ˆë²ˆí˜¸ (ìë™ ìƒì„± or ìˆ˜ë™ ì…ë ¥)
   - ì¹´í…Œê³ ë¦¬ ì„ íƒ (í•„ìˆ˜)
   - ê³µê¸‰ì²˜ ì„ íƒ
   - íŒë§¤ê°€ (í•„ìˆ˜)
   - í• ì¸ê°€
   - ë…¸ì¶œ ì—¬ë¶€

2. **ìƒí’ˆ ì´ë¯¸ì§€**
   - ë©”ì¸ ì´ë¯¸ì§€ ì—…ë¡œë“œ (í•„ìˆ˜, 1ê°œ)
   - ì¶”ê°€ ì´ë¯¸ì§€ ì—…ë¡œë“œ (ìµœëŒ€ 9ê°œ)
   - ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì§€ì›
   - ìˆœì„œ ë³€ê²½ ê°€ëŠ¥

3. **ì˜µì…˜ ì„¤ì •**
   - ì˜µì…˜ ì‚¬ìš© ì—¬ë¶€ ì²´í¬ë°•ìŠ¤
   - ì˜µì…˜ëª… ì…ë ¥ (ì˜ˆ: ìƒ‰ìƒ, ì‚¬ì´ì¦ˆ)
   - ì˜µì…˜ê°’ ì…ë ¥ (ì˜ˆ: ë¹¨ê°•, íŒŒë‘)
   - ì˜µì…˜ ì¡°í•©ë³„ ì¶”ê°€ ê¸ˆì•¡
   - ì˜µì…˜ ì¡°í•©ë³„ ì¬ê³  ìˆ˜ëŸ‰

4. **ìƒì„¸ ì„¤ëª…**
   - ì—ë””í„° (Tiptap)
   - ì´ë¯¸ì§€ ì—…ë¡œë“œ
   - HTML ë¯¸ë¦¬ë³´ê¸°

5. **ë°°ì†¡ ì •ë³´**
   - ë°°ì†¡ë¹„ (ê¸°ë³¸ 3,000ì›)
   - ë¬´ë£Œ ë°°ì†¡ ì¡°ê±´ (30,000ì› ì´ìƒ)

6. **ì €ì¥ ì•¡ì…˜**
   - "ì„ì‹œ ì €ì¥" ë²„íŠ¼ (ë…¸ì¶œ OFFë¡œ ì €ì¥)
   - "ì €ì¥ ë° ë…¸ì¶œ" ë²„íŠ¼ (ë…¸ì¶œ ONìœ¼ë¡œ ì €ì¥)

**API í˜¸ì¶œ**:
- `POST /api/admin/products` (ìƒí’ˆ ìƒì„±)
- `POST /api/admin/products/images` (ì´ë¯¸ì§€ ì—…ë¡œë“œ)

**ìœ íš¨ì„± ê²€ì‚¬**:
- í•„ìˆ˜ í•„ë“œ ì…ë ¥ í™•ì¸
- ê°€ê²© 0ì› ì´ìƒ
- ì´ë¯¸ì§€ íŒŒì¼ í˜•ì‹ (jpg, png, webp)
- ì´ë¯¸ì§€ í¬ê¸° ì œí•œ (10MB)

**ì—ëŸ¬ ì²˜ë¦¬**:
- ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„
- ìƒí’ˆ ë“±ë¡ ì‹¤íŒ¨ ì‹œ ì…ë ¥ ë°ì´í„° ë³´ì¡´
- ì¤‘ë³µ ìƒí’ˆë²ˆí˜¸ ê²½ê³ 

---

### 2.2.4 ì£¼ë¬¸ ê´€ë¦¬ (`/admin/orders`)

**í˜ì´ì§€ ëª©ì **: ì „ì²´ ì£¼ë¬¸ ê´€ë¦¬

**ì£¼ìš” ê¸°ëŠ¥**:

1. **ì£¼ë¬¸ ëª©ë¡ í…Œì´ë¸”**
   - ì£¼ë¬¸ë²ˆí˜¸, ì£¼ë¬¸ì¼ì‹œ
   - ì£¼ë¬¸ìëª…, ì „í™”ë²ˆí˜¸
   - ì£¼ë¬¸ ìƒí’ˆ (ëŒ€í‘œ ìƒí’ˆëª… + ì™¸ Nê°œ)
   - ì£¼ë¬¸ ê¸ˆì•¡
   - ì£¼ë¬¸ ìƒíƒœ (ë°°ì§€)
   - ì…ê¸ˆìëª… (ë¬´í†µì¥ ì…ê¸ˆ)

2. **ê²€ìƒ‰ ë° í•„í„°**
   - ì£¼ë¬¸ë²ˆí˜¸/ì£¼ë¬¸ìëª…/ì „í™”ë²ˆí˜¸ ê²€ìƒ‰
   - ì£¼ë¬¸ ìƒíƒœ í•„í„°
   - ë‚ ì§œ ë²”ìœ„ ì„ íƒ

3. **ì •ë ¬**
   - ì£¼ë¬¸ì¼ì‹œ ìˆœ (ìµœì‹ /ê³¼ê±°)
   - ì£¼ë¬¸ ê¸ˆì•¡ ìˆœ

4. **ì£¼ë¬¸ë³„ ì•¡ì…˜**
   - "ìƒì„¸ ë³´ê¸°" ë²„íŠ¼
   - "ì…ê¸ˆ í™•ì¸" ë²„íŠ¼ (ì…ê¸ˆëŒ€ê¸° ìƒíƒœ)
   - "ë°°ì†¡ ì²˜ë¦¬" ë²„íŠ¼ (ê²°ì œì™„ë£Œ ìƒíƒœ)

5. **ëŒ€ëŸ‰ ì•¡ì…˜**
   - ì„ íƒ ì£¼ë¬¸ ì—‘ì…€ ë‹¤ìš´ë¡œë“œ

**API í˜¸ì¶œ**:
- `GET /api/admin/orders?page=&search=&status=&date_from=&date_to=`
- `PATCH /api/admin/orders/:id/status` (ìƒíƒœ ë³€ê²½)

**ìƒíƒœ ê´€ë¦¬**:
- ê²€ìƒ‰ì–´, í•„í„°, ë‚ ì§œ ë²”ìœ„
- ì„ íƒëœ ì£¼ë¬¸ ID ë°°ì—´

---

### 2.2.5 ì…ê¸ˆ í™•ì¸ (`/admin/orders/deposits`)

**í˜ì´ì§€ ëª©ì **: ë¬´í†µì¥ ì…ê¸ˆ í™•ì¸ ë° ì²˜ë¦¬

**ì£¼ìš” ê¸°ëŠ¥**:

1. **ì…ê¸ˆ ëŒ€ê¸° ì£¼ë¬¸ ëª©ë¡**
   - ì£¼ë¬¸ë²ˆí˜¸, ì£¼ë¬¸ì¼ì‹œ
   - ì£¼ë¬¸ìëª…
   - ì…ê¸ˆìëª… (ì£¼ë¬¸ ì‹œ ì…ë ¥)
   - ì£¼ë¬¸ ê¸ˆì•¡
   - ì…ê¸ˆ ê¸°í•œ (ë‚¨ì€ ì‹œê°„ í‘œì‹œ)

2. **ì…ê¸ˆ í™•ì¸ ì²˜ë¦¬**
   - ê°œë³„ "ì…ê¸ˆ í™•ì¸" ë²„íŠ¼
   - í™•ì¸ ì‹œ ì£¼ë¬¸ ìƒíƒœ â†’ "ê²°ì œì™„ë£Œ"
   - í™•ì¸ ëª¨ë‹¬ (ê¸ˆì•¡ ì¬í™•ì¸)

3. **ì…ê¸ˆ ê¸°í•œ ê´€ë¦¬**
   - ê¸°í•œ ì´ˆê³¼ ì£¼ë¬¸ ìë™ ì·¨ì†Œ (ì‹œìŠ¤í…œ)
   - ìˆ˜ë™ ì·¨ì†Œ ë²„íŠ¼

**API í˜¸ì¶œ**:
- `GET /api/admin/orders?status=pending_payment`
- `POST /api/admin/orders/:id/confirm-payment`
- `POST /api/admin/orders/:id/cancel`

**ìƒíƒœ ê´€ë¦¬**:
- ì…ê¸ˆ ëŒ€ê¸° ì£¼ë¬¸ ëª©ë¡

**ì—ëŸ¬ ì²˜ë¦¬**:
- ì…ê¸ˆ í™•ì¸ ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„
- ì¤‘ë³µ í™•ì¸ ë°©ì§€

---

### 2.2.6 ë°°ì†¡ ê´€ë¦¬ (`/admin/orders/shipping`)

**í˜ì´ì§€ ëª©ì **: ë°°ì†¡ ì²˜ë¦¬ ë° ì¶”ì 

**ì£¼ìš” ê¸°ëŠ¥**:

1. **ë°°ì†¡ ëŒ€ê¸° ì£¼ë¬¸ ëª©ë¡**
   - ì£¼ë¬¸ë²ˆí˜¸
   - ìˆ˜ë ¹ì¸, ë°°ì†¡ì§€
   - ì£¼ë¬¸ ìƒí’ˆ
   - ê²°ì œ ì™„ë£Œ ì¼ì‹œ

2. **ë°°ì†¡ ì²˜ë¦¬**
   - íƒë°°ì‚¬ ì„ íƒ (CJëŒ€í•œí†µìš´, ìš°ì²´êµ­ ë“±)
   - ì†¡ì¥ë²ˆí˜¸ ì…ë ¥
   - "ë°°ì†¡ ì‹œì‘" ë²„íŠ¼
   - ì¼ê´„ ì—…ë¡œë“œ (ì—‘ì…€)

3. **ë°°ì†¡ ì¤‘ ì£¼ë¬¸ ëª©ë¡**
   - ì†¡ì¥ë²ˆí˜¸
   - ë°°ì†¡ì‚¬
   - ë°°ì†¡ ì¡°íšŒ ë§í¬

**API í˜¸ì¶œ**:
- `GET /api/admin/orders?status=paid`
- `POST /api/admin/orders/:id/ship`
- `POST /api/admin/orders/bulk-ship` (ì¼ê´„ ì²˜ë¦¬)

**ìœ íš¨ì„± ê²€ì‚¬**:
- ì†¡ì¥ë²ˆí˜¸ í˜•ì‹ í™•ì¸

---

### 2.2.7 ì¿ í° ê´€ë¦¬ (`/admin/coupons`)

**í˜ì´ì§€ ëª©ì **: ì¿ í° ìƒì„± ë° ê´€ë¦¬

**ì£¼ìš” ê¸°ëŠ¥**:

1. **ì¿ í° ëª©ë¡**
   - ì¿ í°ëª…
   - ì¿ í° ì½”ë“œ
   - í• ì¸ ìœ í˜• (ì •ì•¡/ì •ë¥ )
   - í• ì¸ ê¸ˆì•¡/í• ì¸ìœ¨
   - ìµœì†Œ ì£¼ë¬¸ ê¸ˆì•¡
   - ì‚¬ìš© ê¸°ê°„
   - ë°œê¸‰/ì‚¬ìš© ìˆ˜

2. **ì¿ í° ìƒì„±**
   - ì¿ í°ëª… (ë‚´ë¶€ ê´€ë¦¬ìš©)
   - ì¿ í° ì½”ë“œ (ê³ ê° ì…ë ¥ìš©)
   - í• ì¸ ìœ í˜• ì„ íƒ
   - í• ì¸ ê¸ˆì•¡ or í• ì¸ìœ¨
   - ìµœì†Œ ì£¼ë¬¸ ê¸ˆì•¡
   - ìœ íš¨ ê¸°ê°„ (ì‹œì‘ì¼, ì¢…ë£Œì¼)
   - ë°œê¸‰ ìˆ˜ëŸ‰ ì œí•œ (ì„ íƒ)

3. **ì¿ í° ë°°í¬**
   - ì „ì²´ ê³ ê° ë°°í¬
   - íŠ¹ì • ê³ ê° ì„ íƒ ë°°í¬
   - ì‹ ê·œ ê°€ì… ìë™ ë°°í¬ ì„¤ì •

**API í˜¸ì¶œ**:
- `GET /api/admin/coupons`
- `POST /api/admin/coupons`
- `POST /api/admin/coupons/:id/distribute`

---

### 2.2.8 ì¿ í° ìƒì„± (`/admin/coupons/create`)

**ì£¼ìš” ê¸°ëŠ¥**:

1. **ê¸°ë³¸ ì •ë³´**
   - ì¿ í°ëª… (í•„ìˆ˜)
   - ì¿ í° ì„¤ëª…
   - ì¿ í° ì½”ë“œ (ìë™ ìƒì„± or ìˆ˜ë™)

2. **í• ì¸ ì„¤ì •**
   - í• ì¸ ìœ í˜• (ì •ì•¡/ì •ë¥ )
   - í• ì¸ ê¸ˆì•¡ (ì •ì•¡ ì„ íƒ ì‹œ)
   - í• ì¸ìœ¨ (ì •ë¥  ì„ íƒ ì‹œ, ìµœëŒ€ 100%)
   - ìµœëŒ€ í• ì¸ ê¸ˆì•¡ (ì •ë¥  ì„ íƒ ì‹œ)

3. **ì‚¬ìš© ì¡°ê±´**
   - ìµœì†Œ ì£¼ë¬¸ ê¸ˆì•¡
   - ì‚¬ìš© ê°€ëŠ¥ ì¹´í…Œê³ ë¦¬ (ì „ì²´ or íŠ¹ì •)
   - ì¤‘ë³µ ì‚¬ìš© ê°€ëŠ¥ ì—¬ë¶€

4. **ë°œê¸‰ ì„¤ì •**
   - ë°œê¸‰ ìˆ˜ëŸ‰ ì œí•œ (ë¬´ì œí•œ or ì œí•œ)
   - 1ì¸ë‹¹ ë°œê¸‰ ìˆ˜ëŸ‰
   - ìœ íš¨ ê¸°ê°„ (ì‹œì‘ì¼, ì¢…ë£Œì¼)

**ìœ íš¨ì„± ê²€ì‚¬**:
- í• ì¸ ê¸ˆì•¡/ìœ¨ 0ë³´ë‹¤ í° ê°’
- ì¢…ë£Œì¼ì´ ì‹œì‘ì¼ë³´ë‹¤ ë‚˜ì¤‘

---

### 2.2.9 ì¿ í° ë°°í¬ (`/admin/coupons/distribute`)

**ì£¼ìš” ê¸°ëŠ¥**:

1. **ë°°í¬ ëŒ€ìƒ ì„ íƒ**
   - ì „ì²´ ê³ ê°
   - íŠ¹ì • ê³ ê° ê²€ìƒ‰ ë° ì„ íƒ
   - ê³ ê° ë“±ê¸‰ë³„ ì„ íƒ (í–¥í›„)

2. **ë°°í¬í•  ì¿ í° ì„ íƒ**
   - ì‚¬ìš© ê°€ëŠ¥í•œ ì¿ í° ëª©ë¡
   - ë¼ë””ì˜¤ ë²„íŠ¼ìœ¼ë¡œ ì„ íƒ

3. **ë°°í¬ ì‹¤í–‰**
   - "ë°°í¬í•˜ê¸°" ë²„íŠ¼
   - ë°°í¬ ê²°ê³¼ í‘œì‹œ (ì„±ê³µ/ì‹¤íŒ¨ ê±´ìˆ˜)

**API í˜¸ì¶œ**:
- `GET /api/admin/customers?search=`
- `POST /api/admin/coupons/:id/distribute`

---

### 2.2.10 ë°œì£¼ ê´€ë¦¬ (`/admin/purchase-orders`)

**í˜ì´ì§€ ëª©ì **: ê³µê¸‰ì²˜ë³„ ìƒí’ˆ ë°œì£¼ ê´€ë¦¬

**ì£¼ìš” ê¸°ëŠ¥**:

1. **ë°œì£¼ ëª©ë¡**
   - ë°œì£¼ë²ˆí˜¸
   - ê³µê¸‰ì²˜ëª…
   - ë°œì£¼ì¼
   - ë°œì£¼ ìƒí’ˆ ìˆ˜
   - ì´ ë°œì£¼ ê¸ˆì•¡
   - ë°œì£¼ ìƒíƒœ (ëŒ€ê¸°, ì™„ë£Œ)

2. **ë°œì£¼ ìƒì„±**
   - ê³µê¸‰ì²˜ ì„ íƒ
   - ìƒí’ˆ ê²€ìƒ‰ ë° ì¶”ê°€
   - ìˆ˜ëŸ‰ ì…ë ¥
   - ìë™ ì´ì•¡ ê³„ì‚°

3. **ë°œì£¼ ìƒì„¸**
   - ë°œì£¼ ìƒí’ˆ ëª©ë¡
   - ìƒí’ˆë³„ ìˆ˜ëŸ‰, ë‹¨ê°€
   - ì…ê³  ì²˜ë¦¬ (ì¬ê³  ìë™ ì¦ê°€)

**API í˜¸ì¶œ**:
- `GET /api/admin/purchase-orders`
- `POST /api/admin/purchase-orders`
- `POST /api/admin/purchase-orders/:id/receive` (ì…ê³  ì²˜ë¦¬)

---

# Part 3: ì‚¬ìš©ì ê²½í—˜ ì„¤ê³„

## 3.1 ì£¼ìš” ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ì²« êµ¬ë§¤ ê³ ê° (ì‹ ê·œ ê°€ì… â†’ êµ¬ë§¤)

**ëª©í‘œ**: ì‹ ê·œ ë°©ë¬¸ìê°€ 5ë¶„ ë‚´ êµ¬ë§¤ ì™„ë£Œ

**ë‹¨ê³„**:

1. **ì§„ì…** (0:00)
   - í™ˆ í˜ì´ì§€ ë°©ë¬¸
   - ë©”ì¸ ë°°ë„ˆ í™•ì¸

2. **ìƒí’ˆ íƒìƒ‰** (0:30)
   - ì¹´í…Œê³ ë¦¬ or ë² ìŠ¤íŠ¸ ìƒí’ˆ í´ë¦­
   - ìƒí’ˆ ëª©ë¡ ìŠ¤í¬ë¡¤
   - ê´€ì‹¬ ìƒí’ˆ í´ë¦­

3. **ìƒí’ˆ ìƒì„¸** (1:00)
   - ì´ë¯¸ì§€ í™•ì¸
   - ê°€ê²© í™•ì¸
   - ì˜µì…˜ ì„ íƒ
   - "ë°”ë¡œ êµ¬ë§¤" í´ë¦­

4. **ë¡œê·¸ì¸ ìœ ë„** (2:00)
   - ë¡œê·¸ì¸ ëª¨ë‹¬ í‘œì‹œ
   - "ê°„í¸ ê°€ì…í•˜ê³  êµ¬ë§¤í•˜ê¸°" ì„ íƒ
   - Kakao ë¡œê·¸ì¸ ì§„í–‰
   - ì „í™”ë²ˆí˜¸ ì¶”ê°€ ì…ë ¥

5. **ì£¼ë¬¸í•˜ê¸°** (3:00)
   - ì£¼ë¬¸ì ì •ë³´ ìë™ ì…ë ¥ (Kakaoì—ì„œ)
   - ë°°ì†¡ì§€ ì…ë ¥ (ë‹¤ìŒ ìš°í¸ë²ˆí˜¸ API)
   - ì¿ í° í™•ì¸ (ì‹ ê·œ ê°€ì… ì¿ í° ìë™ ì ìš©)
   - ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ (ë¬´í†µì¥ ì…ê¸ˆ)
   - "ì£¼ë¬¸í•˜ê¸°" í´ë¦­

6. **ì£¼ë¬¸ ì™„ë£Œ** (4:00)
   - ì£¼ë¬¸ë²ˆí˜¸ í™•ì¸
   - ì…ê¸ˆ ê³„ì¢Œ ì •ë³´ í™•ì¸
   - ì…ê¸ˆìëª… ë©”ëª¨

**ì†Œìš” ì‹œê°„**: ì•½ 5ë¶„

**í•µì‹¬ UX**:
- ê°„í¸ ê°€ì… (Kakao ë¡œê·¸ì¸)
- ìë™ ì…ë ¥ (ì£¼ë¬¸ì ì •ë³´)
- ì‹ ê·œ ì¿ í° ìë™ ì ìš©

---

### ì‹œë‚˜ë¦¬ì˜¤ 2: ì¬êµ¬ë§¤ ê³ ê°

**ëª©í‘œ**: ë¡œê·¸ì¸ í›„ 1ë¶„ ë‚´ êµ¬ë§¤ ì™„ë£Œ

**ë‹¨ê³„**:

1. **ì§„ì…** (0:00)
   - í™ˆ í˜ì´ì§€ ë°©ë¬¸ (ë¡œê·¸ì¸ ìƒíƒœ)
   - ìƒí’ˆ í´ë¦­

2. **ìƒí’ˆ ìƒì„¸** (0:15)
   - ì´ì „ êµ¬ë§¤ ì˜µì…˜ ê¸°ì–µ
   - ì˜µì…˜ ì„ íƒ
   - "ë°”ë¡œ êµ¬ë§¤" í´ë¦­

3. **ì£¼ë¬¸í•˜ê¸°** (0:30)
   - ì£¼ë¬¸ì ì •ë³´ ìë™ ì…ë ¥
   - ì´ì „ ë°°ì†¡ì§€ ì„ íƒ (ì €ì¥ëœ ì£¼ì†Œ)
   - ì¿ í° ì„ íƒ
   - "ì£¼ë¬¸í•˜ê¸°" í´ë¦­

4. **ì£¼ë¬¸ ì™„ë£Œ** (1:00)
   - ì…ê¸ˆ ì •ë³´ í™•ì¸

**ì†Œìš” ì‹œê°„**: ì•½ 1ë¶„

**í•µì‹¬ UX**:
- ì €ì¥ëœ ë°°ì†¡ì§€
- ë¹ ë¥¸ ì²´í¬ì•„ì›ƒ

---

### ì‹œë‚˜ë¦¬ì˜¤ 3: ë¼ì´ë¸Œ ë°©ì†¡ â†’ êµ¬ë§¤

**ëª©í‘œ**: ë¼ì´ë¸Œ ì¤‘ ì¶©ë™ êµ¬ë§¤ ìœ ë„

**ë‹¨ê³„**:

1. **ë¼ì´ë¸Œ ì‹œì²­** (0:00)
   - ë¼ì´ë¸Œ í˜ì´ì§€ ì§„ì…
   - ë°©ì†¡ ì‹œì²­

2. **ìƒí’ˆ ë…¸ì¶œ** (1:00)
   - í˜¸ìŠ¤íŠ¸ê°€ ìƒí’ˆ ì†Œê°œ
   - í™”ë©´ í•˜ë‹¨ì— ìƒí’ˆ ì¹´ë“œ í‘œì‹œ
   - í•œì • ìˆ˜ëŸ‰ í‘œì‹œ (30ê°œ ë‚¨ìŒ!)

3. **ë¹ ë¥¸ êµ¬ë§¤** (1:30)
   - ìƒí’ˆ ì¹´ë“œ í´ë¦­
   - ì˜µì…˜ ì„ íƒ ëª¨ë‹¬ (ë¼ì´ë¸Œ í™”ë©´ ìœ ì§€)
   - "ë°”ë¡œ êµ¬ë§¤" í´ë¦­

4. **ê°„í¸ ì²´í¬ì•„ì›ƒ** (2:00)
   - ìµœì†Œ ì…ë ¥ (ë°°ì†¡ì§€ë§Œ)
   - "ì£¼ë¬¸í•˜ê¸°" í´ë¦­

5. **êµ¬ë§¤ ì™„ë£Œ** (2:30)
   - ë¼ì´ë¸Œ í™”ë©´ìœ¼ë¡œ ë³µê·€

**ì†Œìš” ì‹œê°„**: ì•½ 2ë¶„ 30ì´ˆ

**í•µì‹¬ UX**:
- ë¼ì´ë¸Œ ì¤‘ë‹¨ ìµœì†Œí™”
- í•œì • ìˆ˜ëŸ‰ ê¸´ê¸‰ì„±
- ê°„í¸ ì²´í¬ì•„ì›ƒ

---

### ì‹œë‚˜ë¦¬ì˜¤ 4: ê´€ë¦¬ì - ìƒí’ˆ ë“±ë¡

**ëª©í‘œ**: ì‹ ê·œ ìƒí’ˆ 10ë¶„ ë‚´ ë“±ë¡

**ë‹¨ê³„**:

1. **ë¡œê·¸ì¸** (0:00)
   - ê´€ë¦¬ì ë¡œê·¸ì¸

2. **ìƒí’ˆ ë“±ë¡ í˜ì´ì§€** (0:30)
   - "ìƒí’ˆ ë“±ë¡" í´ë¦­

3. **ê¸°ë³¸ ì •ë³´ ì…ë ¥** (2:00)
   - ìƒí’ˆëª…, ì¹´í…Œê³ ë¦¬, ê°€ê²© ì…ë ¥
   - ê³µê¸‰ì²˜ ì„ íƒ

4. **ì´ë¯¸ì§€ ì—…ë¡œë“œ** (4:00)
   - ë©”ì¸ ì´ë¯¸ì§€ + ì¶”ê°€ ì´ë¯¸ì§€ ì—…ë¡œë“œ
   - ë“œë˜ê·¸ ì•¤ ë“œë¡­ í™œìš©

5. **ì˜µì…˜ ì„¤ì •** (6:00)
   - ì˜µì…˜ëª…, ì˜µì…˜ê°’ ì…ë ¥
   - ì˜µì…˜ ì¡°í•©ë³„ ì¬ê³  ì…ë ¥

6. **ìƒì„¸ ì„¤ëª… ì‘ì„±** (8:00)
   - ì—ë””í„°ë¡œ ìƒì„¸ ì„¤ëª… ì‘ì„±
   - ì´ë¯¸ì§€ ì¶”ê°€

7. **ì €ì¥** (10:00)
   - "ì €ì¥ ë° ë…¸ì¶œ" í´ë¦­
   - ì™„ë£Œ ë©”ì‹œì§€ í™•ì¸

**ì†Œìš” ì‹œê°„**: ì•½ 10ë¶„

**í•µì‹¬ UX**:
- ì§ê´€ì ì¸ í¼
- ë“œë˜ê·¸ ì•¤ ë“œë¡­
- ìë™ ì €ì¥ (ì„ íƒ)

---

### ì‹œë‚˜ë¦¬ì˜¤ 5: ê´€ë¦¬ì - ì…ê¸ˆ í™•ì¸ â†’ ë°œì£¼

**ëª©í‘œ**: ì£¼ë¬¸ ì²˜ë¦¬ ë° ì¬ê³  ê´€ë¦¬

**ë‹¨ê³„**:

1. **ëŒ€ì‹œë³´ë“œ í™•ì¸** (0:00)
   - "ì…ê¸ˆ ëŒ€ê¸° 10ê±´" í™•ì¸

2. **ì…ê¸ˆ í™•ì¸** (1:00)
   - ì…ê¸ˆ í™•ì¸ í˜ì´ì§€ ì´ë™
   - ì€í–‰ ê³„ì¢Œ í™•ì¸
   - ì…ê¸ˆìëª… ëŒ€ì¡°
   - "ì…ê¸ˆ í™•ì¸" í´ë¦­ (10ê±´)

3. **ì¬ê³  í™•ì¸** (5:00)
   - ëŒ€ì‹œë³´ë“œë¡œ ë³µê·€
   - "ì¬ê³  ë¶€ì¡± ìƒí’ˆ 5ê°œ" í™•ì¸

4. **ë°œì£¼ ìƒì„±** (7:00)
   - ë°œì£¼ ê´€ë¦¬ í˜ì´ì§€ ì´ë™
   - "ë°œì£¼ ìƒì„±" í´ë¦­
   - ê³µê¸‰ì²˜ ì„ íƒ
   - ì¬ê³  ë¶€ì¡± ìƒí’ˆ ê²€ìƒ‰ ë° ì¶”ê°€
   - ìˆ˜ëŸ‰ ì…ë ¥
   - "ë°œì£¼ ìƒì„±" í´ë¦­

5. **ë°°ì†¡ ì²˜ë¦¬ ì˜ˆì•½** (10:00)
   - ì£¼ë¬¸ ê´€ë¦¬ í˜ì´ì§€
   - ë°°ì†¡ ëŒ€ê¸° ì£¼ë¬¸ í™•ì¸
   - íƒë°°ì‚¬ ì„ íƒ, ì†¡ì¥ ì…ë ¥ (ì¼ê´„ ì—…ë¡œë“œ)
   - "ë°°ì†¡ ì‹œì‘" í´ë¦­

**ì†Œìš” ì‹œê°„**: ì•½ 15ë¶„

**í•µì‹¬ UX**:
- ëŒ€ì‹œë³´ë“œ ì¤‘ì‹¬ ì›Œí¬í”Œë¡œìš°
- ì¼ê´„ ì²˜ë¦¬ ê¸°ëŠ¥
- ìë™ ì•Œë¦¼

---

## 3.2 ì‚¬ìš©ì í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨

### 3.2.1 êµ¬ë§¤ í”Œë¡œìš°

```mermaid
graph TD
    A[í™ˆ í˜ì´ì§€] --> B{ë¡œê·¸ì¸?}
    B -->|Yes| C[ìƒí’ˆ íƒìƒ‰]
    B -->|No| D[ë¡œê·¸ì¸/ê°€ì…]
    D --> C
    C --> E[ìƒí’ˆ ìƒì„¸]
    E --> F{êµ¬ë§¤ ë°©ë²•?}
    F -->|ì¥ë°”êµ¬ë‹ˆ| G[ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€]
    F -->|ë°”ë¡œ êµ¬ë§¤| H[ì£¼ë¬¸í•˜ê¸°]
    G --> I{ê³„ì† ì‡¼í•‘?}
    I -->|Yes| C
    I -->|No| H
    H --> J[ë°°ì†¡ì§€ ì…ë ¥]
    J --> K[ì¿ í° ì„ íƒ]
    K --> L[ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ]
    L --> M[ì£¼ë¬¸ ì™„ë£Œ]
    M --> N[ì…ê¸ˆ ëŒ€ê¸°]
    N --> O[ì…ê¸ˆ ì™„ë£Œ]
    O --> P[ë°°ì†¡ ì‹œì‘]
    P --> Q[ë°°ì†¡ ì™„ë£Œ]
```

### 3.2.2 ê´€ë¦¬ì ì£¼ë¬¸ ì²˜ë¦¬ í”Œë¡œìš°

```mermaid
graph TD
    A[ì‹ ê·œ ì£¼ë¬¸ ì•Œë¦¼] --> B[ì…ê¸ˆ í™•ì¸ í˜ì´ì§€]
    B --> C{ì…ê¸ˆ í™•ì¸?}
    C -->|Yes| D[ìƒíƒœ ë³€ê²½: ê²°ì œì™„ë£Œ]
    C -->|No| E[ê¸°í•œ ê²½ê³¼ ì‹œ ìë™ ì·¨ì†Œ]
    D --> F[ì¬ê³  ì°¨ê°]
    F --> G{ì¬ê³  ë¶€ì¡±?}
    G -->|Yes| H[ë°œì£¼ ìƒì„±]
    G -->|No| I[ë°°ì†¡ ì¤€ë¹„]
    H --> J[ê³µê¸‰ì²˜ ë°œì£¼]
    J --> K[ì…ê³  ì²˜ë¦¬]
    K --> I
    I --> L[ì†¡ì¥ ì…ë ¥]
    L --> M[ë°°ì†¡ ì‹œì‘]
    M --> N[ë°°ì†¡ ì™„ë£Œ]
```

---

## 3.3 í˜ì´ì§€ ì—°ê²° ë§¤íŠ¸ë¦­ìŠ¤

### ì‚¬ìš©ì í˜ì´ì§€ ì—°ê²°ì„±

| From \ To | í™ˆ | ìƒí’ˆëª©ë¡ | ìƒí’ˆìƒì„¸ | ì¥ë°”êµ¬ë‹ˆ | ì£¼ë¬¸í•˜ê¸° | ì£¼ë¬¸ì™„ë£Œ | ì£¼ë¬¸ë‚´ì—­ | ë§ˆì´í˜ì´ì§€ | ë¡œê·¸ì¸ |
|-----------|-----|----------|----------|----------|----------|----------|----------|------------|--------|
| í™ˆ | - | âœ… | âœ… | âœ… | - | - | âœ… | âœ… | âœ… |
| ìƒí’ˆëª©ë¡ | âœ… | - | âœ… | âœ… | - | - | - | - | - |
| ìƒí’ˆìƒì„¸ | âœ… | âœ… | - | âœ… | âœ… | - | - | - | âœ… |
| ì¥ë°”êµ¬ë‹ˆ | âœ… | âœ… | âœ… | - | âœ… | - | - | - | âœ… |
| ì£¼ë¬¸í•˜ê¸° | âœ… | - | - | âœ… | - | âœ… | - | - | - |
| ì£¼ë¬¸ì™„ë£Œ | âœ… | âœ… | - | - | - | - | âœ… | - | - |
| ì£¼ë¬¸ë‚´ì—­ | âœ… | - | âœ… | - | - | - | - | âœ… | - |
| ë§ˆì´í˜ì´ì§€ | âœ… | - | - | - | - | - | âœ… | - | - |
| ë¡œê·¸ì¸ | âœ… | - | - | - | - | - | - | - | - |

### ê´€ë¦¬ì í˜ì´ì§€ ì—°ê²°ì„±

| From \ To | ëŒ€ì‹œë³´ë“œ | ìƒí’ˆê´€ë¦¬ | ìƒí’ˆë“±ë¡ | ì£¼ë¬¸ê´€ë¦¬ | ì…ê¸ˆí™•ì¸ | ë°°ì†¡ê´€ë¦¬ | ì¿ í°ê´€ë¦¬ | ë°œì£¼ê´€ë¦¬ |
|-----------|----------|----------|----------|----------|----------|----------|----------|----------|
| ëŒ€ì‹œë³´ë“œ | - | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… | âœ… |
| ìƒí’ˆê´€ë¦¬ | âœ… | - | âœ… | - | - | - | - | âœ… |
| ìƒí’ˆë“±ë¡ | âœ… | âœ… | - | - | - | - | - | - |
| ì£¼ë¬¸ê´€ë¦¬ | âœ… | - | - | - | âœ… | âœ… | - | - |
| ì…ê¸ˆí™•ì¸ | âœ… | - | - | âœ… | - | âœ… | - | - |
| ë°°ì†¡ê´€ë¦¬ | âœ… | - | - | âœ… | - | - | - | - |
| ì¿ í°ê´€ë¦¬ | âœ… | - | - | - | - | - | - | - |
| ë°œì£¼ê´€ë¦¬ | âœ… | âœ… | - | - | - | - | - | - |

---

# Part 4: ê¸°ìˆ  ì„¤ê³„

## 4.1 API ëª…ì„¸ì„œ

### 4.1.1 API ì„¤ê³„ ì›ì¹™

1. **RESTful ì„¤ê³„**
   - ë¦¬ì†ŒìŠ¤ ê¸°ë°˜ URL êµ¬ì¡°
   - HTTP ë©”ì„œë“œ ì˜ë¯¸ ì¤€ìˆ˜ (GET, POST, PATCH, DELETE)
   - ìƒíƒœ ì½”ë“œ ëª…í™•í•œ ì‚¬ìš©

2. **ì‘ë‹µ í˜•ì‹**
   ```json
   {
     "success": true,
     "data": {},
     "error": null,
     "meta": {
       "timestamp": "2025-11-04T12:00:00Z"
     }
   }
   ```

3. **ì—ëŸ¬ ì‘ë‹µ í˜•ì‹**
   ```json
   {
     "success": false,
     "data": null,
     "error": {
       "code": "PRODUCT_NOT_FOUND",
       "message": "ìƒí’ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
       "details": {}
     }
   }
   ```

4. **ì¸ì¦**
   - JWT í† í° (Supabase Auth)
   - Header: `Authorization: Bearer <token>`

5. **í˜ì´ì§€ë„¤ì´ì…˜**
   ```json
   {
     "data": [],
     "meta": {
       "page": 1,
       "limit": 20,
       "total": 100,
       "totalPages": 5
     }
   }
   ```

---

### 4.1.2 ì¸ì¦ API

#### 1. íšŒì›ê°€ì…

```
POST /api/auth/signup
```

**Request**:
```json
{
  "email": "user@example.com",
  "password": "password123",
  "name": "í™ê¸¸ë™",
  "phone": "010-1234-5678"
}
```

**Response** (201):
```json
{
  "success": true,
  "data": {
    "user": {
      "id": "uuid",
      "email": "user@example.com",
      "name": "í™ê¸¸ë™"
    },
    "session": {
      "access_token": "jwt_token",
      "refresh_token": "refresh_token"
    }
  }
}
```

---

#### 2. ë¡œê·¸ì¸

```
POST /api/auth/login
```

**Request**:
```json
{
  "email": "user@example.com",
  "password": "password123"
}
```

**Response** (200):
```json
{
  "success": true,
  "data": {
    "user": {
      "id": "uuid",
      "email": "user@example.com",
      "name": "í™ê¸¸ë™",
      "is_admin": false
    },
    "session": {
      "access_token": "jwt_token",
      "refresh_token": "refresh_token"
    }
  }
}
```

**Error** (401):
```json
{
  "success": false,
  "error": {
    "code": "INVALID_CREDENTIALS",
    "message": "ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤."
  }
}
```

---

#### 3. Kakao ë¡œê·¸ì¸

```
POST /api/auth/kakao
```

**Request**:
```json
{
  "code": "kakao_auth_code"
}
```

**Response** (200):
```json
{
  "success": true,
  "data": {
    "user": {
      "id": "uuid",
      "email": "user@kakao.com",
      "name": "í™ê¸¸ë™",
      "kakao_id": "123456789"
    },
    "session": {
      "access_token": "jwt_token",
      "refresh_token": "refresh_token"
    },
    "isNewUser": true
  }
}
```

---

### 4.1.3 ìƒí’ˆ API

#### 1. ìƒí’ˆ ëª©ë¡ ì¡°íšŒ

```
GET /api/products?page=1&limit=20&category=&search=&sort=latest
```

**Query Parameters**:
- `page`: í˜ì´ì§€ ë²ˆí˜¸ (ê¸°ë³¸ 1)
- `limit`: í˜ì´ì§€ë‹¹ í•­ëª© ìˆ˜ (ê¸°ë³¸ 20)
- `category`: ì¹´í…Œê³ ë¦¬ ID (ì„ íƒ)
- `search`: ê²€ìƒ‰ì–´ (ì„ íƒ)
- `sort`: ì •ë ¬ (latest, popular, price_asc, price_desc)

**Response** (200):
```json
{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "product_number": "P20250001",
      "title": "ìƒí’ˆëª…",
      "price": 50000,
      "sale_price": 45000,
      "discount_rate": 10,
      "thumbnail_url": "https://...",
      "is_soldout": false,
      "stock_quantity": 100
    }
  ],
  "meta": {
    "page": 1,
    "limit": 20,
    "total": 100,
    "totalPages": 5
  }
}
```

---

#### 2. ìƒí’ˆ ìƒì„¸ ì¡°íšŒ

```
GET /api/products/:id
```

**Response** (200):
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "product_number": "P20250001",
    "title": "ìƒí’ˆëª…",
    "description": "ìƒí’ˆ ìƒì„¸ ì„¤ëª… (HTML)",
    "price": 50000,
    "sale_price": 45000,
    "discount_rate": 10,
    "stock_quantity": 100,
    "is_visible": true,
    "is_soldout": false,
    "thumbnail_url": "https://...",
    "images": [
      {
        "id": "uuid",
        "url": "https://...",
        "order": 0
      }
    ],
    "variants": [
      {
        "id": "uuid",
        "option_name": "ìƒ‰ìƒ",
        "option_value": "ë¹¨ê°•",
        "additional_price": 0,
        "stock_quantity": 50
      }
    ],
    "category": {
      "id": "uuid",
      "name": "ì˜ë¥˜"
    },
    "supplier": {
      "id": "uuid",
      "name": "ê³µê¸‰ì²˜ëª…"
    }
  }
}
```

**Error** (404):
```json
{
  "success": false,
  "error": {
    "code": "PRODUCT_NOT_FOUND",
    "message": "ìƒí’ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
  }
}
```

---

### 4.1.4 ì¥ë°”êµ¬ë‹ˆ API

#### 1. ì¥ë°”êµ¬ë‹ˆ ìƒí’ˆ ì¶”ê°€

```
POST /api/cart/items
```

**Request**:
```json
{
  "product_id": "uuid",
  "variant_id": "uuid",
  "quantity": 2
}
```

**Response** (201):
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "product": {
      "id": "uuid",
      "title": "ìƒí’ˆëª…",
      "price": 50000,
      "thumbnail_url": "https://..."
    },
    "variant": {
      "id": "uuid",
      "option_name": "ìƒ‰ìƒ",
      "option_value": "ë¹¨ê°•",
      "additional_price": 0
    },
    "quantity": 2,
    "subtotal": 100000
  }
}
```

---

#### 2. ì¥ë°”êµ¬ë‹ˆ ì¡°íšŒ

```
GET /api/cart
```

**Response** (200):
```json
{
  "success": true,
  "data": {
    "items": [
      {
        "id": "uuid",
        "product": {
          "id": "uuid",
          "title": "ìƒí’ˆëª…",
          "price": 50000,
          "thumbnail_url": "https://..."
        },
        "variant": {
          "id": "uuid",
          "option_name": "ìƒ‰ìƒ",
          "option_value": "ë¹¨ê°•",
          "additional_price": 0
        },
        "quantity": 2,
        "subtotal": 100000,
        "is_available": true
      }
    ],
    "summary": {
      "total_items": 1,
      "total_quantity": 2,
      "subtotal": 100000,
      "shipping_fee": 3000,
      "total": 103000
    }
  }
}
```

---

#### 3. ì¥ë°”êµ¬ë‹ˆ ìˆ˜ëŸ‰ ë³€ê²½

```
PATCH /api/cart/items/:id
```

**Request**:
```json
{
  "quantity": 3
}
```

**Response** (200):
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "quantity": 3,
    "subtotal": 150000
  }
}
```

---

#### 4. ì¥ë°”êµ¬ë‹ˆ ìƒí’ˆ ì‚­ì œ

```
DELETE /api/cart/items/:id
```

**Response** (200):
```json
{
  "success": true,
  "data": {
    "deleted_id": "uuid"
  }
}
```

---

### 4.1.5 ì£¼ë¬¸ API

#### 1. ì£¼ë¬¸ ìƒì„±

```
POST /api/orders
```

**Request**:
```json
{
  "items": [
    {
      "product_id": "uuid",
      "variant_id": "uuid",
      "quantity": 2
    }
  ],
  "shipping": {
    "recipient_name": "í™ê¸¸ë™",
    "recipient_phone": "010-1234-5678",
    "postal_code": "12345",
    "address": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬",
    "address_detail": "101ë™ 101í˜¸",
    "request": "ë¬¸ ì•ì— ë†”ì£¼ì„¸ìš”"
  },
  "coupon_id": "uuid",
  "payment_method": "bank_transfer"
}
```

**Response** (201):
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "order_number": "ORD20250001",
    "status": "pending_payment",
    "items": [...],
    "shipping": {...},
    "payment": {
      "method": "bank_transfer",
      "total_amount": 103000,
      "bank_name": "êµ­ë¯¼ì€í–‰",
      "account_number": "123-456-789",
      "depositor_name": "í™ê¸¸ë™",
      "deadline": "2025-11-05T12:00:00Z"
    },
    "created_at": "2025-11-04T12:00:00Z"
  }
}
```

---

#### 2. ì£¼ë¬¸ ëª©ë¡ ì¡°íšŒ

```
GET /api/orders?page=1&limit=10&status=
```

**Query Parameters**:
- `page`: í˜ì´ì§€ ë²ˆí˜¸
- `limit`: í˜ì´ì§€ë‹¹ í•­ëª© ìˆ˜
- `status`: ì£¼ë¬¸ ìƒíƒœ (ì„ íƒ)

**Response** (200):
```json
{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "order_number": "ORD20250001",
      "status": "paid",
      "status_text": "ê²°ì œì™„ë£Œ",
      "total_amount": 103000,
      "created_at": "2025-11-04T12:00:00Z",
      "items_count": 2,
      "representative_product": {
        "title": "ìƒí’ˆëª…",
        "thumbnail_url": "https://..."
      }
    }
  ],
  "meta": {
    "page": 1,
    "limit": 10,
    "total": 50,
    "totalPages": 5
  }
}
```

---

#### 3. ì£¼ë¬¸ ìƒì„¸ ì¡°íšŒ

```
GET /api/orders/:id
```

**Response** (200):
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "order_number": "ORD20250001",
    "status": "paid",
    "status_text": "ê²°ì œì™„ë£Œ",
    "items": [
      {
        "id": "uuid",
        "product_title": "ìƒí’ˆëª…",
        "variant_option": "ìƒ‰ìƒ: ë¹¨ê°•",
        "quantity": 2,
        "unit_price": 50000,
        "subtotal": 100000
      }
    ],
    "shipping": {
      "recipient_name": "í™ê¸¸ë™",
      "recipient_phone": "010-1234-5678",
      "postal_code": "12345",
      "address": "ì„œìš¸ì‹œ ê°•ë‚¨êµ¬",
      "address_detail": "101ë™ 101í˜¸",
      "request": "ë¬¸ ì•ì— ë†”ì£¼ì„¸ìš”",
      "tracking_number": "123456789",
      "courier": "CJëŒ€í•œí†µìš´"
    },
    "payment": {
      "method": "bank_transfer",
      "subtotal": 100000,
      "shipping_fee": 3000,
      "coupon_discount": 0,
      "total_amount": 103000,
      "paid_at": "2025-11-04T13:00:00Z"
    },
    "created_at": "2025-11-04T12:00:00Z"
  }
}
```

---

#### 4. ì£¼ë¬¸ ì·¨ì†Œ

```
POST /api/orders/:id/cancel
```

**Request**:
```json
{
  "reason": "ë‹¨ìˆœ ë³€ì‹¬"
}
```

**Response** (200):
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "status": "cancelled",
    "cancelled_at": "2025-11-04T14:00:00Z"
  }
}
```

---

### 4.1.6 ì¿ í° API

#### 1. ì‚¬ìš© ê°€ëŠ¥í•œ ì¿ í° ì¡°íšŒ

```
GET /api/coupons/available?min_order_amount=100000
```

**Response** (200):
```json
{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "name": "ì‹ ê·œ ê°€ì… ì¿ í°",
      "code": "WELCOME2025",
      "discount_type": "fixed",
      "discount_value": 5000,
      "min_order_amount": 50000,
      "valid_from": "2025-01-01T00:00:00Z",
      "valid_until": "2025-12-31T23:59:59Z",
      "is_used": false
    }
  ]
}
```

---

#### 2. ì¿ í° ê²€ì¦

```
POST /api/coupons/validate
```

**Request**:
```json
{
  "coupon_id": "uuid",
  "order_amount": 100000
}
```

**Response** (200):
```json
{
  "success": true,
  "data": {
    "is_valid": true,
    "discount_amount": 5000,
    "final_amount": 95000
  }
}
```

---

### 4.1.7 ê´€ë¦¬ì API

#### 1. ê´€ë¦¬ì ë¡œê·¸ì¸

```
POST /api/admin/auth/login
```

**Request**:
```json
{
  "email": "admin@example.com",
  "password": "admin123"
}
```

**Response** (200):
```json
{
  "success": true,
  "data": {
    "user": {
      "id": "uuid",
      "email": "admin@example.com",
      "name": "ê´€ë¦¬ì",
      "is_admin": true
    },
    "session": {
      "access_token": "jwt_token",
      "refresh_token": "refresh_token"
    }
  }
}
```

---

#### 2. ëŒ€ì‹œë³´ë“œ í†µê³„

```
GET /api/admin/stats/today
```

**Response** (200):
```json
{
  "success": true,
  "data": {
    "today_sales": 5000000,
    "today_orders": 120,
    "pending_payments": 15,
    "pending_shipments": 30,
    "low_stock_products": 5,
    "comparison": {
      "sales_change": 15.5,
      "orders_change": 10.2
    }
  }
}
```

---

#### 3. ì£¼ë¬¸ ê´€ë¦¬ - ëª©ë¡

```
GET /api/admin/orders?page=1&status=&search=&date_from=&date_to=
```

**Response** (200):
```json
{
  "success": true,
  "data": [
    {
      "id": "uuid",
      "order_number": "ORD20250001",
      "customer_name": "í™ê¸¸ë™",
      "customer_phone": "010-1234-5678",
      "status": "pending_payment",
      "total_amount": 103000,
      "depositor_name": "í™ê¸¸ë™",
      "created_at": "2025-11-04T12:00:00Z"
    }
  ],
  "meta": {
    "page": 1,
    "limit": 20,
    "total": 1000,
    "totalPages": 50
  }
}
```

---

#### 4. ì…ê¸ˆ í™•ì¸

```
POST /api/admin/orders/:id/confirm-payment
```

**Response** (200):
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "status": "paid",
    "paid_at": "2025-11-04T14:00:00Z"
  }
}
```

---

#### 5. ë°°ì†¡ ì²˜ë¦¬

```
POST /api/admin/orders/:id/ship
```

**Request**:
```json
{
  "courier": "CJëŒ€í•œí†µìš´",
  "tracking_number": "123456789"
}
```

**Response** (200):
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "status": "shipped",
    "shipping": {
      "courier": "CJëŒ€í•œí†µìš´",
      "tracking_number": "123456789",
      "shipped_at": "2025-11-05T10:00:00Z"
    }
  }
}
```

---

#### 6. ìƒí’ˆ ìƒì„±

```
POST /api/admin/products
```

**Request**:
```json
{
  "product_number": "P20250001",
  "title": "ìƒí’ˆëª…",
  "description": "<p>ìƒì„¸ ì„¤ëª…</p>",
  "price": 50000,
  "sale_price": 45000,
  "category_id": "uuid",
  "supplier_id": "uuid",
  "is_visible": true,
  "images": [
    {
      "url": "https://...",
      "order": 0
    }
  ],
  "variants": [
    {
      "option_name": "ìƒ‰ìƒ",
      "option_value": "ë¹¨ê°•",
      "additional_price": 0,
      "stock_quantity": 100
    }
  ]
}
```

**Response** (201):
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "product_number": "P20250001",
    "title": "ìƒí’ˆëª…",
    "created_at": "2025-11-04T15:00:00Z"
  }
}
```

---

#### 7. ì¿ í° ìƒì„±

```
POST /api/admin/coupons
```

**Request**:
```json
{
  "name": "ì‹ ê·œ ê°€ì… ì¿ í°",
  "code": "WELCOME2025",
  "description": "ì‹ ê·œ ê°€ì… ê³ ê° ì „ìš©",
  "discount_type": "fixed",
  "discount_value": 5000,
  "min_order_amount": 50000,
  "max_discount_amount": null,
  "valid_from": "2025-01-01T00:00:00Z",
  "valid_until": "2025-12-31T23:59:59Z",
  "usage_limit": 1000,
  "usage_limit_per_user": 1
}
```

**Response** (201):
```json
{
  "success": true,
  "data": {
    "id": "uuid",
    "name": "ì‹ ê·œ ê°€ì… ì¿ í°",
    "code": "WELCOME2025",
    "created_at": "2025-11-04T16:00:00Z"
  }
}
```

---

#### 8. ì¿ í° ë°°í¬

```
POST /api/admin/coupons/:id/distribute
```

**Request**:
```json
{
  "user_ids": ["uuid1", "uuid2"],
  "distribute_all": false
}
```

**Response** (200):
```json
{
  "success": true,
  "data": {
    "distributed_count": 2,
    "failed_count": 0
  }
}
```

---

### 4.1.8 ì—ëŸ¬ ì½”ë“œ í…Œì´ë¸”

| ì½”ë“œ | HTTP | ì„¤ëª… |
|------|------|------|
| `INVALID_CREDENTIALS` | 401 | ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ ë¶ˆì¼ì¹˜ |
| `UNAUTHORIZED` | 401 | ì¸ì¦ í•„ìš” |
| `FORBIDDEN` | 403 | ê¶Œí•œ ì—†ìŒ |
| `PRODUCT_NOT_FOUND` | 404 | ìƒí’ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŒ |
| `ORDER_NOT_FOUND` | 404 | ì£¼ë¬¸ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ |
| `COUPON_NOT_FOUND` | 404 | ì¿ í°ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ |
| `OUT_OF_STOCK` | 400 | ì¬ê³  ë¶€ì¡± |
| `COUPON_EXPIRED` | 400 | ì¿ í° ë§Œë£Œ |
| `COUPON_ALREADY_USED` | 400 | ì¿ í° ì´ë¯¸ ì‚¬ìš©ë¨ |
| `INVALID_COUPON` | 400 | ì¿ í° ì‚¬ìš© ì¡°ê±´ ë¶ˆì¶©ì¡± |
| `ORDER_CANNOT_CANCEL` | 400 | ì£¼ë¬¸ ì·¨ì†Œ ë¶ˆê°€ ìƒíƒœ |
| `DUPLICATE_PRODUCT_NUMBER` | 409 | ì¤‘ë³µëœ ìƒí’ˆë²ˆí˜¸ |
| `DUPLICATE_COUPON_CODE` | 409 | ì¤‘ë³µëœ ì¿ í° ì½”ë“œ |
| `VALIDATION_ERROR` | 422 | ì…ë ¥ê°’ ê²€ì¦ ì‹¤íŒ¨ |
| `INTERNAL_ERROR` | 500 | ì„œë²„ ì˜¤ë¥˜ |

---

## 4.2 ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ìƒì„¸ ì„¤ê³„

### 4.2.1 ER ë‹¤ì´ì–´ê·¸ë¨

```mermaid
erDiagram
    profiles ||--o{ orders : places
    profiles ||--o{ cart_items : has
    profiles ||--o{ user_coupons : receives
    profiles ||--o{ wishlist : has

    products ||--o{ product_variants : has
    products ||--o{ product_images : has
    products }o--|| categories : belongs_to
    products }o--|| suppliers : supplied_by
    products ||--o{ cart_items : contains
    products ||--o{ order_items : contains
    products ||--o{ wishlist : contains
    products ||--o{ live_products : featured_in
    products ||--o{ reviews : reviewed

    orders ||--o{ order_items : contains
    orders ||--|| order_shipping : has
    orders ||--|| order_payments : has
    orders }o--o| coupons : uses

    coupons ||--o{ user_coupons : distributed_to

    live_broadcasts ||--o{ live_products : features

    suppliers ||--o{ purchase_order_batches : receives
    purchase_order_batches ||--o{ purchase_order_items : contains
```

---

### 4.2.2 í…Œì´ë¸” DDL

#### 1. profiles (ì‚¬ìš©ì í”„ë¡œí•„)

```sql
CREATE TABLE profiles (
    id UUID PRIMARY KEY REFERENCES auth.users(id) ON DELETE CASCADE,
    email TEXT UNIQUE,
    name TEXT NOT NULL,
    phone TEXT,
    postal_code VARCHAR(10),
    address TEXT,
    address_detail TEXT,
    kakao_id TEXT UNIQUE,
    is_admin BOOLEAN DEFAULT false NOT NULL,
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
    updated_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,

    CONSTRAINT profiles_phone_format CHECK (phone ~ '^\d{3}-\d{4}-\d{4}$' OR phone IS NULL)
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_profiles_email ON profiles(email);
CREATE INDEX idx_profiles_kakao_id ON profiles(kakao_id) WHERE kakao_id IS NOT NULL;
CREATE INDEX idx_profiles_is_admin ON profiles(is_admin) WHERE is_admin = true;

-- íŠ¸ë¦¬ê±°
CREATE TRIGGER update_profiles_updated_at
    BEFORE UPDATE ON profiles
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at_column();

-- RLS
ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can view own profile"
    ON profiles FOR SELECT
    USING (auth.uid() = id);

CREATE POLICY "Users can update own profile"
    ON profiles FOR UPDATE
    USING (auth.uid() = id);

CREATE POLICY "Admins can view all profiles"
    ON profiles FOR SELECT
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );
```

---

#### 2. products (ìƒí’ˆ)

```sql
CREATE TABLE products (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    product_number VARCHAR(20) UNIQUE NOT NULL,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    price NUMERIC(10,2) NOT NULL CHECK (price >= 0),
    sale_price NUMERIC(10,2) CHECK (sale_price >= 0 AND sale_price <= price),
    discount_rate INTEGER GENERATED ALWAYS AS (
        CASE
            WHEN sale_price IS NOT NULL AND sale_price < price
            THEN ROUND(((price - sale_price) / price * 100)::numeric)
            ELSE 0
        END
    ) STORED,
    stock_quantity INTEGER DEFAULT 0 NOT NULL CHECK (stock_quantity >= 0),
    is_visible BOOLEAN DEFAULT true NOT NULL,
    is_soldout BOOLEAN GENERATED ALWAYS AS (stock_quantity = 0) STORED,
    thumbnail_url TEXT,
    category_id UUID REFERENCES categories(id) ON DELETE SET NULL,
    supplier_id UUID REFERENCES suppliers(id) ON DELETE SET NULL,
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
    updated_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,

    CONSTRAINT products_price_check CHECK (
        sale_price IS NULL OR sale_price <= price
    )
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_products_product_number ON products(product_number);
CREATE INDEX idx_products_category_id ON products(category_id);
CREATE INDEX idx_products_supplier_id ON products(supplier_id);
CREATE INDEX idx_products_is_visible ON products(is_visible) WHERE is_visible = true;
CREATE INDEX idx_products_is_soldout ON products(is_soldout);
CREATE INDEX idx_products_created_at ON products(created_at DESC);

-- ì „ë¬¸ ê²€ìƒ‰ ì¸ë±ìŠ¤
CREATE INDEX idx_products_title_search ON products USING gin(to_tsvector('korean', title));

-- íŠ¸ë¦¬ê±°
CREATE TRIGGER update_products_updated_at
    BEFORE UPDATE ON products
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at_column();

-- RLS
ALTER TABLE products ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Anyone can view visible products"
    ON products FOR SELECT
    USING (is_visible = true);

CREATE POLICY "Admins can manage all products"
    ON products FOR ALL
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );
```

---

#### 3. product_variants (ìƒí’ˆ ì˜µì…˜)

```sql
CREATE TABLE product_variants (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    product_id UUID NOT NULL REFERENCES products(id) ON DELETE CASCADE,
    option_name VARCHAR(100) NOT NULL,
    option_value VARCHAR(100) NOT NULL,
    additional_price NUMERIC(10,2) DEFAULT 0 NOT NULL,
    stock_quantity INTEGER DEFAULT 0 NOT NULL CHECK (stock_quantity >= 0),
    is_available BOOLEAN GENERATED ALWAYS AS (stock_quantity > 0) STORED,
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
    updated_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,

    UNIQUE(product_id, option_name, option_value)
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_product_variants_product_id ON product_variants(product_id);
CREATE INDEX idx_product_variants_is_available ON product_variants(is_available);

-- íŠ¸ë¦¬ê±°: variant ì¬ê³  ë³€ê²½ ì‹œ product ì¬ê³  ìë™ ì—…ë°ì´íŠ¸
CREATE OR REPLACE FUNCTION update_product_inventory()
RETURNS TRIGGER AS $$
BEGIN
    UPDATE products
    SET stock_quantity = (
        SELECT COALESCE(SUM(stock_quantity), 0)
        FROM product_variants
        WHERE product_id = COALESCE(NEW.product_id, OLD.product_id)
    )
    WHERE id = COALESCE(NEW.product_id, OLD.product_id);

    RETURN COALESCE(NEW, OLD);
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER trigger_update_product_inventory
    AFTER INSERT OR UPDATE OR DELETE ON product_variants
    FOR EACH ROW
    EXECUTE FUNCTION update_product_inventory();

-- RLS
ALTER TABLE product_variants ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Anyone can view variants of visible products"
    ON product_variants FOR SELECT
    USING (
        EXISTS (
            SELECT 1 FROM products
            WHERE id = product_id AND is_visible = true
        )
    );

CREATE POLICY "Admins can manage all variants"
    ON product_variants FOR ALL
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );
```

---

#### 4. orders (ì£¼ë¬¸)

```sql
CREATE TABLE orders (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    order_number VARCHAR(20) UNIQUE NOT NULL,
    user_id UUID NOT NULL REFERENCES profiles(id) ON DELETE RESTRICT,
    status VARCHAR(20) DEFAULT 'pending_payment' NOT NULL,
    subtotal NUMERIC(10,2) NOT NULL CHECK (subtotal >= 0),
    shipping_fee NUMERIC(10,2) DEFAULT 3000 NOT NULL CHECK (shipping_fee >= 0),
    coupon_discount NUMERIC(10,2) DEFAULT 0 NOT NULL CHECK (coupon_discount >= 0),
    total_amount NUMERIC(10,2) GENERATED ALWAYS AS (
        subtotal + shipping_fee - coupon_discount
    ) STORED,
    coupon_id UUID REFERENCES coupons(id) ON DELETE SET NULL,
    payment_method VARCHAR(20) NOT NULL,
    depositor_name VARCHAR(100),
    cancelled_at TIMESTAMPTZ,
    cancel_reason TEXT,
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
    updated_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,

    CONSTRAINT orders_status_check CHECK (
        status IN (
            'pending_payment',
            'paid',
            'preparing',
            'shipped',
            'delivered',
            'cancelled'
        )
    ),
    CONSTRAINT orders_payment_method_check CHECK (
        payment_method IN ('bank_transfer', 'toss_payments')
    ),
    CONSTRAINT orders_depositor_required CHECK (
        payment_method != 'bank_transfer' OR depositor_name IS NOT NULL
    )
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_orders_order_number ON orders(order_number);
CREATE INDEX idx_orders_user_id ON orders(user_id);
CREATE INDEX idx_orders_status ON orders(status);
CREATE INDEX idx_orders_created_at ON orders(created_at DESC);
CREATE INDEX idx_orders_payment_method ON orders(payment_method);

-- ë³µí•© ì¸ë±ìŠ¤ (ê´€ë¦¬ì í•„í„°ë§ìš©)
CREATE INDEX idx_orders_status_created_at ON orders(status, created_at DESC);

-- íŠ¸ë¦¬ê±°
CREATE TRIGGER update_orders_updated_at
    BEFORE UPDATE ON orders
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at_column();

-- RLS
ALTER TABLE orders ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can view own orders"
    ON orders FOR SELECT
    USING (auth.uid() = user_id);

CREATE POLICY "Users can create own orders"
    ON orders FOR INSERT
    WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Admins can view all orders"
    ON orders FOR SELECT
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );

CREATE POLICY "Admins can update all orders"
    ON orders FOR UPDATE
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );
```

---

#### 5. order_items (ì£¼ë¬¸ ìƒí’ˆ)

```sql
CREATE TABLE order_items (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    order_id UUID NOT NULL REFERENCES orders(id) ON DELETE CASCADE,
    product_id UUID NOT NULL REFERENCES products(id) ON DELETE RESTRICT,
    variant_id UUID REFERENCES product_variants(id) ON DELETE RESTRICT,

    -- Dual Storage: ì£¼ë¬¸ ì‹œì  ìŠ¤ëƒ…ìƒ·
    product_title VARCHAR(255) NOT NULL,
    variant_option_name VARCHAR(100),
    variant_option_value VARCHAR(100),
    unit_price NUMERIC(10,2) NOT NULL CHECK (unit_price >= 0),
    quantity INTEGER NOT NULL CHECK (quantity > 0),
    subtotal NUMERIC(10,2) GENERATED ALWAYS AS (unit_price * quantity) STORED,

    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,

    CONSTRAINT order_items_variant_consistency CHECK (
        (variant_id IS NULL AND variant_option_name IS NULL AND variant_option_value IS NULL) OR
        (variant_id IS NOT NULL AND variant_option_name IS NOT NULL AND variant_option_value IS NOT NULL)
    )
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_order_items_order_id ON order_items(order_id);
CREATE INDEX idx_order_items_product_id ON order_items(product_id);
CREATE INDEX idx_order_items_variant_id ON order_items(variant_id);

-- RLS
ALTER TABLE order_items ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can view own order items"
    ON order_items FOR SELECT
    USING (
        EXISTS (
            SELECT 1 FROM orders
            WHERE id = order_id AND user_id = auth.uid()
        )
    );

CREATE POLICY "Admins can view all order items"
    ON order_items FOR SELECT
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );
```

---

#### 6. order_shipping (ì£¼ë¬¸ ë°°ì†¡ ì •ë³´)

```sql
CREATE TABLE order_shipping (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    order_id UUID UNIQUE NOT NULL REFERENCES orders(id) ON DELETE CASCADE,
    recipient_name VARCHAR(100) NOT NULL,
    recipient_phone VARCHAR(20) NOT NULL,
    postal_code VARCHAR(10) NOT NULL,
    address TEXT NOT NULL,
    address_detail TEXT,
    request TEXT,
    courier VARCHAR(50),
    tracking_number VARCHAR(50),
    shipped_at TIMESTAMPTZ,
    delivered_at TIMESTAMPTZ,
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
    updated_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,

    CONSTRAINT order_shipping_phone_format CHECK (
        recipient_phone ~ '^\d{3}-\d{4}-\d{4}$'
    ),
    CONSTRAINT order_shipping_tracking_consistency CHECK (
        (courier IS NULL AND tracking_number IS NULL) OR
        (courier IS NOT NULL AND tracking_number IS NOT NULL)
    )
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_order_shipping_order_id ON order_shipping(order_id);
CREATE INDEX idx_order_shipping_postal_code ON order_shipping(postal_code);
CREATE INDEX idx_order_shipping_tracking_number ON order_shipping(tracking_number)
    WHERE tracking_number IS NOT NULL;

-- íŠ¸ë¦¬ê±°
CREATE TRIGGER update_order_shipping_updated_at
    BEFORE UPDATE ON order_shipping
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at_column();

-- RLS
ALTER TABLE order_shipping ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can view own shipping info"
    ON order_shipping FOR SELECT
    USING (
        EXISTS (
            SELECT 1 FROM orders
            WHERE id = order_id AND user_id = auth.uid()
        )
    );

CREATE POLICY "Admins can view all shipping info"
    ON order_shipping FOR SELECT
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );

CREATE POLICY "Admins can update shipping info"
    ON order_shipping FOR UPDATE
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );
```

---

#### 7. order_payments (ì£¼ë¬¸ ê²°ì œ ì •ë³´)

```sql
CREATE TABLE order_payments (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    order_id UUID UNIQUE NOT NULL REFERENCES orders(id) ON DELETE CASCADE,
    payment_method VARCHAR(20) NOT NULL,
    amount NUMERIC(10,2) NOT NULL CHECK (amount >= 0),

    -- ë¬´í†µì¥ ì…ê¸ˆ
    bank_name VARCHAR(50),
    account_number VARCHAR(50),
    depositor_name VARCHAR(100),
    payment_deadline TIMESTAMPTZ,

    -- Toss Payments (í–¥í›„)
    payment_key VARCHAR(200),
    toss_order_id VARCHAR(200),

    paid_at TIMESTAMPTZ,
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
    updated_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,

    CONSTRAINT order_payments_method_check CHECK (
        payment_method IN ('bank_transfer', 'toss_payments')
    ),
    CONSTRAINT order_payments_bank_info_check CHECK (
        payment_method != 'bank_transfer' OR
        (bank_name IS NOT NULL AND account_number IS NOT NULL)
    )
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_order_payments_order_id ON order_payments(order_id);
CREATE INDEX idx_order_payments_payment_key ON order_payments(payment_key)
    WHERE payment_key IS NOT NULL;
CREATE INDEX idx_order_payments_paid_at ON order_payments(paid_at);

-- íŠ¸ë¦¬ê±°
CREATE TRIGGER update_order_payments_updated_at
    BEFORE UPDATE ON order_payments
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at_column();

-- RLS
ALTER TABLE order_payments ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can view own payment info"
    ON order_payments FOR SELECT
    USING (
        EXISTS (
            SELECT 1 FROM orders
            WHERE id = order_id AND user_id = auth.uid()
        )
    );

CREATE POLICY "Admins can view all payment info"
    ON order_payments FOR SELECT
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );

CREATE POLICY "Admins can update payment info"
    ON order_payments FOR UPDATE
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );
```

---

#### 8. coupons (ì¿ í°)

```sql
CREATE TABLE coupons (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name VARCHAR(100) NOT NULL,
    code VARCHAR(50) UNIQUE NOT NULL,
    description TEXT,
    discount_type VARCHAR(20) NOT NULL,
    discount_value NUMERIC(10,2) NOT NULL CHECK (discount_value > 0),
    max_discount_amount NUMERIC(10,2) CHECK (max_discount_amount > 0),
    min_order_amount NUMERIC(10,2) DEFAULT 0 NOT NULL CHECK (min_order_amount >= 0),
    usage_limit INTEGER,
    usage_count INTEGER DEFAULT 0 NOT NULL CHECK (usage_count >= 0),
    usage_limit_per_user INTEGER DEFAULT 1 NOT NULL CHECK (usage_limit_per_user > 0),
    valid_from TIMESTAMPTZ NOT NULL,
    valid_until TIMESTAMPTZ NOT NULL,
    is_active BOOLEAN DEFAULT true NOT NULL,
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
    updated_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,

    CONSTRAINT coupons_discount_type_check CHECK (
        discount_type IN ('fixed', 'percentage')
    ),
    CONSTRAINT coupons_percentage_check CHECK (
        discount_type != 'percentage' OR discount_value <= 100
    ),
    CONSTRAINT coupons_valid_period_check CHECK (
        valid_until > valid_from
    ),
    CONSTRAINT coupons_usage_limit_check CHECK (
        usage_limit IS NULL OR usage_count <= usage_limit
    )
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_coupons_code ON coupons(code);
CREATE INDEX idx_coupons_is_active ON coupons(is_active) WHERE is_active = true;
CREATE INDEX idx_coupons_valid_period ON coupons(valid_from, valid_until);

-- íŠ¸ë¦¬ê±°
CREATE TRIGGER update_coupons_updated_at
    BEFORE UPDATE ON coupons
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at_column();

-- RLS
ALTER TABLE coupons ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Anyone can view active coupons"
    ON coupons FOR SELECT
    USING (is_active = true);

CREATE POLICY "Admins can manage all coupons"
    ON coupons FOR ALL
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );
```

---

#### 9. user_coupons (ì‚¬ìš©ìë³„ ì¿ í° ë°œê¸‰)

```sql
CREATE TABLE user_coupons (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES profiles(id) ON DELETE CASCADE,
    coupon_id UUID NOT NULL REFERENCES coupons(id) ON DELETE CASCADE,
    is_used BOOLEAN DEFAULT false NOT NULL,
    used_at TIMESTAMPTZ,
    order_id UUID REFERENCES orders(id) ON DELETE SET NULL,
    issued_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,

    UNIQUE(user_id, coupon_id),

    CONSTRAINT user_coupons_used_consistency CHECK (
        (is_used = false AND used_at IS NULL AND order_id IS NULL) OR
        (is_used = true AND used_at IS NOT NULL AND order_id IS NOT NULL)
    )
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_user_coupons_user_id ON user_coupons(user_id);
CREATE INDEX idx_user_coupons_coupon_id ON user_coupons(coupon_id);
CREATE INDEX idx_user_coupons_is_used ON user_coupons(is_used);
CREATE INDEX idx_user_coupons_order_id ON user_coupons(order_id)
    WHERE order_id IS NOT NULL;

-- RLS
ALTER TABLE user_coupons ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can view own coupons"
    ON user_coupons FOR SELECT
    USING (auth.uid() = user_id);

CREATE POLICY "Admins can view all user coupons"
    ON user_coupons FOR SELECT
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );

CREATE POLICY "Admins can distribute coupons"
    ON user_coupons FOR INSERT
    WITH CHECK (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );
```

---

#### 10. categories (ì¹´í…Œê³ ë¦¬)

```sql
CREATE TABLE categories (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name VARCHAR(100) UNIQUE NOT NULL,
    slug VARCHAR(100) UNIQUE NOT NULL,
    description TEXT,
    parent_id UUID REFERENCES categories(id) ON DELETE CASCADE,
    display_order INTEGER DEFAULT 0 NOT NULL,
    is_active BOOLEAN DEFAULT true NOT NULL,
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
    updated_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,

    CONSTRAINT categories_no_self_reference CHECK (id != parent_id)
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_categories_slug ON categories(slug);
CREATE INDEX idx_categories_parent_id ON categories(parent_id);
CREATE INDEX idx_categories_is_active ON categories(is_active) WHERE is_active = true;
CREATE INDEX idx_categories_display_order ON categories(display_order);

-- íŠ¸ë¦¬ê±°
CREATE TRIGGER update_categories_updated_at
    BEFORE UPDATE ON categories
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at_column();

-- RLS
ALTER TABLE categories ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Anyone can view active categories"
    ON categories FOR SELECT
    USING (is_active = true);

CREATE POLICY "Admins can manage all categories"
    ON categories FOR ALL
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );
```

---

#### 11. suppliers (ê³µê¸‰ì²˜)

```sql
CREATE TABLE suppliers (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name VARCHAR(200) UNIQUE NOT NULL,
    code VARCHAR(50) UNIQUE NOT NULL,
    contact_person VARCHAR(100),
    phone VARCHAR(20),
    email TEXT,
    address TEXT,
    notes TEXT,
    is_active BOOLEAN DEFAULT true NOT NULL,
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
    updated_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,

    CONSTRAINT suppliers_phone_format CHECK (
        phone ~ '^\d{2,3}-\d{3,4}-\d{4}$' OR phone IS NULL
    )
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_suppliers_code ON suppliers(code);
CREATE INDEX idx_suppliers_is_active ON suppliers(is_active) WHERE is_active = true;

-- íŠ¸ë¦¬ê±°
CREATE TRIGGER update_suppliers_updated_at
    BEFORE UPDATE ON suppliers
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at_column();

-- RLS
ALTER TABLE suppliers ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Admins can view all suppliers"
    ON suppliers FOR SELECT
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );

CREATE POLICY "Admins can manage suppliers"
    ON suppliers FOR ALL
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );
```

---

#### 12. purchase_order_batches (ë°œì£¼ ë°°ì¹˜)

```sql
CREATE TABLE purchase_order_batches (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    batch_number VARCHAR(20) UNIQUE NOT NULL,
    supplier_id UUID NOT NULL REFERENCES suppliers(id) ON DELETE RESTRICT,
    status VARCHAR(20) DEFAULT 'pending' NOT NULL,
    total_amount NUMERIC(10,2) DEFAULT 0 NOT NULL CHECK (total_amount >= 0),
    notes TEXT,
    ordered_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
    received_at TIMESTAMPTZ,

    -- ì¤‘ë³µ ë°œì£¼ ë°©ì§€
    duplicate_check_array UUID[] DEFAULT '{}' NOT NULL,

    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
    updated_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,

    CONSTRAINT purchase_order_batches_status_check CHECK (
        status IN ('pending', 'received', 'cancelled')
    )
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_purchase_order_batches_batch_number
    ON purchase_order_batches(batch_number);
CREATE INDEX idx_purchase_order_batches_supplier_id
    ON purchase_order_batches(supplier_id);
CREATE INDEX idx_purchase_order_batches_status
    ON purchase_order_batches(status);
CREATE INDEX idx_purchase_order_batches_ordered_at
    ON purchase_order_batches(ordered_at DESC);

-- GIN ì¸ë±ìŠ¤ (ì¤‘ë³µ ì²´í¬ìš©)
CREATE INDEX idx_purchase_order_batches_duplicate_check
    ON purchase_order_batches USING gin(duplicate_check_array);

-- íŠ¸ë¦¬ê±°
CREATE TRIGGER update_purchase_order_batches_updated_at
    BEFORE UPDATE ON purchase_order_batches
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at_column();

-- RLS
ALTER TABLE purchase_order_batches ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Admins can manage purchase orders"
    ON purchase_order_batches FOR ALL
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );
```

---

#### 13. purchase_order_items (ë°œì£¼ ìƒí’ˆ)

```sql
CREATE TABLE purchase_order_items (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    batch_id UUID NOT NULL REFERENCES purchase_order_batches(id) ON DELETE CASCADE,
    product_id UUID NOT NULL REFERENCES products(id) ON DELETE RESTRICT,
    variant_id UUID REFERENCES product_variants(id) ON DELETE RESTRICT,
    quantity INTEGER NOT NULL CHECK (quantity > 0),
    unit_cost NUMERIC(10,2) NOT NULL CHECK (unit_cost >= 0),
    subtotal NUMERIC(10,2) GENERATED ALWAYS AS (unit_cost * quantity) STORED,
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_purchase_order_items_batch_id
    ON purchase_order_items(batch_id);
CREATE INDEX idx_purchase_order_items_product_id
    ON purchase_order_items(product_id);

-- RLS
ALTER TABLE purchase_order_items ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Admins can manage purchase order items"
    ON purchase_order_items FOR ALL
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );
```

---

#### 14. cart_items (ì¥ë°”êµ¬ë‹ˆ)

```sql
CREATE TABLE cart_items (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES profiles(id) ON DELETE CASCADE,
    product_id UUID NOT NULL REFERENCES products(id) ON DELETE CASCADE,
    variant_id UUID REFERENCES product_variants(id) ON DELETE CASCADE,
    quantity INTEGER NOT NULL CHECK (quantity > 0),
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
    updated_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,

    UNIQUE(user_id, product_id, variant_id)
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_cart_items_user_id ON cart_items(user_id);
CREATE INDEX idx_cart_items_product_id ON cart_items(product_id);

-- íŠ¸ë¦¬ê±°
CREATE TRIGGER update_cart_items_updated_at
    BEFORE UPDATE ON cart_items
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at_column();

-- RLS
ALTER TABLE cart_items ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can manage own cart"
    ON cart_items FOR ALL
    USING (auth.uid() = user_id);
```

---

#### 15. wishlist (ì°œí•˜ê¸°)

```sql
CREATE TABLE wishlist (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES profiles(id) ON DELETE CASCADE,
    product_id UUID NOT NULL REFERENCES products(id) ON DELETE CASCADE,
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,

    UNIQUE(user_id, product_id)
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_wishlist_user_id ON wishlist(user_id);
CREATE INDEX idx_wishlist_product_id ON wishlist(product_id);

-- RLS
ALTER TABLE wishlist ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can manage own wishlist"
    ON wishlist FOR ALL
    USING (auth.uid() = user_id);
```

---

#### 16. product_images (ìƒí’ˆ ì´ë¯¸ì§€)

```sql
CREATE TABLE product_images (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    product_id UUID NOT NULL REFERENCES products(id) ON DELETE CASCADE,
    url TEXT NOT NULL,
    display_order INTEGER DEFAULT 0 NOT NULL,
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_product_images_product_id ON product_images(product_id);
CREATE INDEX idx_product_images_display_order ON product_images(product_id, display_order);

-- RLS
ALTER TABLE product_images ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Anyone can view product images"
    ON product_images FOR SELECT
    USING (
        EXISTS (
            SELECT 1 FROM products
            WHERE id = product_id AND is_visible = true
        )
    );

CREATE POLICY "Admins can manage product images"
    ON product_images FOR ALL
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );
```

---

#### 17. live_broadcasts (ë¼ì´ë¸Œ ë°©ì†¡)

```sql
CREATE TABLE live_broadcasts (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    title VARCHAR(255) NOT NULL,
    description TEXT,
    thumbnail_url TEXT,
    stream_key VARCHAR(255) UNIQUE,
    status VARCHAR(20) DEFAULT 'scheduled' NOT NULL,
    viewer_count INTEGER DEFAULT 0 NOT NULL CHECK (viewer_count >= 0),
    scheduled_at TIMESTAMPTZ NOT NULL,
    started_at TIMESTAMPTZ,
    ended_at TIMESTAMPTZ,
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
    updated_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,

    CONSTRAINT live_broadcasts_status_check CHECK (
        status IN ('scheduled', 'live', 'ended', 'cancelled')
    )
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_live_broadcasts_status ON live_broadcasts(status);
CREATE INDEX idx_live_broadcasts_scheduled_at ON live_broadcasts(scheduled_at);

-- íŠ¸ë¦¬ê±°
CREATE TRIGGER update_live_broadcasts_updated_at
    BEFORE UPDATE ON live_broadcasts
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at_column();

-- RLS
ALTER TABLE live_broadcasts ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Anyone can view broadcasts"
    ON live_broadcasts FOR SELECT
    USING (true);

CREATE POLICY "Admins can manage broadcasts"
    ON live_broadcasts FOR ALL
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );
```

---

#### 18. live_products (ë¼ì´ë¸Œ ë°©ì†¡ ìƒí’ˆ)

```sql
CREATE TABLE live_products (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    broadcast_id UUID NOT NULL REFERENCES live_broadcasts(id) ON DELETE CASCADE,
    product_id UUID NOT NULL REFERENCES products(id) ON DELETE CASCADE,
    display_order INTEGER DEFAULT 0 NOT NULL,
    special_price NUMERIC(10,2),
    limited_quantity INTEGER CHECK (limited_quantity > 0),
    sold_quantity INTEGER DEFAULT 0 NOT NULL CHECK (sold_quantity >= 0),
    is_featured BOOLEAN DEFAULT false NOT NULL,
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,

    UNIQUE(broadcast_id, product_id),

    CONSTRAINT live_products_quantity_check CHECK (
        limited_quantity IS NULL OR sold_quantity <= limited_quantity
    )
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_live_products_broadcast_id ON live_products(broadcast_id);
CREATE INDEX idx_live_products_product_id ON live_products(product_id);
CREATE INDEX idx_live_products_display_order
    ON live_products(broadcast_id, display_order);

-- RLS
ALTER TABLE live_products ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Anyone can view live products"
    ON live_products FOR SELECT
    USING (true);

CREATE POLICY "Admins can manage live products"
    ON live_products FOR ALL
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );
```

---

#### 19. reviews (ìƒí’ˆ í›„ê¸°) - í–¥í›„ êµ¬í˜„

```sql
CREATE TABLE reviews (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    product_id UUID NOT NULL REFERENCES products(id) ON DELETE CASCADE,
    order_item_id UUID UNIQUE NOT NULL REFERENCES order_items(id) ON DELETE RESTRICT,
    user_id UUID NOT NULL REFERENCES profiles(id) ON DELETE CASCADE,
    rating INTEGER NOT NULL CHECK (rating BETWEEN 1 AND 5),
    content TEXT NOT NULL,
    images TEXT[] DEFAULT '{}',
    is_visible BOOLEAN DEFAULT true NOT NULL,
    admin_reply TEXT,
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
    updated_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,

    CONSTRAINT reviews_one_per_order_item UNIQUE(order_item_id)
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_reviews_product_id ON reviews(product_id);
CREATE INDEX idx_reviews_user_id ON reviews(user_id);
CREATE INDEX idx_reviews_rating ON reviews(rating);
CREATE INDEX idx_reviews_is_visible ON reviews(is_visible) WHERE is_visible = true;

-- íŠ¸ë¦¬ê±°
CREATE TRIGGER update_reviews_updated_at
    BEFORE UPDATE ON reviews
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at_column();

-- RLS
ALTER TABLE reviews ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Anyone can view visible reviews"
    ON reviews FOR SELECT
    USING (is_visible = true);

CREATE POLICY "Users can create reviews for own orders"
    ON reviews FOR INSERT
    WITH CHECK (
        auth.uid() = user_id AND
        EXISTS (
            SELECT 1 FROM order_items oi
            JOIN orders o ON o.id = oi.order_id
            WHERE oi.id = order_item_id AND o.user_id = auth.uid()
        )
    );

CREATE POLICY "Admins can manage all reviews"
    ON reviews FOR ALL
    USING (
        EXISTS (
            SELECT 1 FROM profiles
            WHERE id = auth.uid() AND is_admin = true
        )
    );
```

---

#### 20. notifications (ì•Œë¦¼) - í–¥í›„ êµ¬í˜„

```sql
CREATE TABLE notifications (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES profiles(id) ON DELETE CASCADE,
    type VARCHAR(50) NOT NULL,
    title VARCHAR(255) NOT NULL,
    message TEXT NOT NULL,
    link TEXT,
    is_read BOOLEAN DEFAULT false NOT NULL,
    read_at TIMESTAMPTZ,
    created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,

    CONSTRAINT notifications_type_check CHECK (
        type IN (
            'order_confirmed',
            'payment_confirmed',
            'shipped',
            'delivered',
            'coupon_issued',
            'live_starting',
            'system'
        )
    )
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_notifications_user_id ON notifications(user_id);
CREATE INDEX idx_notifications_is_read ON notifications(user_id, is_read);
CREATE INDEX idx_notifications_created_at ON notifications(created_at DESC);

-- RLS
ALTER TABLE notifications ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can view own notifications"
    ON notifications FOR SELECT
    USING (auth.uid() = user_id);

CREATE POLICY "Users can update own notifications"
    ON notifications FOR UPDATE
    USING (auth.uid() = user_id);
```

---

### 4.2.3 ê³µí†µ í•¨ìˆ˜

#### updated_at ìë™ ì—…ë°ì´íŠ¸ í•¨ìˆ˜

```sql
CREATE OR REPLACE FUNCTION update_updated_at_column()
RETURNS TRIGGER AS $$
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;
```

---

### 4.2.4 ì´ˆê¸° ë°ì´í„°

#### ê¸°ë³¸ ì¹´í…Œê³ ë¦¬

```sql
INSERT INTO categories (name, slug, display_order) VALUES
('ì˜ë¥˜', 'clothing', 1),
('ì•¡ì„¸ì„œë¦¬', 'accessories', 2),
('ë·°í‹°', 'beauty', 3),
('ìƒí™œìš©í’ˆ', 'lifestyle', 4),
('ì‹í’ˆ', 'food', 5);
```

#### ê¸°ë³¸ ê³µê¸‰ì²˜

```sql
INSERT INTO suppliers (name, code, is_active) VALUES
('ê¸°ë³¸ ê³µê¸‰ì²˜', 'DEFAULT', true);
```

#### ê´€ë¦¬ì ê³„ì • (ìˆ˜ë™ ìƒì„± í›„)

```sql
UPDATE profiles
SET is_admin = true
WHERE email = 'admin@example.com';
```

---

## 4.3 ë°ì´í„°ë² ì´ìŠ¤ ê´€ê³„ë„ ìš”ì•½

### í•µì‹¬ ê´€ê³„

1. **ì‚¬ìš©ì â†’ ì£¼ë¬¸**: 1:N (í•œ ì‚¬ìš©ìê°€ ì—¬ëŸ¬ ì£¼ë¬¸)
2. **ì£¼ë¬¸ â†’ ì£¼ë¬¸ ìƒí’ˆ**: 1:N (í•œ ì£¼ë¬¸ì— ì—¬ëŸ¬ ìƒí’ˆ)
3. **ì£¼ë¬¸ â†” ë°°ì†¡ ì •ë³´**: 1:1
4. **ì£¼ë¬¸ â†” ê²°ì œ ì •ë³´**: 1:1
5. **ìƒí’ˆ â†’ ì˜µì…˜**: 1:N (í•œ ìƒí’ˆì— ì—¬ëŸ¬ ì˜µì…˜)
6. **ìƒí’ˆ â†’ ì´ë¯¸ì§€**: 1:N
7. **ì¿ í° â†’ ì‚¬ìš©ì ì¿ í°**: 1:N (í•œ ì¿ í°ì´ ì—¬ëŸ¬ ì‚¬ìš©ìì—ê²Œ ë°œê¸‰)
8. **ë¼ì´ë¸Œ ë°©ì†¡ â†’ ë¼ì´ë¸Œ ìƒí’ˆ**: 1:N

### Dual Storage íŒ¨í„´

- **order_items**: ì£¼ë¬¸ ì‹œì ì˜ ìƒí’ˆ ì •ë³´ ìŠ¤ëƒ…ìƒ· ì €ì¥
  - `product_title`, `variant_option_name`, `variant_option_value`, `unit_price`
  - ì´ìœ : ì£¼ë¬¸ í›„ ìƒí’ˆ ì •ë³´ ë³€ê²½ë˜ì–´ë„ ì£¼ë¬¸ ë‚´ì—­ì€ ë¶ˆë³€

### ì¤‘ìš” ì œì•½ì¡°ê±´

1. **ì¬ê³  ì¼ê´€ì„±**: variant ì¬ê³  ë³€ê²½ ì‹œ product ì¬ê³  ìë™ ì—…ë°ì´íŠ¸ (íŠ¸ë¦¬ê±°)
2. **ì¿ í° ì‚¬ìš© ì œí•œ**: `usage_limit_per_user` ì²´í¬
3. **ì£¼ë¬¸ ì·¨ì†Œ**: `status = 'pending_payment'`ì¼ ë•Œë§Œ ê°€ëŠ¥
4. **RLS**: ì‚¬ìš©ìëŠ” ìì‹ ì˜ ë°ì´í„°ë§Œ, ê´€ë¦¬ìëŠ” ëª¨ë“  ë°ì´í„° ì ‘ê·¼

# Part 5: ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨

## 5.1 ì£¼ìš” í”Œë¡œìš° ì‹œí€€ìŠ¤

### 5.1.1 íšŒì›ê°€ì… ë° ë¡œê·¸ì¸ í”Œë¡œìš°

#### Kakao ë¡œê·¸ì¸ ì‹œí€€ìŠ¤

```mermaid
sequenceDiagram
    actor User
    participant Client
    participant API
    participant Supabase
    participant Kakao

    User->>Client: ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ í´ë¦­
    Client->>Kakao: OAuth ì¸ì¦ ìš”ì²­
    Kakao-->>User: ë¡œê·¸ì¸ í™”ë©´
    User->>Kakao: ê³„ì • ì…ë ¥ ë° ë™ì˜
    Kakao-->>Client: Authorization Code
    Client->>API: POST /api/auth/kakao {code}
    API->>Kakao: Access Token ìš”ì²­
    Kakao-->>API: Access Token + ì‚¬ìš©ì ì •ë³´
    API->>Supabase: ì‚¬ìš©ì ì¡°íšŒ/ìƒì„±

    alt ì‹ ê·œ ì‚¬ìš©ì
        Supabase-->>API: ì‚¬ìš©ì ìƒì„± ì™„ë£Œ
        API->>Supabase: user_couponsì— ì‹ ê·œ ì¿ í° ë°œê¸‰
    else ê¸°ì¡´ ì‚¬ìš©ì
        Supabase-->>API: ê¸°ì¡´ ì‚¬ìš©ì ì •ë³´
    end

    API-->>Client: JWT Token + isNewUser
    Client->>Client: ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— í† í° ì €ì¥

    alt ì‹ ê·œ ì‚¬ìš©ì
        Client->>Client: "í™˜ì˜ ì¿ í°ì´ ë°œê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤!" ì•Œë¦¼
    end

    Client-->>User: ë¡œê·¸ì¸ ì™„ë£Œ, í™ˆìœ¼ë¡œ ì´ë™
```

---

### 5.1.2 ìƒí’ˆ ì¡°íšŒ í”Œë¡œìš°

#### ìƒí’ˆ ìƒì„¸ í˜ì´ì§€ ë¡œë”© ì‹œí€€ìŠ¤

```mermaid
sequenceDiagram
    actor User
    participant Client
    participant API
    participant Supabase
    participant Storage

    User->>Client: ìƒí’ˆ í´ë¦­
    Client->>Client: ë¡œë”© ìƒíƒœ í‘œì‹œ

    par ë³‘ë ¬ ìš”ì²­
        Client->>API: GET /api/products/:id
        and
        Client->>API: GET /api/products/:id/variants
    end

    API->>Supabase: SELECT * FROM products WHERE id=?
    Supabase-->>API: ìƒí’ˆ ë°ì´í„°

    API->>Supabase: SELECT * FROM product_variants WHERE product_id=?
    Supabase-->>API: ì˜µì…˜ ë°ì´í„°

    API->>Supabase: SELECT * FROM product_images WHERE product_id=?
    Supabase-->>API: ì´ë¯¸ì§€ URLs

    API-->>Client: ìƒí’ˆ ì •ë³´ (JSON)

    Client->>Storage: ì´ë¯¸ì§€ íŒŒì¼ ìš”ì²­ (ë³‘ë ¬)
    Storage-->>Client: ì´ë¯¸ì§€ íŒŒì¼ë“¤

    Client->>Client: ìƒí’ˆ ì •ë³´ ë Œë”ë§
    Client-->>User: ìƒí’ˆ ìƒì„¸ í˜ì´ì§€ í‘œì‹œ
```

---

### 5.1.3 ì¥ë°”êµ¬ë‹ˆ í”Œë¡œìš°

#### ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ ì‹œí€€ìŠ¤

```mermaid
sequenceDiagram
    actor User
    participant Client
    participant API
    participant Supabase
    participant Zustand

    User->>Client: ì˜µì…˜ ì„ íƒ + "ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°" í´ë¦­

    Client->>Client: ìœ íš¨ì„± ê²€ì‚¬ (ì˜µì…˜ í•„ìˆ˜, ìˆ˜ëŸ‰ > 0)

    alt ë¡œê·¸ì¸ ì•ˆ ë¨
        Client-->>User: ë¡œê·¸ì¸ ëª¨ë‹¬ í‘œì‹œ
        User->>Client: ë¡œê·¸ì¸ ì§„í–‰
    end

    Client->>API: POST /api/cart/items {product_id, variant_id, quantity}

    API->>Supabase: SELECT stock_quantity FROM product_variants WHERE id=?
    Supabase-->>API: ì¬ê³  ìˆ˜ëŸ‰

    alt ì¬ê³  ë¶€ì¡±
        API-->>Client: 400 OUT_OF_STOCK
        Client-->>User: "ì¬ê³ ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤" ì•Œë¦¼
    else ì¬ê³  ì¶©ë¶„
        API->>Supabase: INSERT INTO cart_items ... ON CONFLICT UPDATE quantity
        Supabase-->>API: ì¥ë°”êµ¬ë‹ˆ í•­ëª©
        API-->>Client: 201 Success

        Client->>Zustand: updateCartCount(+1)
        Client-->>User: "ì¥ë°”êµ¬ë‹ˆì— ë‹´ì•˜ìŠµë‹ˆë‹¤" í† ìŠ¤íŠ¸ + í•˜ë‹¨ ë°” í‘œì‹œ
    end
```

---

### 5.1.4 ì£¼ë¬¸ ìƒì„± í”Œë¡œìš°

#### ì£¼ë¬¸í•˜ê¸° ì „ì²´ ì‹œí€€ìŠ¤

```mermaid
sequenceDiagram
    actor User
    participant Client
    participant API
    participant Supabase
    participant BullMQ

    User->>Client: "ì£¼ë¬¸í•˜ê¸°" í´ë¦­
    Client->>Client: í¼ ê²€ì¦ (í•„ìˆ˜ ì…ë ¥, ë™ì˜ ì²´í¬)

    Client->>API: POST /api/orders {items, shipping, coupon_id, payment_method}

    API->>Supabase: BEGIN TRANSACTION

    Note over API,Supabase: 1ë‹¨ê³„: ì¬ê³  í™•ì¸ ë° ì°¨ê°

    loop ê° ì£¼ë¬¸ ìƒí’ˆ
        API->>Supabase: SELECT stock_quantity FROM product_variants WHERE id=? FOR UPDATE
        Supabase-->>API: ì¬ê³  ìˆ˜ëŸ‰

        alt ì¬ê³  ë¶€ì¡±
            API->>Supabase: ROLLBACK
            API-->>Client: 400 OUT_OF_STOCK
            Client-->>User: "ì¬ê³  ë¶€ì¡± ìƒí’ˆì´ ìˆìŠµë‹ˆë‹¤"
        end

        API->>Supabase: UPDATE product_variants SET stock_quantity = stock_quantity - ? WHERE id=?
    end

    Note over API,Supabase: 2ë‹¨ê³„: ì¿ í° ê²€ì¦ ë° ì ìš©

    opt ì¿ í° ì‚¬ìš©
        API->>Supabase: SELECT * FROM user_coupons WHERE user_id=? AND coupon_id=? AND is_used=false
        Supabase-->>API: ì‚¬ìš©ì ì¿ í°

        alt ì¿ í° ì‚¬ìš© ë¶ˆê°€
            API->>Supabase: ROLLBACK
            API-->>Client: 400 INVALID_COUPON
            Client-->>User: "ì¿ í°ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤"
        end

        API->>API: í• ì¸ ê¸ˆì•¡ ê³„ì‚°
    end

    Note over API,Supabase: 3ë‹¨ê³„: ì£¼ë¬¸ ìƒì„±

    API->>Supabase: INSERT INTO orders (order_number, user_id, status, ...)
    Supabase-->>API: ì£¼ë¬¸ ID

    API->>Supabase: INSERT INTO order_items (order_id, product_id, variant_id, ...)
    API->>Supabase: INSERT INTO order_shipping (order_id, recipient_name, ...)
    API->>Supabase: INSERT INTO order_payments (order_id, payment_method, ...)

    opt ì¿ í° ì‚¬ìš©
        API->>Supabase: UPDATE user_coupons SET is_used=true, used_at=NOW(), order_id=? WHERE id=?
        API->>Supabase: UPDATE coupons SET usage_count = usage_count + 1 WHERE id=?
    end

    API->>Supabase: COMMIT TRANSACTION

    Note over API,BullMQ: 4ë‹¨ê³„: ë¹„ë™ê¸° ì‘ì—… íì‰

    API->>BullMQ: ì£¼ë¬¸ í™•ì¸ ì´ë©”ì¼ ë°œì†¡ ì‘ì—…
    API->>BullMQ: ì…ê¸ˆ ê¸°í•œ ë§Œë£Œ ì²´í¬ ì‘ì—… (24ì‹œê°„ í›„)

    API-->>Client: 201 ì£¼ë¬¸ ìƒì„± ì™„ë£Œ {order_id, order_number}

    Client->>Zustand: clearCart()
    Client->>Client: /order-complete?order_id=xxx ì´ë™
    Client-->>User: ì£¼ë¬¸ ì™„ë£Œ í˜ì´ì§€ (ì…ê¸ˆ ì•ˆë‚´)
```

---

### 5.1.5 ê´€ë¦¬ì ì…ê¸ˆ í™•ì¸ í”Œë¡œìš°

#### ì…ê¸ˆ í™•ì¸ ë° ì¬ê³  ê´€ë¦¬ ì‹œí€€ìŠ¤

```mermaid
sequenceDiagram
    actor Admin
    participant AdminClient
    participant API
    participant Supabase
    participant BullMQ

    Admin->>AdminClient: ì…ê¸ˆ í™•ì¸ í˜ì´ì§€ ì§„ì…
    AdminClient->>API: GET /api/admin/orders?status=pending_payment
    API->>Supabase: SELECT * FROM orders WHERE status='pending_payment'
    Supabase-->>API: ì…ê¸ˆ ëŒ€ê¸° ì£¼ë¬¸ ëª©ë¡
    API-->>AdminClient: ì£¼ë¬¸ ëª©ë¡
    AdminClient-->>Admin: ì…ê¸ˆ ëŒ€ê¸° ëª©ë¡ í‘œì‹œ

    Admin->>Admin: ì€í–‰ ê³„ì¢Œ í™•ì¸ (ì™¸ë¶€)
    Admin->>AdminClient: "ì…ê¸ˆ í™•ì¸" í´ë¦­

    AdminClient->>API: POST /api/admin/orders/:id/confirm-payment

    API->>Supabase: BEGIN TRANSACTION
    API->>Supabase: UPDATE orders SET status='paid', paid_at=NOW() WHERE id=?
    API->>Supabase: UPDATE order_payments SET paid_at=NOW() WHERE order_id=?
    API->>Supabase: COMMIT

    API->>BullMQ: ê²°ì œ ì™„ë£Œ ì•Œë¦¼ ë°œì†¡ ì‘ì—…
    API->>BullMQ: ë°°ì†¡ ì¤€ë¹„ ì•Œë¦¼ ì‘ì—… (ë‚´ë¶€)

    API-->>AdminClient: 200 ì…ê¸ˆ í™•ì¸ ì™„ë£Œ
    AdminClient-->>Admin: "ì…ê¸ˆ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤" ì•Œë¦¼

    Note over Admin,Supabase: ì¬ê³  í™•ì¸ ë° ë°œì£¼ í”Œë¡œìš°

    AdminClient->>API: GET /api/admin/products/low-stock?threshold=10
    API->>Supabase: SELECT * FROM products WHERE stock_quantity < 10
    Supabase-->>API: ì¬ê³  ë¶€ì¡± ìƒí’ˆ
    API-->>AdminClient: ì¬ê³  ë¶€ì¡± ë¦¬ìŠ¤íŠ¸

    alt ì¬ê³  ë¶€ì¡±
        Admin->>AdminClient: "ë°œì£¼ ìƒì„±" í´ë¦­
        AdminClient->>AdminClient: /admin/purchase-orders/create ì´ë™
        Admin->>AdminClient: ê³µê¸‰ì²˜ ì„ íƒ + ìƒí’ˆ ì¶”ê°€ + ìˆ˜ëŸ‰ ì…ë ¥
        AdminClient->>API: POST /api/admin/purchase-orders
        API->>Supabase: INSERT INTO purchase_order_batches
        API->>Supabase: INSERT INTO purchase_order_items
        API-->>AdminClient: 201 ë°œì£¼ ìƒì„± ì™„ë£Œ
        AdminClient-->>Admin: "ë°œì£¼ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤"
    end
```

---

### 5.1.6 ë°°ì†¡ ì²˜ë¦¬ í”Œë¡œìš°

#### ë°°ì†¡ ì‹œì‘ ì‹œí€€ìŠ¤

```mermaid
sequenceDiagram
    actor Admin
    participant AdminClient
    participant API
    participant Supabase
    participant BullMQ

    Admin->>AdminClient: ë°°ì†¡ ê´€ë¦¬ í˜ì´ì§€ ì§„ì…
    AdminClient->>API: GET /api/admin/orders?status=paid
    API->>Supabase: SELECT * FROM orders WHERE status='paid'
    Supabase-->>API: ë°°ì†¡ ëŒ€ê¸° ì£¼ë¬¸
    API-->>AdminClient: ì£¼ë¬¸ ëª©ë¡

    Admin->>AdminClient: íƒë°°ì‚¬ ì„ íƒ + ì†¡ì¥ë²ˆí˜¸ ì…ë ¥
    AdminClient->>API: POST /api/admin/orders/:id/ship {courier, tracking_number}

    API->>Supabase: BEGIN TRANSACTION
    API->>Supabase: UPDATE orders SET status='shipped' WHERE id=?
    API->>Supabase: UPDATE order_shipping SET courier=?, tracking_number=?, shipped_at=NOW()
    API->>Supabase: COMMIT

    API->>BullMQ: ë°°ì†¡ ì‹œì‘ ì•Œë¦¼ ë°œì†¡ (SMS/Push)

    API-->>AdminClient: 200 ë°°ì†¡ ì²˜ë¦¬ ì™„ë£Œ
    AdminClient-->>Admin: "ë°°ì†¡ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤"

    Note over BullMQ: ë¹„ë™ê¸° ì‘ì—…
    BullMQ->>BullMQ: ê³ ê°ì—ê²Œ ë°°ì†¡ ì•Œë¦¼ ë°œì†¡
    BullMQ->>BullMQ: ë°°ì†¡ ì¶”ì  URL ìƒì„± ë° ì „ì†¡
```

---

### 5.1.7 ì¿ í° ì‹œìŠ¤í…œ í”Œë¡œìš°

#### ì¿ í° ìƒì„± ë° ë°°í¬ ì‹œí€€ìŠ¤

```mermaid
sequenceDiagram
    actor Admin
    participant AdminClient
    participant API
    participant Supabase
    participant BullMQ

    Note over Admin,Supabase: 1ë‹¨ê³„: ì¿ í° ìƒì„±

    Admin->>AdminClient: ì¿ í° ìƒì„± í˜ì´ì§€
    Admin->>AdminClient: ì¿ í° ì •ë³´ ì…ë ¥ (ì´ë¦„, ì½”ë“œ, í• ì¸ ìœ í˜• ë“±)
    AdminClient->>API: POST /api/admin/coupons

    API->>Supabase: SELECT * FROM coupons WHERE code=?
    Supabase-->>API: ì¤‘ë³µ í™•ì¸

    alt ì¤‘ë³µ ì½”ë“œ
        API-->>AdminClient: 409 DUPLICATE_COUPON_CODE
        AdminClient-->>Admin: "ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ ì¿ í° ì½”ë“œì…ë‹ˆë‹¤"
    else ì½”ë“œ ì‚¬ìš© ê°€ëŠ¥
        API->>Supabase: INSERT INTO coupons (...)
        Supabase-->>API: ì¿ í° ID
        API-->>AdminClient: 201 ì¿ í° ìƒì„± ì™„ë£Œ
        AdminClient-->>Admin: "ì¿ í°ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤"
    end

    Note over Admin,Supabase: 2ë‹¨ê³„: ì¿ í° ë°°í¬

    Admin->>AdminClient: "ì¿ í° ë°°í¬" í´ë¦­
    Admin->>AdminClient: ë°°í¬ ëŒ€ìƒ ì„ íƒ (ì „ì²´ or íŠ¹ì • ê³ ê°)

    AdminClient->>API: POST /api/admin/coupons/:id/distribute {user_ids, distribute_all}

    alt ì „ì²´ ë°°í¬
        API->>Supabase: SELECT id FROM profiles WHERE is_admin=false
        Supabase-->>API: ì „ì²´ ê³ ê° ID ë¦¬ìŠ¤íŠ¸
    end

    API->>Supabase: BEGIN TRANSACTION

    loop ê° ê³ ê°
        API->>Supabase: INSERT INTO user_coupons (user_id, coupon_id) ON CONFLICT DO NOTHING
    end

    API->>Supabase: COMMIT

    API->>BullMQ: ì¿ í° ë°œê¸‰ ì•Œë¦¼ ì‘ì—… (ê° ê³ ê°ì—ê²Œ)

    API-->>AdminClient: 200 {distributed_count, failed_count}
    AdminClient-->>Admin: "Nëª…ì—ê²Œ ì¿ í°ì´ ë°œê¸‰ë˜ì—ˆìŠµë‹ˆë‹¤"
```

---

### 5.1.8 ë¼ì´ë¸Œ ë°©ì†¡ ìƒí’ˆ êµ¬ë§¤ í”Œë¡œìš°

#### ë¼ì´ë¸Œ ì¤‘ ë¹ ë¥¸ êµ¬ë§¤ ì‹œí€€ìŠ¤

```mermaid
sequenceDiagram
    actor User
    participant Client
    participant LiveStream
    participant API
    participant Supabase

    User->>Client: ë¼ì´ë¸Œ í˜ì´ì§€ ì§„ì…
    Client->>API: GET /api/live/broadcasts/:id
    API->>Supabase: SELECT * FROM live_broadcasts WHERE id=?
    Supabase-->>API: ë°©ì†¡ ì •ë³´
    API-->>Client: ë°©ì†¡ ì •ë³´

    Client->>LiveStream: ìŠ¤íŠ¸ë¦¼ ì—°ê²°
    LiveStream-->>User: ë¼ì´ë¸Œ ë°©ì†¡ ì¬ìƒ

    Client->>API: GET /api/live/:id/products
    API->>Supabase: SELECT * FROM live_products WHERE broadcast_id=?
    Supabase-->>API: ë¼ì´ë¸Œ ìƒí’ˆ ëª©ë¡
    API-->>Client: ìƒí’ˆ ì¹´ë“œ ë°ì´í„°

    Client-->>User: í™”ë©´ í•˜ë‹¨ì— ìƒí’ˆ ì¹´ë“œ í‘œì‹œ

    User->>Client: ìƒí’ˆ ì¹´ë“œ í´ë¦­
    Client->>Client: ëª¨ë‹¬ íŒì—… (ë¼ì´ë¸Œ í™”ë©´ ìœ ì§€, PiP)

    alt ì˜µì…˜ ìˆìŒ
        Client-->>User: ì˜µì…˜ ì„ íƒ ëª¨ë‹¬
        User->>Client: ì˜µì…˜ ì„ íƒ
    end

    User->>Client: "ë°”ë¡œ êµ¬ë§¤" í´ë¦­

    Client->>API: POST /api/orders (ê°„í¸ ì£¼ë¬¸)

    API->>Supabase: SELECT stock_quantity FROM product_variants WHERE id=? FOR UPDATE
    Supabase-->>API: ì¬ê³  ìˆ˜ëŸ‰

    alt í’ˆì ˆ
        API-->>Client: 400 OUT_OF_STOCK
        Client-->>User: "í’ˆì ˆë˜ì—ˆìŠµë‹ˆë‹¤" ì•Œë¦¼
        Client->>Client: ëª¨ë‹¬ ë‹«ê¸°, ë¼ì´ë¸Œ ê³„ì† ì‹œì²­
    else ì¬ê³  ìˆìŒ
        API->>Supabase: ì£¼ë¬¸ ìƒì„± (orders, order_items ë“±)
        API->>Supabase: ì¬ê³  ì°¨ê°

        opt ë¼ì´ë¸Œ íŠ¹ê°€ ì ìš©
            API->>Supabase: SELECT special_price FROM live_products WHERE id=?
            API->>API: íŠ¹ê°€ ê°€ê²© ì ìš©
        end

        API->>Supabase: UPDATE live_products SET sold_quantity = sold_quantity + 1

        API-->>Client: 201 ì£¼ë¬¸ ì™„ë£Œ
        Client-->>User: "ì£¼ë¬¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!" í† ìŠ¤íŠ¸ (3ì´ˆ)
        Client->>Client: ëª¨ë‹¬ ë‹«ê¸°, ë¼ì´ë¸Œ ê³„ì† ì‹œì²­
    end
```

---

## 5.2 ì—ëŸ¬ ì²˜ë¦¬ ì‹œí€€ìŠ¤

### 5.2.1 ì¬ê³  ë¶€ì¡± ì‹œë‚˜ë¦¬ì˜¤

```mermaid
sequenceDiagram
    actor User
    participant Client
    participant API
    participant Supabase

    User->>Client: "ì£¼ë¬¸í•˜ê¸°" í´ë¦­
    Client->>API: POST /api/orders

    API->>Supabase: BEGIN TRANSACTION
    API->>Supabase: SELECT stock_quantity FROM product_variants FOR UPDATE
    Supabase-->>API: ì¬ê³  = 0

    API->>Supabase: ROLLBACK
    API-->>Client: 400 OUT_OF_STOCK {product_id, variant_id}

    Client->>Client: ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ë¡œ ì´ë™
    Client->>API: GET /api/cart (ìµœì‹  ì¬ê³  ë°˜ì˜)
    API->>Supabase: ì¬ê³  ì •ë³´ì™€ í•¨ê»˜ ì¥ë°”êµ¬ë‹ˆ ì¡°íšŒ
    Supabase-->>API: ì¥ë°”êµ¬ë‹ˆ + ì¬ê³  ìƒíƒœ
    API-->>Client: ì¥ë°”êµ¬ë‹ˆ ë°ì´í„°

    Client-->>User: í’ˆì ˆ ìƒí’ˆ íšŒìƒ‰ ì²˜ë¦¬ + "í’ˆì ˆ" ë°°ì§€
    Client-->>User: "ì¼ë¶€ ìƒí’ˆì´ í’ˆì ˆë˜ì—ˆìŠµë‹ˆë‹¤" ì•Œë¦¼
```

---

### 5.2.2 ì¿ í° ë§Œë£Œ/ì‚¬ìš© ë¶ˆê°€ ì‹œë‚˜ë¦¬ì˜¤

```mermaid
sequenceDiagram
    actor User
    participant Client
    participant API
    participant Supabase

    User->>Client: ì¿ í° ì„ íƒ
    Client->>API: POST /api/coupons/validate {coupon_id, order_amount}

    API->>Supabase: SELECT * FROM user_coupons JOIN coupons WHERE id=?
    Supabase-->>API: ì¿ í° ì •ë³´

    API->>API: ê²€ì¦ ë¡œì§

    alt ì¿ í° ë§Œë£Œ
        API-->>Client: 400 COUPON_EXPIRED
        Client-->>User: "ë§Œë£Œëœ ì¿ í°ì…ë‹ˆë‹¤"
    else ì´ë¯¸ ì‚¬ìš©ë¨
        API-->>Client: 400 COUPON_ALREADY_USED
        Client-->>User: "ì´ë¯¸ ì‚¬ìš©í•œ ì¿ í°ì…ë‹ˆë‹¤"
    else ìµœì†Œ ì£¼ë¬¸ ê¸ˆì•¡ ë¯¸ë‹¬
        API-->>Client: 400 INVALID_COUPON {min_order_amount}
        Client-->>User: "ìµœì†Œ ì£¼ë¬¸ ê¸ˆì•¡ì€ XX,XXXì›ì…ë‹ˆë‹¤"
    else ì‚¬ìš© ê°€ëŠ¥
        API-->>Client: 200 {discount_amount, final_amount}
        Client->>Client: í• ì¸ ê¸ˆì•¡ í‘œì‹œ
        Client-->>User: "ì¿ í°ì´ ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤"
    end
```

---

### 5.2.3 ê²°ì œ ê¸°í•œ ì´ˆê³¼ ìë™ ì·¨ì†Œ

```mermaid
sequenceDiagram
    participant BullMQ
    participant API
    participant Supabase

    Note over BullMQ: ì£¼ë¬¸ ìƒì„± í›„ 24ì‹œê°„ ê²½ê³¼

    BullMQ->>BullMQ: ì…ê¸ˆ ê¸°í•œ ì²´í¬ ì‘ì—… ì‹¤í–‰
    BullMQ->>API: checkPaymentDeadline(order_id)

    API->>Supabase: SELECT * FROM orders WHERE id=? AND status='pending_payment'
    Supabase-->>API: ì£¼ë¬¸ ì •ë³´

    API->>API: í˜„ì¬ ì‹œê°„ vs payment_deadline ë¹„êµ

    alt ê¸°í•œ ì´ˆê³¼
        API->>Supabase: BEGIN TRANSACTION
        API->>Supabase: UPDATE orders SET status='cancelled', cancel_reason='ì…ê¸ˆ ê¸°í•œ ì´ˆê³¼'

        Note over API,Supabase: ì¬ê³  ë³µêµ¬
        API->>Supabase: SELECT * FROM order_items WHERE order_id=?
        Supabase-->>API: ì£¼ë¬¸ ìƒí’ˆ ëª©ë¡

        loop ê° ìƒí’ˆ
            API->>Supabase: UPDATE product_variants SET stock_quantity = stock_quantity + ?
        end

        opt ì¿ í° ì‚¬ìš©í–ˆë˜ ê²½ìš°
            API->>Supabase: UPDATE user_coupons SET is_used=false, used_at=NULL, order_id=NULL
            API->>Supabase: UPDATE coupons SET usage_count = usage_count - 1
        end

        API->>Supabase: COMMIT

        API->>BullMQ: ì£¼ë¬¸ ì·¨ì†Œ ì•Œë¦¼ ë°œì†¡ ì‘ì—…
        API-->>BullMQ: ì²˜ë¦¬ ì™„ë£Œ
    else ì•„ì§ ìœ íš¨
        API-->>BullMQ: ëŒ€ê¸° ê³„ì†
    end
```

---

## 5.3 ë™ì‹œì„± ì œì–´ ì‹œí€€ìŠ¤

### 5.3.1 ë™ì‹œ ì£¼ë¬¸ ì‹œ ì¬ê³  ê²½ìŸ ì²˜ë¦¬

```mermaid
sequenceDiagram
    actor User1
    actor User2
    participant API1
    participant API2
    participant Supabase

    Note over User1,Supabase: ë§ˆì§€ë§‰ ì¬ê³  1ê°œ ë‚¨ìŒ

    par User1ê³¼ User2 ë™ì‹œ ì£¼ë¬¸
        User1->>API1: POST /api/orders
        and
        User2->>API2: POST /api/orders
    end

    API1->>Supabase: BEGIN TRANSACTION
    API2->>Supabase: BEGIN TRANSACTION

    API1->>Supabase: SELECT stock_quantity FROM product_variants WHERE id=? FOR UPDATE

    Note over Supabase: API1ì´ row lock íšë“

    Supabase-->>API1: stock_quantity = 1

    API2->>Supabase: SELECT stock_quantity FROM product_variants WHERE id=? FOR UPDATE

    Note over API2,Supabase: API2ëŠ” ëŒ€ê¸° (row lock)

    API1->>API1: ì¬ê³  ì¶©ë¶„ (1 >= 1)
    API1->>Supabase: UPDATE product_variants SET stock_quantity = 0 WHERE id=?
    API1->>Supabase: INSERT INTO orders ...
    API1->>Supabase: COMMIT

    Note over Supabase: API1 lock í•´ì œ

    Supabase-->>API2: stock_quantity = 0

    API2->>API2: ì¬ê³  ë¶€ì¡± (0 < 1)
    API2->>Supabase: ROLLBACK
    API2-->>User2: 400 OUT_OF_STOCK

    API1-->>User1: 201 ì£¼ë¬¸ ì™„ë£Œ
```

---

## 5.4 ìºì‹± ì „ëµ ì‹œí€€ìŠ¤

### 5.4.1 ìƒí’ˆ ëª©ë¡ ìºì‹œ í™œìš©

```mermaid
sequenceDiagram
    actor User
    participant Client
    participant API
    participant Redis
    participant Supabase

    User->>Client: ìƒí’ˆ ëª©ë¡ í˜ì´ì§€ ì§„ì…
    Client->>API: GET /api/products?page=1&category=clothing

    API->>API: ìºì‹œ í‚¤ ìƒì„±: products:page:1:category:clothing
    API->>Redis: GET products:page:1:category:clothing

    alt ìºì‹œ íˆíŠ¸
        Redis-->>API: ìºì‹œëœ ìƒí’ˆ ëª©ë¡
        API-->>Client: 200 ìƒí’ˆ ëª©ë¡ (ìºì‹œ)
        Note over API: ë¹ ë¥¸ ì‘ë‹µ (~10ms)
    else ìºì‹œ ë¯¸ìŠ¤
        Redis-->>API: null
        API->>Supabase: SELECT * FROM products WHERE category_id=? LIMIT 20 OFFSET 0
        Supabase-->>API: ìƒí’ˆ ëª©ë¡
        API->>Redis: SET products:page:1:category:clothing, TTL=300 (5ë¶„)
        API-->>Client: 200 ìƒí’ˆ ëª©ë¡ (DB)
        Note over API: ëŠë¦° ì‘ë‹µ (~100ms)
    end

    Client-->>User: ìƒí’ˆ ëª©ë¡ í‘œì‹œ

    Note over API,Redis: ìƒí’ˆ ìˆ˜ì • ì‹œ ìºì‹œ ë¬´íš¨í™”

    participant AdminClient
    AdminClient->>API: PATCH /api/admin/products/:id
    API->>Supabase: UPDATE products SET ... WHERE id=?
    API->>Redis: DEL products:*
    Note over Redis: ê´€ë ¨ ìºì‹œ ì „ì²´ ì‚­ì œ
```

# Part 6: ì™€ì´ì–´í”„ë ˆì„ ê°€ì´ë“œ

## 6.1 ë””ìì¸ ì‹œìŠ¤í…œ ì •ì˜

### 6.1.1 ì»¬ëŸ¬ íŒ”ë ˆíŠ¸

```css
/* Primary Colors */
--primary-50: #f0f9ff;
--primary-100: #e0f2fe;
--primary-500: #0ea5e9;  /* ë©”ì¸ ë¸Œëœë“œ ì»¬ëŸ¬ */
--primary-600: #0284c7;
--primary-700: #0369a1;

/* Secondary Colors */
--secondary-500: #8b5cf6;  /* ì•¡ì„¼íŠ¸ ì»¬ëŸ¬ */

/* Neutral Colors */
--gray-50: #f9fafb;
--gray-100: #f3f4f6;
--gray-200: #e5e7eb;
--gray-300: #d1d5db;
--gray-500: #6b7280;
--gray-700: #374151;
--gray-900: #111827;

/* Semantic Colors */
--success: #10b981;
--warning: #f59e0b;
--error: #ef4444;
--info: #3b82f6;
```

### 6.1.2 íƒ€ì´í¬ê·¸ë˜í”¼

```css
/* Font Sizes */
--text-xs: 0.75rem;    /* 12px */
--text-sm: 0.875rem;   /* 14px */
--text-base: 1rem;     /* 16px */
--text-lg: 1.125rem;   /* 18px */
--text-xl: 1.25rem;    /* 20px */
--text-2xl: 1.5rem;    /* 24px */
--text-3xl: 1.875rem;  /* 30px */
--text-4xl: 2.25rem;   /* 36px */

/* Font Weights */
--font-normal: 400;
--font-medium: 500;
--font-semibold: 600;
--font-bold: 700;
```

### 6.1.3 ê°„ê²©(Spacing)

```css
--space-1: 0.25rem;   /* 4px */
--space-2: 0.5rem;    /* 8px */
--space-3: 0.75rem;   /* 12px */
--space-4: 1rem;      /* 16px */
--space-5: 1.25rem;   /* 20px */
--space-6: 1.5rem;    /* 24px */
--space-8: 2rem;      /* 32px */
--space-10: 2.5rem;   /* 40px */
--space-12: 3rem;     /* 48px */
```

### 6.1.4 ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œ

- **Container Max Width**: 1280px
- **Gutter**: 24px (desktop), 16px (mobile)
- **Columns**: 12 (desktop), 4 (mobile)

---

## 6.2 í˜ì´ì§€ë³„ ì™€ì´ì–´í”„ë ˆì„ ê°€ì´ë“œ

### 6.2.1 í™ˆ í˜ì´ì§€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header: Logo | ì¹´í…Œê³ ë¦¬ | ê²€ìƒ‰ | ì¥ë°”êµ¬ë‹ˆ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  [Hero Banner - ë¼ì´ë¸Œ ë°©ì†¡ or ë©”ì¸ ë°°ë„ˆ]  â”‚
â”‚              1200 x 400                 â”‚
â”‚  [ â† ]  [Image]  [ â†’ ]                  â”‚
â”‚           â€¢ â€¢ â€¢                         â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ì¹´í…Œê³ ë¦¬ í€µ ë§í¬]                        â”‚
â”‚  [ğŸ‘—] [ğŸ‘œ] [ğŸ’„] [ğŸ ] [ğŸ´]                â”‚
â”‚   ì˜ë¥˜  ê°€ë°©  ë·°í‹°  ìƒí™œ  ì‹í’ˆ             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì‹ ìƒí’ˆ                         [ë”ë³´ê¸° >] â”‚
â”‚  â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â” â”Œâ”€â”€â”€â”              â”‚
â”‚  â”‚imgâ”‚ â”‚imgâ”‚ â”‚imgâ”‚ â”‚imgâ”‚              â”‚
â”‚  â”œâ”€â”€â”€â”¤ â”œâ”€â”€â”€â”¤ â”œâ”€â”€â”€â”¤ â”œâ”€â”€â”€â”¤              â”‚
â”‚  â”‚ìƒí’ˆëª…â”‚ â”‚ìƒí’ˆëª…â”‚ â”‚ìƒí’ˆëª…â”‚ â”‚ìƒí’ˆëª…â”‚            â”‚
â”‚  â”‚50,000â”‚ â”‚45,000â”‚ â”‚30,000â”‚ â”‚25,000â”‚       â”‚
â”‚  â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜ â””â”€â”€â”€â”˜              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ë² ìŠ¤íŠ¸ ìƒí’ˆ                     [ë”ë³´ê¸° >] â”‚
â”‚  (ë™ì¼ ê·¸ë¦¬ë“œ)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Footer: íšŒì‚¬ ì •ë³´ | ì´ìš©ì•½ê´€ | ê°œì¸ì •ë³´    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì£¼ìš” ìš”ì†Œ**:
- Hero Banner: ìë™ ìŠ¬ë¼ì´ë” (5ì´ˆ), ìˆ˜ë™ í™”ì‚´í‘œ
- ì¹´í…Œê³ ë¦¬: ì•„ì´ì½˜ + í…ìŠ¤íŠ¸, 5ê°œ ê³ ì •
- ìƒí’ˆ ì¹´ë“œ: ì´ë¯¸ì§€(ì •ì‚¬ê°í˜•), ìƒí’ˆëª…(2ì¤„ ellipsis), ê°€ê²©(í• ì¸ê°€ ë¹¨ê°•)

---

### 6.2.2 ìƒí’ˆ ìƒì„¸ í˜ì´ì§€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  ìƒí’ˆëª…                    â”‚
â”‚  â”‚          â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”‚
â”‚  â”‚  Main    â”‚  ìƒí’ˆë²ˆí˜¸: P20250001       â”‚
â”‚  â”‚  Image   â”‚                            â”‚
â”‚  â”‚  600x600 â”‚  ì •ê°€: â‚©50,000             â”‚
â”‚  â”‚          â”‚  íŒë§¤ê°€: â‚©45,000 (10% â†“)   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚  [ğŸ“·][ğŸ“·][ğŸ“·][ğŸ“·]  ë°°ì†¡ë¹„: 3,000ì› (30,000ì› ì´ìƒ ë¬´ë£Œ)â”‚
â”‚                                         â”‚
â”‚                  ì˜µì…˜ ì„ íƒ               â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚                  â”‚ ìƒ‰ìƒ â–¼       â”‚       â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚                  â”‚ ì‚¬ì´ì¦ˆ â–¼     â”‚       â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                         â”‚
â”‚                  ì„ íƒëœ ì˜µì…˜             â”‚
â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                  â”‚ ë¹¨ê°• / L         â”‚   â”‚
â”‚                  â”‚ [-] 1 [+]  50,000â”‚   â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚                  ì´ ê¸ˆì•¡: â‚©50,000       â”‚
â”‚                                         â”‚
â”‚                  [ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°] [ë°”ë¡œ êµ¬ë§¤]â”‚
â”‚                  [  â™¡ ì°œí•˜ê¸°  ]         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ìƒì„¸ ì„¤ëª…] [ë°°ì†¡/êµí™˜] [í›„ê¸°]           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€             â”‚
â”‚  ìƒì„¸ ì´ë¯¸ì§€ ë° HTML ì½˜í…ì¸               â”‚
â”‚  ...                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì£¼ìš” ìš”ì†Œ**:
- ì´ë¯¸ì§€ ê°¤ëŸ¬ë¦¬: ë©”ì¸ ì´ë¯¸ì§€ + ì¸ë„¤ì¼(4ê°œ), í´ë¦­ ì‹œ í™•ëŒ€
- ì˜µì…˜ ì„ íƒ: ë“œë¡­ë‹¤ìš´, í•„ìˆ˜ í‘œì‹œ(*)
- ì„ íƒëœ ì˜µì…˜ ë¦¬ìŠ¤íŠ¸: ì—¬ëŸ¬ ì˜µì…˜ ë™ì‹œ ì„ íƒ ê°€ëŠ¥
- í•˜ë‹¨ íƒ­: ìƒì„¸ ì„¤ëª…, ë°°ì†¡/êµí™˜, í›„ê¸°

---

### 6.2.3 ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì¥ë°”êµ¬ë‹ˆ                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€             â”‚
â”‚                                         â”‚
â”‚  [âœ“] ì „ì²´ ì„ íƒ  [ì„ íƒ ì‚­ì œ]              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚  [âœ“] [IMG] ìƒí’ˆëª…                       â”‚
â”‚          ì˜µì…˜: ë¹¨ê°• / L                 â”‚
â”‚          ë‹¨ê°€: 50,000ì›                 â”‚
â”‚          ìˆ˜ëŸ‰: [-] 1 [+]                â”‚
â”‚          ì†Œê³„: 50,000ì›   [X]           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚  [âœ“] [IMG] ìƒí’ˆëª… 2                     â”‚
â”‚          ...                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ì£¼ë¬¸ ìš”ì•½                      â”‚     â”‚
â”‚  â”‚                               â”‚     â”‚
â”‚  â”‚ ì´ ìƒí’ˆ ê¸ˆì•¡:      100,000ì›  â”‚     â”‚
â”‚  â”‚ ì´ ë°°ì†¡ë¹„:           3,000ì›  â”‚     â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚     â”‚
â”‚  â”‚ ì´ ê²°ì œ ê¸ˆì•¡:      103,000ì›  â”‚     â”‚
â”‚  â”‚                               â”‚     â”‚
â”‚  â”‚ [     ì£¼ë¬¸í•˜ê¸°     ]          â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚  ì´ëŸ° ìƒí’ˆì€ ì–´ë•Œìš”?                     â”‚
â”‚  [IMG] [IMG] [IMG] [IMG]                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì£¼ìš” ìš”ì†Œ**:
- ì²´í¬ë°•ìŠ¤: ì „ì²´ ì„ íƒ, ê°œë³„ ì„ íƒ
- ìˆ˜ëŸ‰ ì¡°ì ˆ: +/- ë²„íŠ¼, ìµœì†Œ 1
- ì£¼ë¬¸ ìš”ì•½: ìš°ì¸¡ ê³ ì •(desktop), í•˜ë‹¨ ê³ ì •(mobile)
- ì¶”ì²œ ìƒí’ˆ: í•˜ë‹¨ì— 4ê°œ

---

### 6.2.4 ì£¼ë¬¸í•˜ê¸° í˜ì´ì§€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì£¼ë¬¸í•˜ê¸°                                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€             â”‚
â”‚                                         â”‚
â”‚  ì£¼ë¬¸ ìƒí’ˆ                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ [IMG] ìƒí’ˆëª…                â”‚       â”‚
â”‚  â”‚       ì˜µì…˜: ë¹¨ê°• / L         â”‚       â”‚
â”‚  â”‚       ìˆ˜ëŸ‰: 1   50,000ì›     â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                         â”‚
â”‚  ì£¼ë¬¸ì ì •ë³´                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ ì´ë¦„: [í™ê¸¸ë™            ]   â”‚       â”‚
â”‚  â”‚ ì „í™”ë²ˆí˜¸: [010-1234-5678 ]   â”‚       â”‚
â”‚  â”‚ ì´ë©”ì¼: [user@example.com]   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                         â”‚
â”‚  ë°°ì†¡ì§€ ì •ë³´                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ [âœ“] ì£¼ë¬¸ì ì •ë³´ì™€ ë™ì¼       â”‚       â”‚
â”‚  â”‚ ìˆ˜ë ¹ì¸: [í™ê¸¸ë™            ] â”‚       â”‚
â”‚  â”‚ ì „í™”ë²ˆí˜¸: [010-1234-5678   ] â”‚       â”‚
â”‚  â”‚ ìš°í¸ë²ˆí˜¸: [12345] [ê²€ìƒ‰]     â”‚       â”‚
â”‚  â”‚ ì£¼ì†Œ: [ì„œìš¸ì‹œ ê°•ë‚¨êµ¬...    ] â”‚       â”‚
â”‚  â”‚ ìƒì„¸ì£¼ì†Œ: [101ë™ 101í˜¸     ] â”‚       â”‚
â”‚  â”‚ ìš”ì²­ì‚¬í•­: [ë¬¸ ì•ì— ë†”ì£¼ì„¸ìš”] â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                         â”‚
â”‚  ì¿ í° ì„ íƒ                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ [ì¿ í° ì„ íƒí•˜ê¸° >]            â”‚       â”‚
â”‚  â”‚ ì‚¬ìš© ê°€ëŠ¥: 2ì¥               â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                         â”‚
â”‚  ê²°ì œ ìˆ˜ë‹¨                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ (â€¢) ë¬´í†µì¥ ì…ê¸ˆ              â”‚       â”‚
â”‚  â”‚ ( ) Toss ê°„í¸ê²°ì œ (ì¤€ë¹„ì¤‘)   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ìµœì¢… ê²°ì œ ê¸ˆì•¡                â”‚     â”‚
â”‚  â”‚                               â”‚     â”‚
â”‚  â”‚ ì´ ìƒí’ˆ ê¸ˆì•¡:      100,000ì›  â”‚     â”‚
â”‚  â”‚ ë°°ì†¡ë¹„:              3,000ì›  â”‚     â”‚
â”‚  â”‚ ì¿ í° í• ì¸:          -5,000ì›  â”‚     â”‚
â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚     â”‚
â”‚  â”‚ ìµœì¢… ê²°ì œ ê¸ˆì•¡:     98,000ì›  â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                         â”‚
â”‚  [âœ“] ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš© ë™ì˜ (í•„ìˆ˜)    â”‚
â”‚  [âœ“] ê²°ì œ ëŒ€í–‰ ì„œë¹„ìŠ¤ ì•½ê´€ ë™ì˜ (í•„ìˆ˜)    â”‚
â”‚                                         â”‚
â”‚  [       ì£¼ë¬¸í•˜ê¸°       ]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì£¼ìš” ìš”ì†Œ**:
- ì£¼ë¬¸ì/ë°°ì†¡ì§€: ìë™ ì…ë ¥, "ë™ì¼" ì²´í¬ë°•ìŠ¤
- ìš°í¸ë²ˆí˜¸: ë‹¤ìŒ ìš°í¸ë²ˆí˜¸ API ì—°ë™
- ì¿ í°: ëª¨ë‹¬ë¡œ ì„ íƒ
- ê²°ì œ ìˆ˜ë‹¨: ë¼ë””ì˜¤ ë²„íŠ¼
- ë™ì˜: í•„ìˆ˜ ì²´í¬ë°•ìŠ¤

---

### 6.2.5 ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Admin Header: Logo | ì•Œë¦¼ | ê´€ë¦¬ìëª…     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë©”ë‰´ â”‚  ëŒ€ì‹œë³´ë“œ                         â”‚
â”‚      â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”‚
â”‚ìƒí’ˆê´€ë¦¬â”‚                                  â”‚
â”‚ì£¼ë¬¸ê´€ë¦¬â”‚  [ì˜¤ëŠ˜ ë§¤ì¶œ]  [ì˜¤ëŠ˜ ì£¼ë¬¸]  [ì…ê¸ˆëŒ€ê¸°] [ë°°ì†¡ëŒ€ê¸°]â”‚
â”‚ì¿ í°ê´€ë¦¬â”‚  5,000,000ì›    120ê±´     15ê±´     30ê±´    â”‚
â”‚ë°œì£¼ê´€ë¦¬â”‚  +15.5% â†‘      +10.2% â†‘   ğŸ“Œ       ğŸ“Œ      â”‚
â”‚ê³ ê°ê´€ë¦¬â”‚                                  â”‚
â”‚í†µê³„ë¶„ì„â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚ì‹œìŠ¤í…œ  â”‚  â”‚ ë§¤ì¶œ ì¶”ì´ (ìµœê·¼ 7ì¼)   â”‚      â”‚
â”‚        â”‚  â”‚                        â”‚      â”‚
â”‚        â”‚  â”‚  [ë¼ì¸ ì°¨íŠ¸]           â”‚      â”‚
â”‚        â”‚  â”‚                        â”‚      â”‚
â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚        â”‚                                  â”‚
â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚        â”‚  â”‚ ì£¼ë¬¸ í˜„í™©  â”‚  â”‚ ì¸ê¸° ìƒí’ˆ â”‚    â”‚
â”‚        â”‚  â”‚           â”‚  â”‚          â”‚    â”‚
â”‚        â”‚  â”‚[íŒŒì´ ì°¨íŠ¸]â”‚  â”‚ 1. ìƒí’ˆA â”‚    â”‚
â”‚        â”‚  â”‚           â”‚  â”‚ 2. ìƒí’ˆB â”‚    â”‚
â”‚        â”‚  â”‚           â”‚  â”‚ 3. ìƒí’ˆC â”‚    â”‚
â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚        â”‚                                  â”‚
â”‚        â”‚  ì¬ê³  ì•Œë¦¼ âš ï¸                     â”‚
â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚        â”‚  â”‚ ìƒí’ˆA - ì¬ê³ : 5ê°œ       â”‚    â”‚
â”‚        â”‚  â”‚ ìƒí’ˆB - ì¬ê³ : 3ê°œ       â”‚    â”‚
â”‚        â”‚  â”‚ ìƒí’ˆC - í’ˆì ˆ            â”‚    â”‚
â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚        â”‚                                  â”‚
â”‚        â”‚  ìµœê·¼ ì£¼ë¬¸                        â”‚
â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚        â”‚  â”‚ORD001 í™ê¸¸ë™ 50,000ì› ì…ê¸ˆëŒ€ê¸°â”‚â”‚
â”‚        â”‚  â”‚ORD002 ê¹€ì² ìˆ˜ 30,000ì› ê²°ì œì™„ë£Œâ”‚â”‚
â”‚        â”‚  â”‚...                          â”‚â”‚
â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì£¼ìš” ìš”ì†Œ**:
- ì¢Œì¸¡ ì‚¬ì´ë“œë°”: ê³ ì • ë©”ë‰´
- í•µì‹¬ ì§€í‘œ: ì¹´ë“œ í˜•íƒœ, ì¦ê°ë¥  í‘œì‹œ
- ì°¨íŠ¸: Chart.js or Recharts
- ì•Œë¦¼: ë¹¨ê°„ ë°°ì§€, í´ë¦­ ì‹œ í•´ë‹¹ í˜ì´ì§€ ì´ë™

---

### 6.2.6 ê´€ë¦¬ì ìƒí’ˆ ë“±ë¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Admin Header                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë©”ë‰´ â”‚  ìƒí’ˆ ë“±ë¡                        â”‚
â”‚      â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”‚
â”‚      â”‚                                  â”‚
â”‚      â”‚  ê¸°ë³¸ ì •ë³´                        â”‚
â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚      â”‚  â”‚ ìƒí’ˆëª…*: [             ]â”‚    â”‚
â”‚      â”‚  â”‚ ìƒí’ˆë²ˆí˜¸: [ìë™ìƒì„±    ]â”‚    â”‚
â”‚      â”‚  â”‚ ì¹´í…Œê³ ë¦¬*: [ì„ íƒ â–¼    ]â”‚    â”‚
â”‚      â”‚  â”‚ ê³µê¸‰ì²˜: [ì„ íƒ â–¼       ]â”‚    â”‚
â”‚      â”‚  â”‚ íŒë§¤ê°€*: [         ]ì› â”‚    â”‚
â”‚      â”‚  â”‚ í• ì¸ê°€: [          ]ì› â”‚    â”‚
â”‚      â”‚  â”‚ [âœ“] ë…¸ì¶œ               â”‚    â”‚
â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚      â”‚                                  â”‚
â”‚      â”‚  ìƒí’ˆ ì´ë¯¸ì§€*                     â”‚
â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚      â”‚  â”‚ ë©”ì¸ ì´ë¯¸ì§€               â”‚    â”‚
â”‚      â”‚  â”‚ [ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì˜ì—­]     â”‚    â”‚
â”‚      â”‚  â”‚ or [íŒŒì¼ ì„ íƒ]           â”‚    â”‚
â”‚      â”‚  â”‚                          â”‚    â”‚
â”‚      â”‚  â”‚ ì¶”ê°€ ì´ë¯¸ì§€ (ìµœëŒ€ 9ê°œ)    â”‚    â”‚
â”‚      â”‚  â”‚ [+] [IMG] [IMG] ...      â”‚    â”‚
â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚      â”‚                                  â”‚
â”‚      â”‚  ì˜µì…˜ ì„¤ì •                        â”‚
â”‚      â”‚  [âœ“] ì˜µì…˜ ì‚¬ìš©                    â”‚
â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚      â”‚  â”‚ ì˜µì…˜ëª…: [ìƒ‰ìƒ      ]     â”‚    â”‚
â”‚      â”‚  â”‚ ì˜µì…˜ê°’: [ë¹¨ê°•,íŒŒë‘,ê²€ì •] â”‚    â”‚
â”‚      â”‚  â”‚ [+ ì˜µì…˜ ì¶”ê°€]            â”‚    â”‚
â”‚      â”‚  â”‚                          â”‚    â”‚
â”‚      â”‚  â”‚ ì˜µì…˜ ì¡°í•© (ìë™ ìƒì„±)     â”‚    â”‚
â”‚      â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚
â”‚      â”‚  â”‚ â”‚ë¹¨ê°•â”‚ì¶”ê°€ê¸ˆì•¡â”‚ì¬ê³   â”‚   â”‚    â”‚
â”‚      â”‚  â”‚ â”‚    â”‚ 0     â”‚ 100 â”‚   â”‚    â”‚
â”‚      â”‚  â”‚ â”‚íŒŒë‘â”‚ 0     â”‚ 50  â”‚   â”‚    â”‚
â”‚      â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚
â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚      â”‚                                  â”‚
â”‚      â”‚  ìƒì„¸ ì„¤ëª…*                       â”‚
â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚      â”‚  â”‚ [B][I][U] [ì´ë¯¸ì§€ ì‚½ì…]  â”‚    â”‚
â”‚      â”‚  â”‚                          â”‚    â”‚
â”‚      â”‚  â”‚ [ì—ë””í„° ì˜ì—­]            â”‚    â”‚
â”‚      â”‚  â”‚                          â”‚    â”‚
â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚      â”‚                                  â”‚
â”‚      â”‚  [ì„ì‹œ ì €ì¥] [ì €ì¥ ë° ë…¸ì¶œ]       â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì£¼ìš” ìš”ì†Œ**:
- í•„ìˆ˜ ì…ë ¥(*): ë¹¨ê°„ ë³„í‘œ
- ì´ë¯¸ì§€ ì—…ë¡œë“œ: ë“œë˜ê·¸ ì•¤ ë“œë¡­, í”„ë¦¬ë·°
- ì˜µì…˜: ë™ì  ì¶”ê°€/ì‚­ì œ, ì¡°í•© ìë™ ìƒì„±
- ì—ë””í„°: Tiptap, ì´ë¯¸ì§€ ì—…ë¡œë“œ ì§€ì›

---

## 6.3 ë°˜ì‘í˜• ë¸Œë ˆì´í¬í¬ì¸íŠ¸

```css
/* Mobile First */
@media (min-width: 640px)  { /* sm */ }
@media (min-width: 768px)  { /* md */ }
@media (min-width: 1024px) { /* lg */ }
@media (min-width: 1280px) { /* xl */ }
```

### ì£¼ìš” ë ˆì´ì•„ì›ƒ ë³€í™”

- **ìƒí’ˆ ê·¸ë¦¬ë“œ**:
  - Mobile: 2ì—´
  - Tablet: 3ì—´
  - Desktop: 4ì—´

- **ì‚¬ì´ë“œë°”**:
  - Mobile: í•˜ë‹¨ íƒ­ ë°”
  - Tablet: ê³ ì • ì‚¬ì´ë“œë°”
  - Desktop: í™•ì¥ ì‚¬ì´ë“œë°”

---

## 6.4 UI ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬

### ì¶”ì²œ ë¼ì´ë¸ŒëŸ¬ë¦¬

1. **shadcn/ui**: Tailwind ê¸°ë°˜, ì»¤ìŠ¤í„°ë§ˆì´ì§• ìš©ì´
2. **Radix UI**: ì ‘ê·¼ì„± ìš°ìˆ˜, Headless ì»´í¬ë„ŒíŠ¸
3. **Heroicons**: ì•„ì´ì½˜ ì„¸íŠ¸

### ì£¼ìš” ì»´í¬ë„ŒíŠ¸

- Button (primary, secondary, outline, ghost)
- Input / Textarea
- Select / Combobox
- Modal / Dialog
- Toast / Alert
- Tabs
- Card
- Badge
- Skeleton Loader

---

# Part 7: ì»´í¬ë„ŒíŠ¸ ì„¤ê³„

## 7.1 ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ êµ¬ì¡°

```
app/
â”œâ”€â”€ layout.tsx (Root Layout)
â”‚   â”œâ”€â”€ Header
â”‚   â”‚   â”œâ”€â”€ Logo
â”‚   â”‚   â”œâ”€â”€ Navigation
â”‚   â”‚   â”œâ”€â”€ SearchBar
â”‚   â”‚   â”œâ”€â”€ CartIcon (w/ badge)
â”‚   â”‚   â””â”€â”€ UserMenu
â”‚   â”œâ”€â”€ [children]
â”‚   â””â”€â”€ Footer
â”‚
â””â”€â”€ pages/
    â”œâ”€â”€ (home)/
    â”‚   â”œâ”€â”€ HeroBanner
    â”‚   â”œâ”€â”€ CategoryQuickLinks
    â”‚   â”œâ”€â”€ ProductGrid
    â”‚   â”‚   â””â”€â”€ ProductCard (ì¬ì‚¬ìš©)
    â”‚   â””â”€â”€ LiveBroadcastPreview
    â”‚
    â”œâ”€â”€ products/
    â”‚   â”œâ”€â”€ [id]/
    â”‚   â”‚   â”œâ”€â”€ ProductImageGallery
    â”‚   â”‚   â”œâ”€â”€ ProductInfo
    â”‚   â”‚   â”œâ”€â”€ OptionSelector
    â”‚   â”‚   â”œâ”€â”€ SelectedOptionsCart
    â”‚   â”‚   â”œâ”€â”€ PriceCalculator
    â”‚   â”‚   â””â”€â”€ ProductTabs
    â”‚   â”‚       â”œâ”€â”€ DescriptionTab
    â”‚   â”‚       â”œâ”€â”€ ShippingInfoTab
    â”‚   â”‚       â””â”€â”€ ReviewsTab
    â”‚   â”‚
    â”‚   â””â”€â”€ (list)/
    â”‚       â”œâ”€â”€ FilterSidebar
    â”‚       â”œâ”€â”€ ProductGrid
    â”‚       â””â”€â”€ Pagination
    â”‚
    â”œâ”€â”€ cart/
    â”‚   â”œâ”€â”€ CartItemList
    â”‚   â”‚   â””â”€â”€ CartItem (ì¬ì‚¬ìš©)
    â”‚   â”œâ”€â”€ OrderSummary (ì¬ì‚¬ìš©)
    â”‚   â””â”€â”€ RecommendedProducts
    â”‚
    â”œâ”€â”€ checkout/
    â”‚   â”œâ”€â”€ OrderProductList
    â”‚   â”œâ”€â”€ OrdererForm
    â”‚   â”œâ”€â”€ ShippingForm
    â”‚   â”‚   â””â”€â”€ PostalCodeSearch
    â”‚   â”œâ”€â”€ CouponSelector
    â”‚   â”œâ”€â”€ PaymentMethodSelector
    â”‚   â”œâ”€â”€ OrderSummary (ì¬ì‚¬ìš©)
    â”‚   â””â”€â”€ AgreementCheckboxes
    â”‚
    â””â”€â”€ admin/
        â”œâ”€â”€ Sidebar
        â”œâ”€â”€ dashboard/
        â”‚   â”œâ”€â”€ StatsCards
        â”‚   â”œâ”€â”€ SalesChart
        â”‚   â”œâ”€â”€ OrderStatusPie
        â”‚   â”œâ”€â”€ BestSellersList
        â”‚   â””â”€â”€ LowStockAlert
        â”‚
        â”œâ”€â”€ products/
        â”‚   â”œâ”€â”€ create/
        â”‚   â”‚   â”œâ”€â”€ BasicInfoForm
        â”‚   â”‚   â”œâ”€â”€ ImageUploader
        â”‚   â”‚   â”œâ”€â”€ OptionBuilder
        â”‚   â”‚   â””â”€â”€ RichTextEditor
        â”‚   â””â”€â”€ (list)/
        â”‚       â”œâ”€â”€ ProductTable
        â”‚       â””â”€â”€ BulkActions
        â”‚
        â””â”€â”€ orders/
            â”œâ”€â”€ OrderTable
            â”œâ”€â”€ OrderDetailModal
            â””â”€â”€ StatusBadge (ì¬ì‚¬ìš©)
```

---

## 7.2 ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ê³µí†µ ì»´í¬ë„ŒíŠ¸

### 7.2.1 ProductCard

**ìœ„ì¹˜**: `components/products/ProductCard.tsx`

**Props**:
```typescript
interface ProductCardProps {
  id: string;
  title: string;
  price: number;
  salePrice?: number;
  discountRate?: number;
  thumbnailUrl: string;
  isSoldout: boolean;
  badge?: 'new' | 'best' | 'sale';
  onClick?: () => void;
}
```

**ê¸°ëŠ¥**:
- ìƒí’ˆ ì´ë¯¸ì§€, ì œëª©, ê°€ê²© í‘œì‹œ
- í• ì¸ìœ¨ ë°°ì§€ (10% ì´ìƒ ì‹œ)
- í’ˆì ˆ ì˜¤ë²„ë ˆì´
- ì°œí•˜ê¸° ë²„íŠ¼ (ì•„ì´ì½˜)

**ì‚¬ìš© ìœ„ì¹˜**:
- í™ˆ í˜ì´ì§€ (ì‹ ìƒí’ˆ, ë² ìŠ¤íŠ¸)
- ìƒí’ˆ ëª©ë¡ í˜ì´ì§€
- ì¥ë°”êµ¬ë‹ˆ ì¶”ì²œ ìƒí’ˆ
- ê´€ë¦¬ì ìƒí’ˆ ì„ íƒ ëª¨ë‹¬

---

### 7.2.2 OrderSummary

**ìœ„ì¹˜**: `components/orders/OrderSummary.tsx`

**Props**:
```typescript
interface OrderSummaryProps {
  subtotal: number;
  shippingFee: number;
  couponDiscount: number;
  totalAmount: number;
  onCheckout?: () => void;
  checkoutButtonText?: string;
}
```

**ê¸°ëŠ¥**:
- ì£¼ë¬¸ ê¸ˆì•¡ ê³„ì‚° í‘œì‹œ
- í•­ëª©ë³„ ê¸ˆì•¡ (ìƒí’ˆ, ë°°ì†¡, í• ì¸)
- ìµœì¢… ê¸ˆì•¡ ê°•ì¡°
- ì£¼ë¬¸í•˜ê¸° ë²„íŠ¼ (ì˜µì…˜)

**ì‚¬ìš© ìœ„ì¹˜**:
- ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€
- ì£¼ë¬¸í•˜ê¸° í˜ì´ì§€
- ì£¼ë¬¸ ì™„ë£Œ í˜ì´ì§€
- ì£¼ë¬¸ ìƒì„¸ í˜ì´ì§€

---

### 7.2.3 StatusBadge

**ìœ„ì¹˜**: `components/common/StatusBadge.tsx`

**Props**:
```typescript
type OrderStatus =
  | 'pending_payment'
  | 'paid'
  | 'preparing'
  | 'shipped'
  | 'delivered'
  | 'cancelled';

interface StatusBadgeProps {
  status: OrderStatus;
  size?: 'sm' | 'md' | 'lg';
}
```

**ê¸°ëŠ¥**:
- ì£¼ë¬¸ ìƒíƒœë³„ ìƒ‰ìƒ ë°°ì§€
- í•œê¸€ í…ìŠ¤íŠ¸ ë§¤í•‘
- í¬ê¸° ë³€ê²½ ê°€ëŠ¥

**ìƒíƒœ ìƒ‰ìƒ**:
- pending_payment: gray
- paid: blue
- preparing: yellow
- shipped: purple
- delivered: green
- cancelled: red

**ì‚¬ìš© ìœ„ì¹˜**:
- ì£¼ë¬¸ ëª©ë¡
- ì£¼ë¬¸ ìƒì„¸
- ê´€ë¦¬ì ì£¼ë¬¸ í…Œì´ë¸”

---

### 7.2.4 ImageUploader

**ìœ„ì¹˜**: `components/common/ImageUploader.tsx`

**Props**:
```typescript
interface ImageUploaderProps {
  maxFiles?: number;
  maxSizeInMB?: number;
  onUpload: (files: File[]) => Promise<void>;
  onRemove: (index: number) => void;
  existingImages?: string[];
}
```

**ê¸°ëŠ¥**:
- ë“œë˜ê·¸ ì•¤ ë“œë¡­
- íŒŒì¼ ì„ íƒ (input)
- ë¯¸ë¦¬ë³´ê¸° (ì¸ë„¤ì¼)
- ìˆœì„œ ë³€ê²½ (ë“œë˜ê·¸)
- ì‚­ì œ ë²„íŠ¼
- íŒŒì¼ í¬ê¸°/í˜•ì‹ ê²€ì¦

**ì‚¬ìš© ìœ„ì¹˜**:
- ê´€ë¦¬ì ìƒí’ˆ ë“±ë¡
- ê´€ë¦¬ì ìƒí’ˆ ìˆ˜ì •
- ë¦¬ë·° ì´ë¯¸ì§€ ì—…ë¡œë“œ (í–¥í›„)

---

### 7.2.5 PostalCodeSearch

**ìœ„ì¹˜**: `components/common/PostalCodeSearch.tsx`

**Props**:
```typescript
interface PostalCodeSearchProps {
  onComplete: (data: {
    postalCode: string;
    address: string;
  }) => void;
}
```

**ê¸°ëŠ¥**:
- ë‹¤ìŒ ìš°í¸ë²ˆí˜¸ API ì—°ë™
- ëª¨ë‹¬ ë˜ëŠ” íŒì—…
- ì£¼ì†Œ ìë™ ì…ë ¥

**ì‚¬ìš© ìœ„ì¹˜**:
- ì£¼ë¬¸í•˜ê¸° í˜ì´ì§€ (ë°°ì†¡ì§€)
- ë§ˆì´í˜ì´ì§€ (ì£¼ì†Œ ìˆ˜ì •)

---

## 7.3 ìƒíƒœ ê´€ë¦¬ ì „ëµ

### 7.3.1 Zustand ìŠ¤í† ì–´ êµ¬ì¡°

```typescript
// stores/cartStore.ts
interface CartState {
  items: CartItem[];
  itemCount: number;
  fetchCart: () => Promise<void>;
  addItem: (productId: string, variantId: string, quantity: number) => Promise<void>;
  updateQuantity: (itemId: string, quantity: number) => Promise<void>;
  removeItem: (itemId: string) => Promise<void>;
  clearCart: () => void;
}

// stores/authStore.ts
interface AuthState {
  user: User | null;
  isAdmin: boolean;
  isLoading: boolean;
  login: (email: string, password: string) => Promise<void>;
  loginWithKakao: (code: string) => Promise<void>;
  logout: () => Promise<void>;
  fetchUser: () => Promise<void>;
}

// stores/uiStore.ts
interface UIState {
  isLoginModalOpen: boolean;
  isCouponModalOpen: boolean;
  toast: { message: string; type: 'success' | 'error' | 'info' } | null;
  openLoginModal: () => void;
  closeLoginModal: () => void;
  showToast: (message: string, type: 'success' | 'error' | 'info') => void;
}
```

### 7.3.2 ì„œë²„ ìƒíƒœ ê´€ë¦¬ (React Query)

```typescript
// hooks/useProducts.ts
export const useProducts = (params: ProductListParams) => {
  return useQuery({
    queryKey: ['products', params],
    queryFn: () => fetchProducts(params),
    staleTime: 5 * 60 * 1000, // 5ë¶„
  });
};

// hooks/useProduct.ts
export const useProduct = (productId: string) => {
  return useQuery({
    queryKey: ['product', productId],
    queryFn: () => fetchProduct(productId),
    enabled: !!productId,
  });
};

// hooks/useOrders.ts
export const useOrders = () => {
  return useQuery({
    queryKey: ['orders'],
    queryFn: fetchOrders,
  });
};

// hooks/useCreateOrder.ts
export const useCreateOrder = () => {
  const queryClient = useQueryClient();

  return useMutation({
    mutationFn: createOrder,
    onSuccess: () => {
      queryClient.invalidateQueries({ queryKey: ['cart'] });
      queryClient.invalidateQueries({ queryKey: ['orders'] });
    },
  });
};
```

---

## 7.4 ì„±ëŠ¥ ìµœì í™” ì „ëµ

### 7.4.1 ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…

```typescript
// app/admin/layout.tsx
const AdminLayout = dynamic(() => import('./AdminLayout'), {
  ssr: false,
  loading: () => <LoadingSpinner />,
});

// ê´€ë¦¬ì í˜ì´ì§€ëŠ” ë™ì  ì„í¬íŠ¸
const ProductCreatePage = dynamic(() => import('./products/create/page'), {
  ssr: false,
});
```

### 7.4.2 ì´ë¯¸ì§€ ìµœì í™”

```typescript
// Next.js Image ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©
import Image from 'next/image';

<Image
  src={thumbnailUrl}
  alt={title}
  width={300}
  height={300}
  placeholder="blur"
  blurDataURL="data:image/..."
  loading="lazy"
/>
```

### 7.4.3 Memoization

```typescript
// ë¹„ìš©ì´ í° ê³„ì‚°
const totalAmount = useMemo(() => {
  return items.reduce((sum, item) => sum + item.subtotal, 0);
}, [items]);

// ì½œë°± ë©”ëª¨í™”
const handleAddToCart = useCallback((productId: string) => {
  addItem(productId, selectedVariantId, quantity);
}, [selectedVariantId, quantity]);
```

### 7.4.4 Virtual Scrolling

```typescript
// ê¸´ ëª©ë¡ì€ react-window ì‚¬ìš©
import { FixedSizeList } from 'react-window';

<FixedSizeList
  height={600}
  itemCount={products.length}
  itemSize={120}
  width="100%"
>
  {ProductRow}
</FixedSizeList>
```

---

# Part 8: ì—ëŸ¬ ì²˜ë¦¬

## 8.1 ì—ëŸ¬ ì²˜ë¦¬ ì „ëµ

### 8.1.1 í´ë¼ì´ì–¸íŠ¸ ì—ëŸ¬ ì²˜ë¦¬

#### 1. API ì—ëŸ¬ ì²˜ë¦¬ (Axios Interceptor)

```typescript
// lib/axios.ts
import axios from 'axios';

const apiClient = axios.create({
  baseURL: '/api',
});

apiClient.interceptors.response.use(
  (response) => response,
  async (error) => {
    const status = error.response?.status;
    const code = error.response?.data?.error?.code;

    // ì¸ì¦ ì—ëŸ¬
    if (status === 401) {
      // í† í° ê°±ì‹  ì‹œë„
      try {
        await refreshToken();
        return apiClient.request(error.config);
      } catch {
        // ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬
        window.location.href = '/login';
      }
    }

    // ê¶Œí•œ ì—ëŸ¬
    if (status === 403) {
      toast.error('ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.');
      return Promise.reject(error);
    }

    // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì—ëŸ¬
    if (status === 400) {
      const message = getErrorMessage(code);
      toast.error(message);
      return Promise.reject(error);
    }

    // ì„œë²„ ì—ëŸ¬
    if (status >= 500) {
      toast.error('ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
      return Promise.reject(error);
    }

    return Promise.reject(error);
  }
);
```

#### 2. ì—ëŸ¬ ë©”ì‹œì§€ ë§¤í•‘

```typescript
// lib/errorMessages.ts
export const ERROR_MESSAGES: Record<string, string> = {
  // ì¸ì¦
  INVALID_CREDENTIALS: 'ì´ë©”ì¼ ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.',
  UNAUTHORIZED: 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.',
  FORBIDDEN: 'ì ‘ê·¼ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.',

  // ìƒí’ˆ
  PRODUCT_NOT_FOUND: 'ìƒí’ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.',
  OUT_OF_STOCK: 'ì¬ê³ ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤.',

  // ì£¼ë¬¸
  ORDER_NOT_FOUND: 'ì£¼ë¬¸ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.',
  ORDER_CANNOT_CANCEL: 'ì£¼ë¬¸ì„ ì·¨ì†Œí•  ìˆ˜ ì—†ëŠ” ìƒíƒœì…ë‹ˆë‹¤.',

  // ì¿ í°
  COUPON_NOT_FOUND: 'ì¿ í°ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.',
  COUPON_EXPIRED: 'ë§Œë£Œëœ ì¿ í°ì…ë‹ˆë‹¤.',
  COUPON_ALREADY_USED: 'ì´ë¯¸ ì‚¬ìš©í•œ ì¿ í°ì…ë‹ˆë‹¤.',
  INVALID_COUPON: 'ì¿ í° ì‚¬ìš© ì¡°ê±´ì„ ì¶©ì¡±í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.',

  // ê¸°íƒ€
  VALIDATION_ERROR: 'ì…ë ¥ ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.',
  INTERNAL_ERROR: 'ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.',
};

export const getErrorMessage = (code?: string): string => {
  if (!code) return 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
  return ERROR_MESSAGES[code] || ERROR_MESSAGES.INTERNAL_ERROR;
};
```

#### 3. React Error Boundary

```typescript
// components/ErrorBoundary.tsx
import { Component, ReactNode } from 'react';

interface Props {
  children: ReactNode;
  fallback?: ReactNode;
}

interface State {
  hasError: boolean;
  error?: Error;
}

export class ErrorBoundary extends Component<Props, State> {
  constructor(props: Props) {
    super(props);
    this.state = { hasError: false };
  }

  static getDerivedStateFromError(error: Error): State {
    return { hasError: true, error };
  }

  componentDidCatch(error: Error, errorInfo: any) {
    console.error('Error caught by boundary:', error, errorInfo);
    // ì—ëŸ¬ ë¡œê¹… ì„œë¹„ìŠ¤ ì „ì†¡ (Sentry ë“±)
  }

  render() {
    if (this.state.hasError) {
      return (
        this.props.fallback || (
          <div className="error-fallback">
            <h2>ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤</h2>
            <p>í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ê±°ë‚˜ ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.</p>
            <button onClick={() => window.location.reload()}>
              ìƒˆë¡œê³ ì¹¨
            </button>
          </div>
        )
      );
    }

    return this.props.children;
  }
}
```

---

### 8.1.2 ì„œë²„ ì—ëŸ¬ ì²˜ë¦¬

#### 1. API Route ì—ëŸ¬ í•¸ë“¤ëŸ¬

```typescript
// app/api/utils/errorHandler.ts
import { NextResponse } from 'next/server';

export class ApiError extends Error {
  constructor(
    public code: string,
    message: string,
    public statusCode: number = 400
  ) {
    super(message);
  }
}

export const errorHandler = (error: any) => {
  console.error('API Error:', error);

  if (error instanceof ApiError) {
    return NextResponse.json(
      {
        success: false,
        error: {
          code: error.code,
          message: error.message,
        },
      },
      { status: error.statusCode }
    );
  }

  // Supabase ì—ëŸ¬
  if (error.code?.startsWith('PGRST')) {
    return NextResponse.json(
      {
        success: false,
        error: {
          code: 'DATABASE_ERROR',
          message: 'ë°ì´í„°ë² ì´ìŠ¤ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.',
        },
      },
      { status: 500 }
    );
  }

  // ì•Œ ìˆ˜ ì—†ëŠ” ì—ëŸ¬
  return NextResponse.json(
    {
      success: false,
      error: {
        code: 'INTERNAL_ERROR',
        message: 'ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.',
      },
    },
    { status: 500 }
  );
};
```

#### 2. ì‚¬ìš© ì˜ˆì‹œ

```typescript
// app/api/orders/route.ts
import { errorHandler, ApiError } from '../utils/errorHandler';

export async function POST(request: Request) {
  try {
    const body = await request.json();

    // ì¬ê³  í™•ì¸
    const { data: variant } = await supabase
      .from('product_variants')
      .select('stock_quantity')
      .eq('id', variantId)
      .single();

    if (variant.stock_quantity < quantity) {
      throw new ApiError('OUT_OF_STOCK', 'ì¬ê³ ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤.', 400);
    }

    // ì£¼ë¬¸ ìƒì„± ë¡œì§...

    return NextResponse.json({
      success: true,
      data: order,
    });
  } catch (error) {
    return errorHandler(error);
  }
}
```

---

## 8.2 ì£¼ìš” ì—ëŸ¬ ì¼€ì´ìŠ¤ë³„ ì²˜ë¦¬

### 8.2.1 ì¬ê³  ë¶€ì¡±

**ë°œìƒ ì‹œì **: ì£¼ë¬¸ ìƒì„± ì‹œ

**ì²˜ë¦¬ ë°©ë²•**:
1. íŠ¸ëœì­ì…˜ ë¡¤ë°±
2. 400 ì—ëŸ¬ ë°˜í™˜ (OUT_OF_STOCK)
3. í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì¥ë°”êµ¬ë‹ˆë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
4. í’ˆì ˆ ìƒí’ˆ íšŒìƒ‰ ì²˜ë¦¬

---

### 8.2.2 ì¿ í° ì‚¬ìš© ë¶ˆê°€

**ë°œìƒ ì‹œì **: ì¿ í° ê²€ì¦ ì‹œ

**ì²˜ë¦¬ ë°©ë²•**:
1. ì¿ í° ê²€ì¦ ì‹¤íŒ¨ ì´ìœ  ë°˜í™˜ (ë§Œë£Œ, ì´ë¯¸ ì‚¬ìš©, ì¡°ê±´ ë¯¸ë‹¬)
2. í´ë¼ì´ì–¸íŠ¸ì—ì„œ ìƒì„¸ ë©”ì‹œì§€ í‘œì‹œ
3. ì¿ í° ì„ íƒ í•´ì œ

---

### 8.2.3 ê²°ì œ ê¸°í•œ ì´ˆê³¼

**ë°œìƒ ì‹œì **: ì£¼ë¬¸ ìƒì„± í›„ 24ì‹œê°„

**ì²˜ë¦¬ ë°©ë²•**:
1. BullMQ ì‘ì—…ìœ¼ë¡œ ìë™ ì²´í¬
2. ì£¼ë¬¸ ìƒíƒœ 'cancelled' ë³€ê²½
3. ì¬ê³  ë³µêµ¬
4. ì¿ í° ë³µêµ¬ (ì‚¬ìš©í–ˆë˜ ê²½ìš°)
5. ê³ ê°ì—ê²Œ ì•Œë¦¼ ë°œì†¡

---

### 8.2.4 ë™ì‹œ ì£¼ë¬¸ ì¶©ëŒ

**ë°œìƒ ì‹œì **: ë§ˆì§€ë§‰ ì¬ê³  ë™ì‹œ ì£¼ë¬¸

**ì²˜ë¦¬ ë°©ë²•**:
1. `FOR UPDATE` ë½ ì‚¬ìš©
2. ë¨¼ì € ë½ íšë“í•œ ìš”ì²­ë§Œ ì„±ê³µ
3. ëŠ¦ê²Œ ë„ì°©í•œ ìš”ì²­ì€ OUT_OF_STOCK ì—ëŸ¬

---

### 8.2.5 ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹¤íŒ¨

**ë°œìƒ ì‹œì **: ìƒí’ˆ ë“±ë¡/ìˆ˜ì • ì‹œ

**ì²˜ë¦¬ ë°©ë²•**:
1. Supabase Storage ì—ëŸ¬ catch
2. ì¬ì‹œë„ ë²„íŠ¼ í‘œì‹œ
3. ì´ë¯¸ ì—…ë¡œë“œëœ ì´ë¯¸ì§€ëŠ” ë³´ì¡´
4. ì‹¤íŒ¨í•œ ì´ë¯¸ì§€ë§Œ ë‹¤ì‹œ ì—…ë¡œë“œ

---

## 8.3 ìœ íš¨ì„± ê²€ì‚¬

### 8.3.1 í´ë¼ì´ì–¸íŠ¸ ê²€ì¦ (Zod)

```typescript
// lib/validations/orderSchema.ts
import { z } from 'zod';

export const orderSchema = z.object({
  items: z.array(
    z.object({
      product_id: z.string().uuid(),
      variant_id: z.string().uuid().optional(),
      quantity: z.number().int().min(1),
    })
  ).min(1, 'ì£¼ë¬¸ ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤.'),

  shipping: z.object({
    recipient_name: z.string().min(1, 'ìˆ˜ë ¹ì¸ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.'),
    recipient_phone: z.string().regex(
      /^\d{3}-\d{4}-\d{4}$/,
      'ì „í™”ë²ˆí˜¸ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.'
    ),
    postal_code: z.string().min(5, 'ìš°í¸ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.'),
    address: z.string().min(1, 'ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.'),
    address_detail: z.string().optional(),
    request: z.string().optional(),
  }),

  coupon_id: z.string().uuid().optional(),
  payment_method: z.enum(['bank_transfer', 'toss_payments']),
});

export type OrderInput = z.infer<typeof orderSchema>;
```

**ì‚¬ìš© ì˜ˆì‹œ**:

```typescript
// components/checkout/CheckoutForm.tsx
import { useForm } from 'react-hook-form';
import { zodResolver } from '@hookform/resolvers/zod';

const { register, handleSubmit, formState: { errors } } = useForm<OrderInput>({
  resolver: zodResolver(orderSchema),
});

const onSubmit = async (data: OrderInput) => {
  try {
    await createOrder(data);
    router.push(`/order-complete?order_id=${order.id}`);
  } catch (error) {
    // ì—ëŸ¬ ì²˜ë¦¬
  }
};
```

---

### 8.3.2 ì„œë²„ ê²€ì¦

```typescript
// app/api/orders/route.ts
import { orderSchema } from '@/lib/validations/orderSchema';

export async function POST(request: Request) {
  try {
    const body = await request.json();

    // Zod ê²€ì¦
    const result = orderSchema.safeParse(body);
    if (!result.success) {
      return NextResponse.json(
        {
          success: false,
          error: {
            code: 'VALIDATION_ERROR',
            message: 'ì…ë ¥ ì •ë³´ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.',
            details: result.error.flatten(),
          },
        },
        { status: 422 }
      );
    }

    // ì£¼ë¬¸ ìƒì„± ë¡œì§...

  } catch (error) {
    return errorHandler(error);
  }
}
```

---

# Part 9: ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸

## 9.1 ê°œë°œ ì°©ìˆ˜ ì „ ê²€ì¦

### âœ… ë¬¸ì„œ ì™„ì„±ë„

- [ ] í˜ì´ì§€ë³„ ìƒì„¸ ê¸°ëŠ¥ ëª…ì„¸ì„œ ì‘ì„± ì™„ë£Œ
- [ ] API ëª…ì„¸ì„œ ì‘ì„± ì™„ë£Œ (95+ endpoints)
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ DDL ì‘ì„± ì™„ë£Œ (20ê°œ í…Œì´ë¸”)
- [ ] ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨ ì‘ì„± ì™„ë£Œ (8ê°œ ì£¼ìš” í”Œë¡œìš°)
- [ ] ì™€ì´ì–´í”„ë ˆì„ ê°€ì´ë“œ ì‘ì„± ì™„ë£Œ
- [ ] ì»´í¬ë„ŒíŠ¸ ì„¤ê³„ ì™„ë£Œ
- [ ] ì—ëŸ¬ ì²˜ë¦¬ ì „ëµ ì •ì˜ ì™„ë£Œ

---

### âœ… ê¸°ìˆ  ìŠ¤íƒ í™•ì •

**Frontend**:
- [ ] Next.js 15 (App Router)
- [ ] React 19
- [ ] TypeScript
- [ ] Tailwind CSS
- [ ] shadcn/ui (ì»´í¬ë„ŒíŠ¸)
- [ ] Zustand (í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ)
- [ ] React Query (ì„œë²„ ìƒíƒœ)
- [ ] Zod (ê²€ì¦)
- [ ] React Hook Form (í¼)

**Backend**:
- [ ] Next.js API Routes
- [ ] Supabase (Database + Auth + Storage)
- [ ] BullMQ (ì‘ì—… í)
- [ ] Upstash Redis (ìºì‹œ)

**Testing**:
- [ ] Jest (ë‹¨ìœ„ í…ŒìŠ¤íŠ¸)
- [ ] Playwright (E2E í…ŒìŠ¤íŠ¸)

**Deployment**:
- [ ] Vercel

---

### âœ… ë°ì´í„°ë² ì´ìŠ¤ ì¤€ë¹„

- [ ] Supabase í”„ë¡œì íŠ¸ ìƒì„±
- [ ] í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (`.env.local`)
- [ ] DDL ì‹¤í–‰ (20ê°œ í…Œì´ë¸”)
- [ ] RLS ì •ì±… ì ìš©
- [ ] ì¸ë±ìŠ¤ ìƒì„±
- [ ] íŠ¸ë¦¬ê±° ìƒì„±
- [ ] ì´ˆê¸° ë°ì´í„° ì‚½ì… (ì¹´í…Œê³ ë¦¬, ê¸°ë³¸ ê³µê¸‰ì²˜)
- [ ] ê´€ë¦¬ì ê³„ì • ìƒì„±

---

### âœ… ê°œë°œ í™˜ê²½ ì„¤ì •

- [ ] Node.js ì„¤ì¹˜ (v20+)
- [ ] í”„ë¡œì íŠ¸ ìƒì„± (`create-next-app`)
- [ ] íŒ¨í‚¤ì§€ ì„¤ì¹˜
- [ ] ESLint / Prettier ì„¤ì •
- [ ] Git ì €ì¥ì†Œ ì´ˆê¸°í™”
- [ ] `.gitignore` ì„¤ì •
- [ ] í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿ ì‘ì„± (`.env.example`)

---

### âœ… ì™¸ë¶€ ì„œë¹„ìŠ¤ ì¤€ë¹„

- [ ] Kakao ê°œë°œì ê³„ì • ìƒì„±
- [ ] Kakao OAuth ì•± ë“±ë¡
- [ ] ë‹¤ìŒ ìš°í¸ë²ˆí˜¸ API í‚¤ ë°œê¸‰ (ë¬´ë£Œ)
- [ ] Supabase Storage ë²„í‚· ìƒì„± (product-images)
- [ ] Upstash Redis ê³„ì • ìƒì„±
- [ ] Toss Payments í…ŒìŠ¤íŠ¸ ê³„ì • (ì„ íƒ)

---

## 9.2 ê°œë°œ ë‹¨ê³„ë³„ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Phase 1: ê¸°ë°˜ êµ¬ì¶• (1ì£¼)

- [ ] Next.js í”„ë¡œì íŠ¸ êµ¬ì¡° ì„¤ì •
- [ ] Supabase í´ë¼ì´ì–¸íŠ¸ ì„¤ì •
- [ ] ê³µí†µ ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ (shadcn/ui)
- [ ] Layout ì»´í¬ë„ŒíŠ¸ (Header, Footer)
- [ ] ì¸ì¦ ì‹œìŠ¤í…œ (Supabase Auth)
- [ ] Zustand ìŠ¤í† ì–´ ì„¤ì •
- [ ] React Query ì„¤ì •
- [ ] ì—ëŸ¬ í•¸ë“¤ë§ ìœ í‹¸ë¦¬í‹°

---

### Phase 2: ì‚¬ìš©ì í˜ì´ì§€ (2ì£¼)

**Week 1**:
- [ ] í™ˆ í˜ì´ì§€
- [ ] ìƒí’ˆ ëª©ë¡ í˜ì´ì§€
- [ ] ìƒí’ˆ ìƒì„¸ í˜ì´ì§€
- [ ] ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€

**Week 2**:
- [ ] ì£¼ë¬¸í•˜ê¸° í˜ì´ì§€
- [ ] ì£¼ë¬¸ ì™„ë£Œ í˜ì´ì§€
- [ ] ì£¼ë¬¸ ë‚´ì—­ í˜ì´ì§€
- [ ] ë§ˆì´í˜ì´ì§€

---

### Phase 3: ê´€ë¦¬ì í˜ì´ì§€ (2ì£¼)

**Week 1**:
- [ ] ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
- [ ] ìƒí’ˆ ëª©ë¡
- [ ] ìƒí’ˆ ë“±ë¡
- [ ] ìƒí’ˆ ìˆ˜ì •

**Week 2**:
- [ ] ì£¼ë¬¸ ê´€ë¦¬
- [ ] ì…ê¸ˆ í™•ì¸
- [ ] ë°°ì†¡ ê´€ë¦¬
- [ ] ì¿ í° ê´€ë¦¬

---

### Phase 4: ê³ ê¸‰ ê¸°ëŠ¥ (1ì£¼)

- [ ] ë¼ì´ë¸Œ ë°©ì†¡ ì‹œìŠ¤í…œ (80% ì™„ì„±)
- [ ] ë°œì£¼ ê´€ë¦¬
- [ ] í†µê³„ ëŒ€ì‹œë³´ë“œ
- [ ] ê³ ê° ê´€ë¦¬

---

### Phase 5: í…ŒìŠ¤íŠ¸ ë° ìµœì í™” (1ì£¼)

- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
- [ ] E2E í…ŒìŠ¤íŠ¸ ì‘ì„±
- [ ] ì„±ëŠ¥ ìµœì í™” (ì´ë¯¸ì§€, ìºì‹±)
- [ ] ì ‘ê·¼ì„± ê²€ì‚¬
- [ ] í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸
- [ ] ëª¨ë°”ì¼ ë°˜ì‘í˜• í…ŒìŠ¤íŠ¸

---

### Phase 6: ë°°í¬ ì¤€ë¹„ (1ì£¼)

- [ ] Vercel ë°°í¬ ì„¤ì •
- [ ] í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (Production)
- [ ] ë„ë©”ì¸ ì—°ê²°
- [ ] SSL ì¸ì¦ì„œ ì„¤ì •
- [ ] ì—ëŸ¬ ëª¨ë‹ˆí„°ë§ (Sentry ë“±)
- [ ] ë¶„ì„ ë„êµ¬ (Google Analytics)
- [ ] SEO ìµœì í™” (ë©”íƒ€ íƒœê·¸, sitemap)
- [ ] ìš´ì˜ ë¬¸ì„œ ì‘ì„±

---

## 9.3 ê°œë°œ ê·œì¹™ ë° ì»¨ë²¤ì…˜

### 9.3.1 ì½”ë”© ì»¨ë²¤ì…˜

**íŒŒì¼ëª…**:
- ì»´í¬ë„ŒíŠ¸: PascalCase (`ProductCard.tsx`)
- ìœ í‹¸ë¦¬í‹°: camelCase (`formatPrice.ts`)
- íƒ€ì…: PascalCase (`types/Product.ts`)
- í˜ì´ì§€: kebab-case (`app/product-detail/page.tsx`)

**ë³€ìˆ˜ëª…**:
- ì»´í¬ë„ŒíŠ¸: PascalCase
- í•¨ìˆ˜/ë³€ìˆ˜: camelCase
- ìƒìˆ˜: UPPER_SNAKE_CASE
- íƒ€ì…/ì¸í„°í˜ì´ìŠ¤: PascalCase

**í•¨ìˆ˜**:
- ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬: `handleXxx`
- API í˜¸ì¶œ: `fetchXxx`, `createXxx`, `updateXxx`, `deleteXxx`
- Boolean ë°˜í™˜: `isXxx`, `hasXxx`, `canXxx`

---

### 9.3.2 Git ì»¨ë²¤ì…˜

**ë¸Œëœì¹˜ ì „ëµ**:
- `main`: í”„ë¡œë•ì…˜
- `develop`: ê°œë°œ
- `feature/xxx`: ê¸°ëŠ¥ ê°œë°œ
- `fix/xxx`: ë²„ê·¸ ìˆ˜ì •
- `refactor/xxx`: ë¦¬íŒ©í† ë§

**ì»¤ë°‹ ë©”ì‹œì§€**:
```
feat: ìƒí’ˆ ëª©ë¡ í˜ì´ì§€ êµ¬í˜„
fix: ì¥ë°”êµ¬ë‹ˆ ìˆ˜ëŸ‰ ë²„ê·¸ ìˆ˜ì •
refactor: API í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ ì •ë¦¬
docs: README ì—…ë°ì´íŠ¸
test: ì£¼ë¬¸ ìƒì„± E2E í…ŒìŠ¤íŠ¸ ì¶”ê°€
```

---

### 9.3.3 ì½”ë“œ ë¦¬ë·° ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ì¶©ì¡±
- [ ] ì—ëŸ¬ ì²˜ë¦¬ ì ì ˆ
- [ ] ìœ íš¨ì„± ê²€ì‚¬ ì¶”ê°€
- [ ] íƒ€ì… ì•ˆì •ì„± (TypeScript)
- [ ] ì„±ëŠ¥ ìµœì í™” (ë¶ˆí•„ìš”í•œ ë Œë”ë§ ì—†ìŒ)
- [ ] ì ‘ê·¼ì„± (ARIA ì†ì„±, í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜)
- [ ] ë°˜ì‘í˜• ë””ìì¸
- [ ] í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
- [ ] ì£¼ì„ ë° ë¬¸ì„œí™”

---

## 9.4 ìµœì¢… í™•ì¸ ì‚¬í•­

### ê¸°ëŠ¥ ì™„ì„±ë„

- [ ] ëª¨ë“  ì‚¬ìš©ì í˜ì´ì§€ ë™ì‘ í™•ì¸ (11í˜ì´ì§€)
- [ ] ëª¨ë“  ê´€ë¦¬ì í˜ì´ì§€ ë™ì‘ í™•ì¸ (25í˜ì´ì§€)
- [ ] ì£¼ìš” í”Œë¡œìš° í…ŒìŠ¤íŠ¸ (íšŒì›ê°€ì…, ì£¼ë¬¸, ì…ê¸ˆ í™•ì¸, ë°°ì†¡)
- [ ] ì—ëŸ¬ ì¼€ì´ìŠ¤ ê²€ì¦ (ì¬ê³  ë¶€ì¡±, ì¿ í° ë§Œë£Œ ë“±)
- [ ] ëª¨ë°”ì¼ ë°˜ì‘í˜• í™•ì¸
- [ ] í¬ë¡œìŠ¤ ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸ (Chrome, Safari, Firefox)

---

### ì„±ëŠ¥

- [ ] Lighthouse ìŠ¤ì½”ì–´ 90+ (Performance, Accessibility)
- [ ] First Contentful Paint < 1.5s
- [ ] ì´ë¯¸ì§€ ìµœì í™” (WebP, lazy loading)
- [ ] API ì‘ë‹µ ì‹œê°„ < 500ms (ìºì‹œ í™œìš©)

---

### ë³´ì•ˆ

- [ ] RLS ì •ì±… ì ìš© ë° í…ŒìŠ¤íŠ¸
- [ ] JWT í† í° ê²€ì¦
- [ ] SQL Injection ë°©ì–´
- [ ] XSS ë°©ì–´ (ì…ë ¥ê°’ sanitize)
- [ ] CSRF í† í° (í•„ìš” ì‹œ)
- [ ] í™˜ê²½ ë³€ìˆ˜ ë³´ì•ˆ (API í‚¤ ë“±)

---

### ë¬¸ì„œ

- [ ] README.md ì‘ì„±
- [ ] API ë¬¸ì„œ (Swagger or Postman)
- [ ] ë°°í¬ ê°€ì´ë“œ
- [ ] ìš´ì˜ ê°€ì´ë“œ (ê´€ë¦¬ììš©)
- [ ] íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ

---

## 9.5 í–¥í›„ ê°œì„  ì‚¬í•­

### ë‹¨ê¸° (3ê°œì›”)

- [ ] ë¦¬ë·° ì‹œìŠ¤í…œ êµ¬í˜„
- [ ] ì•Œë¦¼ ì‹œìŠ¤í…œ (Push, SMS)
- [ ] ìœ„ì‹œë¦¬ìŠ¤íŠ¸ ê¸°ëŠ¥
- [ ] ìƒí’ˆ ê²€ìƒ‰ ê°œì„  (ì „ë¬¸ ê²€ìƒ‰)
- [ ] ê´€ë¦¬ì í†µê³„ ê³ ë„í™”

---

### ì¤‘ê¸° (6ê°œì›”)

- [ ] Toss Payments ì—°ë™
- [ ] ë¼ì´ë¸Œ ë°©ì†¡ ì™„ì„± (100%)
- [ ] ëª¨ë°”ì¼ ì•± (React Native)
- [ ] ê³ ê° ë“±ê¸‰ ì‹œìŠ¤í…œ
- [ ] í¬ì¸íŠ¸/ì ë¦½ê¸ˆ ì‹œìŠ¤í…œ

---

### ì¥ê¸° (1ë…„)

- [ ] AI ì¶”ì²œ ì‹œìŠ¤í…œ
- [ ] êµ¬ë… ì„œë¹„ìŠ¤
- [ ] ë‹¤êµ­ì–´ ì§€ì›
- [ ] B2B ë„ë§¤ ê¸°ëŠ¥
- [ ] ì˜¤í”ˆ API ì œê³µ

---

# ğŸ“Œ ìµœì¢… ìš”ì•½

## ë³¸ ê¸°íšì„œ í™œìš© ë°©ë²•

1. **ê°œë°œ ì°©ìˆ˜ ì „**:
   - 9.1 ì²´í¬ë¦¬ìŠ¤íŠ¸ ëª¨ë‘ ì™„ë£Œ
   - íŒ€ì›ë“¤ê³¼ ë¬¸ì„œ ê³µìœ  ë° ë¦¬ë·°
   - ì§ˆë¬¸ ì‚¬í•­ ì •ë¦¬ ë° í•´ê²°

2. **ê°œë°œ ì¤‘**:
   - Part 2 (í˜ì´ì§€ë³„ ê¸°ëŠ¥)ì„ ì°¸ì¡°í•˜ì—¬ êµ¬í˜„
   - Part 4 (API ëª…ì„¸)ë¥¼ ì°¸ì¡°í•˜ì—¬ API ê°œë°œ
   - Part 5 (ì‹œí€€ìŠ¤)ë¥¼ ì°¸ì¡°í•˜ì—¬ í”Œë¡œìš° êµ¬í˜„
   - Part 7 (ì»´í¬ë„ŒíŠ¸)ë¥¼ ì°¸ì¡°í•˜ì—¬ ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸ ì„¤ê³„

3. **í…ŒìŠ¤íŠ¸ ì‹œ**:
   - Part 3 (ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤)ë¥¼ ì°¸ì¡°í•˜ì—¬ E2E í…ŒìŠ¤íŠ¸
   - Part 8 (ì—ëŸ¬ ì²˜ë¦¬)ë¥¼ ì°¸ì¡°í•˜ì—¬ ì—ëŸ¬ ì¼€ì´ìŠ¤ ê²€ì¦

4. **ë°°í¬ ì „**:
   - 9.4 ìµœì¢… í™•ì¸ ì‚¬í•­ ì²´í¬
   - ì„±ëŠ¥, ë³´ì•ˆ, ì ‘ê·¼ì„± ê²€ì¦

---

## ë¬¸ì„œ ìœ ì§€ë³´ìˆ˜

- ê¸°ëŠ¥ ë³€ê²½ ì‹œ í•´ë‹¹ ì„¹ì…˜ ì—…ë°ì´íŠ¸
- API ì¶”ê°€ ì‹œ 4.1 API ëª…ì„¸ì„œ ì—…ë°ì´íŠ¸
- DB ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‹œ 4.2 ì—…ë°ì´íŠ¸
- ë²„ì „ ê´€ë¦¬: `v1.0` (2025-11-04)

---

**ë¬¸ì„œ ì‘ì„± ì™„ë£Œì¼**: 2025-11-04
**ë‹¤ìŒ ì—…ë°ì´íŠ¸**: ê°œë°œ ì°©ìˆ˜ í›„ ë³€ê²½ ì‚¬í•­ ë°œìƒ ì‹œ

---

## ğŸ“ ë¬¸ì˜ ë° í”¼ë“œë°±

ë³¸ ê¸°íšì„œì— ëŒ€í•œ ì§ˆë¬¸ì´ë‚˜ í”¼ë“œë°±ì´ ìˆìœ¼ì‹œë©´ íŒ€ íšŒì˜ ë˜ëŠ” ì´ìŠˆ íŠ¸ë˜ì»¤ë¥¼ í†µí•´ ê³µìœ í•´ì£¼ì„¸ìš”.

**Happy Coding! ğŸš€**
